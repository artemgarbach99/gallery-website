var H0=Object.defineProperty;var W0=(n,e,t)=>e in n?H0(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var kh=(n,e,t)=>W0(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function G0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var bh={exports:{}},_l={},Nh={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function q0(){if(g_)return Le;g_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function E(W){return W===null||typeof W!="object"?null:(W=v&&W[v]||W["@@iterator"],typeof W=="function"?W:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,O={};function b(W,J,ge){this.props=W,this.context=J,this.refs=O,this.updater=ge||C}b.prototype.isReactComponent={},b.prototype.setState=function(W,J){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,J,"setState")},b.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function D(){}D.prototype=b.prototype;function R(W,J,ge){this.props=W,this.context=J,this.refs=O,this.updater=ge||C}var A=R.prototype=new D;A.constructor=R,S(A,b.prototype),A.isPureReactComponent=!0;var F=Array.isArray,H=Object.prototype.hasOwnProperty,X={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function I(W,J,ge){var be,Ne={},ce=null,we=null;if(J!=null)for(be in J.ref!==void 0&&(we=J.ref),J.key!==void 0&&(ce=""+J.key),J)H.call(J,be)&&!M.hasOwnProperty(be)&&(Ne[be]=J[be]);var Oe=arguments.length-2;if(Oe===1)Ne.children=ge;else if(1<Oe){for(var qe=Array(Oe),It=0;It<Oe;It++)qe[It]=arguments[It+2];Ne.children=qe}if(W&&W.defaultProps)for(be in Oe=W.defaultProps,Oe)Ne[be]===void 0&&(Ne[be]=Oe[be]);return{$$typeof:n,type:W,key:ce,ref:we,props:Ne,_owner:X.current}}function P(W,J){return{$$typeof:n,type:W.type,key:J,ref:W.ref,props:W.props,_owner:W._owner}}function L(W){return typeof W=="object"&&W!==null&&W.$$typeof===n}function V(W){var J={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(ge){return J[ge]})}var $=/\/+/g;function N(W,J){return typeof W=="object"&&W!==null&&W.key!=null?V(""+W.key):J.toString(36)}function ue(W,J,ge,be,Ne){var ce=typeof W;(ce==="undefined"||ce==="boolean")&&(W=null);var we=!1;if(W===null)we=!0;else switch(ce){case"string":case"number":we=!0;break;case"object":switch(W.$$typeof){case n:case e:we=!0}}if(we)return we=W,Ne=Ne(we),W=be===""?"."+N(we,0):be,F(Ne)?(ge="",W!=null&&(ge=W.replace($,"$&/")+"/"),ue(Ne,J,ge,"",function(It){return It})):Ne!=null&&(L(Ne)&&(Ne=P(Ne,ge+(!Ne.key||we&&we.key===Ne.key?"":(""+Ne.key).replace($,"$&/")+"/")+W)),J.push(Ne)),1;if(we=0,be=be===""?".":be+":",F(W))for(var Oe=0;Oe<W.length;Oe++){ce=W[Oe];var qe=be+N(ce,Oe);we+=ue(ce,J,ge,qe,Ne)}else if(qe=E(W),typeof qe=="function")for(W=qe.call(W),Oe=0;!(ce=W.next()).done;)ce=ce.value,qe=be+N(ce,Oe++),we+=ue(ce,J,ge,qe,Ne);else if(ce==="object")throw J=String(W),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return we}function _e(W,J,ge){if(W==null)return W;var be=[],Ne=0;return ue(W,be,"","",function(ce){return J.call(ge,ce,Ne++)}),be}function ve(W){if(W._status===-1){var J=W._result;J=J(),J.then(function(ge){(W._status===0||W._status===-1)&&(W._status=1,W._result=ge)},function(ge){(W._status===0||W._status===-1)&&(W._status=2,W._result=ge)}),W._status===-1&&(W._status=0,W._result=J)}if(W._status===1)return W._result.default;throw W._result}var Pe={current:null},re={transition:null},le={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:re,ReactCurrentOwner:X};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:_e,forEach:function(W,J,ge){_e(W,function(){J.apply(this,arguments)},ge)},count:function(W){var J=0;return _e(W,function(){J++}),J},toArray:function(W){return _e(W,function(J){return J})||[]},only:function(W){if(!L(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},Le.Component=b,Le.Fragment=t,Le.Profiler=s,Le.PureComponent=R,Le.StrictMode=r,Le.Suspense=f,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,Le.act=oe,Le.cloneElement=function(W,J,ge){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var be=S({},W.props),Ne=W.key,ce=W.ref,we=W._owner;if(J!=null){if(J.ref!==void 0&&(ce=J.ref,we=X.current),J.key!==void 0&&(Ne=""+J.key),W.type&&W.type.defaultProps)var Oe=W.type.defaultProps;for(qe in J)H.call(J,qe)&&!M.hasOwnProperty(qe)&&(be[qe]=J[qe]===void 0&&Oe!==void 0?Oe[qe]:J[qe])}var qe=arguments.length-2;if(qe===1)be.children=ge;else if(1<qe){Oe=Array(qe);for(var It=0;It<qe;It++)Oe[It]=arguments[It+2];be.children=Oe}return{$$typeof:n,type:W.type,key:Ne,ref:ce,props:be,_owner:we}},Le.createContext=function(W){return W={$$typeof:u,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:a,_context:W},W.Consumer=W},Le.createElement=I,Le.createFactory=function(W){var J=I.bind(null,W);return J.type=W,J},Le.createRef=function(){return{current:null}},Le.forwardRef=function(W){return{$$typeof:d,render:W}},Le.isValidElement=L,Le.lazy=function(W){return{$$typeof:g,_payload:{_status:-1,_result:W},_init:ve}},Le.memo=function(W,J){return{$$typeof:p,type:W,compare:J===void 0?null:J}},Le.startTransition=function(W){var J=re.transition;re.transition={};try{W()}finally{re.transition=J}},Le.unstable_act=oe,Le.useCallback=function(W,J){return Pe.current.useCallback(W,J)},Le.useContext=function(W){return Pe.current.useContext(W)},Le.useDebugValue=function(){},Le.useDeferredValue=function(W){return Pe.current.useDeferredValue(W)},Le.useEffect=function(W,J){return Pe.current.useEffect(W,J)},Le.useId=function(){return Pe.current.useId()},Le.useImperativeHandle=function(W,J,ge){return Pe.current.useImperativeHandle(W,J,ge)},Le.useInsertionEffect=function(W,J){return Pe.current.useInsertionEffect(W,J)},Le.useLayoutEffect=function(W,J){return Pe.current.useLayoutEffect(W,J)},Le.useMemo=function(W,J){return Pe.current.useMemo(W,J)},Le.useReducer=function(W,J,ge){return Pe.current.useReducer(W,J,ge)},Le.useRef=function(W){return Pe.current.useRef(W)},Le.useState=function(W){return Pe.current.useState(W)},Le.useSyncExternalStore=function(W,J,ge){return Pe.current.useSyncExternalStore(W,J,ge)},Le.useTransition=function(){return Pe.current.useTransition()},Le.version="18.3.1",Le}var y_;function Ad(){return y_||(y_=1,Nh.exports=q0()),Nh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function K0(){if(__)return _l;__=1;var n=Ad(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,p){var g,v={},E=null,C=null;p!==void 0&&(E=""+p),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(C=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(v[g]=f[g]);if(d&&d.defaultProps)for(g in f=d.defaultProps,f)v[g]===void 0&&(v[g]=f[g]);return{$$typeof:e,type:d,key:E,ref:C,props:v,_owner:s.current}}return _l.Fragment=t,_l.jsx=u,_l.jsxs=u,_l}var v_;function Q0(){return v_||(v_=1,bh.exports=K0()),bh.exports}var x=Q0(),z=Ad();const Be=G0(z);var Pc={},Oh={exports:{}},ln={},Lh={exports:{}},Dh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function Y0(){return w_||(w_=1,function(n){function e(re,le){var oe=re.length;re.push(le);e:for(;0<oe;){var W=oe-1>>>1,J=re[W];if(0<s(J,le))re[W]=le,re[oe]=J,oe=W;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var le=re[0],oe=re.pop();if(oe!==le){re[0]=oe;e:for(var W=0,J=re.length,ge=J>>>1;W<ge;){var be=2*(W+1)-1,Ne=re[be],ce=be+1,we=re[ce];if(0>s(Ne,oe))ce<J&&0>s(we,Ne)?(re[W]=we,re[ce]=oe,W=ce):(re[W]=Ne,re[be]=oe,W=be);else if(ce<J&&0>s(we,oe))re[W]=we,re[ce]=oe,W=ce;else break e}}return le}function s(re,le){var oe=re.sortIndex-le.sortIndex;return oe!==0?oe:re.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],p=[],g=1,v=null,E=3,C=!1,S=!1,O=!1,b=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(re){for(var le=t(p);le!==null;){if(le.callback===null)r(p);else if(le.startTime<=re)r(p),le.sortIndex=le.expirationTime,e(f,le);else break;le=t(p)}}function F(re){if(O=!1,A(re),!S)if(t(f)!==null)S=!0,ve(H);else{var le=t(p);le!==null&&Pe(F,le.startTime-re)}}function H(re,le){S=!1,O&&(O=!1,D(I),I=-1),C=!0;var oe=E;try{for(A(le),v=t(f);v!==null&&(!(v.expirationTime>le)||re&&!V());){var W=v.callback;if(typeof W=="function"){v.callback=null,E=v.priorityLevel;var J=W(v.expirationTime<=le);le=n.unstable_now(),typeof J=="function"?v.callback=J:v===t(f)&&r(f),A(le)}else r(f);v=t(f)}if(v!==null)var ge=!0;else{var be=t(p);be!==null&&Pe(F,be.startTime-le),ge=!1}return ge}finally{v=null,E=oe,C=!1}}var X=!1,M=null,I=-1,P=5,L=-1;function V(){return!(n.unstable_now()-L<P)}function $(){if(M!==null){var re=n.unstable_now();L=re;var le=!0;try{le=M(!0,re)}finally{le?N():(X=!1,M=null)}}else X=!1}var N;if(typeof R=="function")N=function(){R($)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,_e=ue.port2;ue.port1.onmessage=$,N=function(){_e.postMessage(null)}}else N=function(){b($,0)};function ve(re){M=re,X||(X=!0,N())}function Pe(re,le){I=b(function(){re(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){S||C||(S=!0,ve(H))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(re){switch(E){case 1:case 2:case 3:var le=3;break;default:le=E}var oe=E;E=le;try{return re()}finally{E=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,le){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var oe=E;E=re;try{return le()}finally{E=oe}},n.unstable_scheduleCallback=function(re,le,oe){var W=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?W+oe:W):oe=W,re){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=oe+J,re={id:g++,callback:le,priorityLevel:re,startTime:oe,expirationTime:J,sortIndex:-1},oe>W?(re.sortIndex=oe,e(p,re),t(f)===null&&re===t(p)&&(O?(D(I),I=-1):O=!0,Pe(F,oe-W))):(re.sortIndex=J,e(f,re),S||C||(S=!0,ve(H))),re},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(re){var le=E;return function(){var oe=E;E=le;try{return re.apply(this,arguments)}finally{E=oe}}}}(Dh)),Dh}var E_;function X0(){return E_||(E_=1,Lh.exports=Y0()),Lh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function J0(){if(T_)return ln;T_=1;var n=Ad(),e=X0();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function E(i){return f.call(v,i)?!0:f.call(g,i)?!1:p.test(i)?v[i]=!0:(g[i]=!0,!1)}function C(i,o,l,h){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function S(i,o,l,h){if(o===null||typeof o>"u"||C(i,o,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function O(i,o,l,h,m,_,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=_,this.removeEmptyString=T}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){b[i]=new O(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];b[o]=new O(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){b[i]=new O(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){b[i]=new O(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){b[i]=new O(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){b[i]=new O(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){b[i]=new O(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){b[i]=new O(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){b[i]=new O(i,5,!1,i.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function R(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(D,R);b[o]=new O(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(D,R);b[o]=new O(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(D,R);b[o]=new O(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){b[i]=new O(i,1,!1,i.toLowerCase(),null,!1,!1)}),b.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){b[i]=new O(i,1,!1,i.toLowerCase(),null,!0,!0)});function A(i,o,l,h){var m=b.hasOwnProperty(o)?b[o]:null;(m!==null?m.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(S(o,l,m,h)&&(l=null),h||m===null?E(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):m.mustUseProperty?i[m.propertyName]=l===null?m.type===3?!1:"":l:(o=m.attributeName,h=m.attributeNamespace,l===null?i.removeAttribute(o):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,h?i.setAttributeNS(h,o,l):i.setAttribute(o,l))))}var F=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),X=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),V=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),_e=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),Pe=Symbol.for("react.offscreen"),re=Symbol.iterator;function le(i){return i===null||typeof i!="object"?null:(i=re&&i[re]||i["@@iterator"],typeof i=="function"?i:null)}var oe=Object.assign,W;function J(i){if(W===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);W=o&&o[1]||""}return`
`+W+i}var ge=!1;function be(i,o){if(!i||ge)return"";ge=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Q){var h=Q}Reflect.construct(i,[],o)}else{try{o.call()}catch(Q){h=Q}i.call(o.prototype)}else{try{throw Error()}catch(Q){h=Q}i()}}catch(Q){if(Q&&h&&typeof Q.stack=="string"){for(var m=Q.stack.split(`
`),_=h.stack.split(`
`),T=m.length-1,j=_.length-1;1<=T&&0<=j&&m[T]!==_[j];)j--;for(;1<=T&&0<=j;T--,j--)if(m[T]!==_[j]){if(T!==1||j!==1)do if(T--,j--,0>j||m[T]!==_[j]){var U=`
`+m[T].replace(" at new "," at ");return i.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",i.displayName)),U}while(1<=T&&0<=j);break}}}finally{ge=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?J(i):""}function Ne(i){switch(i.tag){case 5:return J(i.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return i=be(i.type,!1),i;case 11:return i=be(i.type.render,!1),i;case 1:return i=be(i.type,!0),i;default:return""}}function ce(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case X:return"Portal";case P:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case ue:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case V:return(i.displayName||"Context")+".Consumer";case L:return(i._context.displayName||"Context")+".Provider";case $:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case _e:return o=i.displayName||null,o!==null?o:ce(i.type)||"Memo";case ve:o=i._payload,i=i._init;try{return ce(i(o))}catch{}}return null}function we(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(o);case 8:return o===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Oe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function qe(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function It(i){var o=qe(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),h=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,_=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(T){h=""+T,_.call(this,T)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Nr(i){i._valueTracker||(i._valueTracker=It(i))}function Qs(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),h="";return i&&(h=qe(i)?i.checked?"true":"false":i.value),i=h,i!==l?(o.setValue(i),!0):!1}function ci(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function is(i,o){var l=o.checked;return oe({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Ys(i,o){var l=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;l=Oe(o.value!=null?o.value:l),i._wrapperState={initialChecked:h,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ia(i,o){o=o.checked,o!=null&&A(i,"checked",o,!1)}function Ca(i,o){Ia(i,o);var l=Oe(o.value),h=o.type;if(l!=null)h==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Xs(i,o.type,l):o.hasOwnProperty("defaultValue")&&Xs(i,o.type,Oe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function du(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function Xs(i,o,l){(o!=="number"||ci(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Or=Array.isArray;function Lr(i,o,l,h){if(i=i.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=o.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&h&&(i[l].defaultSelected=!0)}else{for(l=""+Oe(l),o=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,h&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function Pa(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Js(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(Or(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:Oe(l)}}function Zs(i,o){var l=Oe(o.value),h=Oe(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),h!=null&&(i.defaultValue=""+h)}function xa(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function gt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?gt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Dr,Ra=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,h,m){MSApp.execUnsafeLocalFunction(function(){return i(o,l,h,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Dr=Dr||document.createElement("div"),Dr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Dr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function di(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var ss={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},os=["Webkit","ms","Moz","O"];Object.keys(ss).forEach(function(i){os.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),ss[o]=ss[i]})});function Aa(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||ss.hasOwnProperty(i)&&ss[i]?(""+o).trim():o+"px"}function ka(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var h=l.indexOf("--")===0,m=Aa(l,o[l],h);l==="float"&&(l="cssFloat"),h?i.setProperty(l,m):i[l]=m}}var ba=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Na(i,o){if(o){if(ba[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Oa(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var as=null;function eo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var to=null,In=null,cr=null;function no(i){if(i=rl(i)){if(typeof to!="function")throw Error(t(280));var o=i.stateNode;o&&(o=Uu(o),to(i.stateNode,i.type,o))}}function dr(i){In?cr?cr.push(i):cr=[i]:In=i}function La(){if(In){var i=In,o=cr;if(cr=In=null,no(i),o)for(i=0;i<o.length;i++)no(o[i])}}function ls(i,o){return i(o)}function Da(){}var Mr=!1;function Ma(i,o,l){if(Mr)return i(o,l);Mr=!0;try{return ls(i,o,l)}finally{Mr=!1,(In!==null||cr!==null)&&(Da(),La())}}function ct(i,o){var l=i.stateNode;if(l===null)return null;var h=Uu(l);if(h===null)return null;l=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var ro=!1;if(d)try{var $n={};Object.defineProperty($n,"passive",{get:function(){ro=!0}}),window.addEventListener("test",$n,$n),window.removeEventListener("test",$n,$n)}catch{ro=!1}function us(i,o,l,h,m,_,T,j,U){var Q=Array.prototype.slice.call(arguments,3);try{o.apply(l,Q)}catch(te){this.onError(te)}}var cs=!1,io=null,Un=!1,Va=null,rf={onError:function(i){cs=!0,io=i}};function so(i,o,l,h,m,_,T,j,U){cs=!1,io=null,us.apply(rf,arguments)}function fu(i,o,l,h,m,_,T,j,U){if(so.apply(this,arguments),cs){if(cs){var Q=io;cs=!1,io=null}else throw Error(t(198));Un||(Un=!0,Va=Q)}}function zn(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function ds(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Bn(i){if(zn(i)!==i)throw Error(t(188))}function hu(i){var o=i.alternate;if(!o){if(o=zn(i),o===null)throw Error(t(188));return o!==i?null:i}for(var l=i,h=o;;){var m=l.return;if(m===null)break;var _=m.alternate;if(_===null){if(h=m.return,h!==null){l=h;continue}break}if(m.child===_.child){for(_=m.child;_;){if(_===l)return Bn(m),i;if(_===h)return Bn(m),o;_=_.sibling}throw Error(t(188))}if(l.return!==h.return)l=m,h=_;else{for(var T=!1,j=m.child;j;){if(j===l){T=!0,l=m,h=_;break}if(j===h){T=!0,h=m,l=_;break}j=j.sibling}if(!T){for(j=_.child;j;){if(j===l){T=!0,l=_,h=m;break}if(j===h){T=!0,h=_,l=m;break}j=j.sibling}if(!T)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:o}function ja(i){return i=hu(i),i!==null?oo(i):null}function oo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=oo(i);if(o!==null)return o;i=i.sibling}return null}var ao=e.unstable_scheduleCallback,Fa=e.unstable_cancelCallback,pu=e.unstable_shouldYield,sf=e.unstable_requestPaint,Ke=e.unstable_now,mu=e.unstable_getCurrentPriorityLevel,fs=e.unstable_ImmediatePriority,fi=e.unstable_UserBlockingPriority,Cn=e.unstable_NormalPriority,$a=e.unstable_LowPriority,gu=e.unstable_IdlePriority,hs=null,fn=null;function yu(i){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(hs,i,void 0,(i.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:vu,Ua=Math.log,_u=Math.LN2;function vu(i){return i>>>=0,i===0?32:31-(Ua(i)/_u|0)|0}var lo=64,uo=4194304;function hi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ps(i,o){var l=i.pendingLanes;if(l===0)return 0;var h=0,m=i.suspendedLanes,_=i.pingedLanes,T=l&268435455;if(T!==0){var j=T&~m;j!==0?h=hi(j):(_&=T,_!==0&&(h=hi(_)))}else T=l&~m,T!==0?h=hi(T):_!==0&&(h=hi(_));if(h===0)return 0;if(o!==0&&o!==h&&!(o&m)&&(m=h&-h,_=o&-o,m>=_||m===16&&(_&4194240)!==0))return o;if(h&4&&(h|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=h;0<o;)l=31-Kt(o),m=1<<l,h|=i[l],o&=~m;return h}function of(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vr(i,o){for(var l=i.suspendedLanes,h=i.pingedLanes,m=i.expirationTimes,_=i.pendingLanes;0<_;){var T=31-Kt(_),j=1<<T,U=m[T];U===-1?(!(j&l)||j&h)&&(m[T]=of(j,o)):U<=o&&(i.expiredLanes|=j),_&=~j}}function hn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function ms(){var i=lo;return lo<<=1,!(lo&4194240)&&(lo=64),i}function pi(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function mi(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Kt(o),i[o]=l}function Ge(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<l;){var m=31-Kt(l),_=1<<m;o[m]=0,h[m]=-1,i[m]=-1,l&=~_}}function gi(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var h=31-Kt(l),m=1<<h;m&o|i[h]&o&&(i[h]|=o),l&=~m}}var Ve=0;function yi(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var wu,co,Eu,Tu,Su,za=!1,fr=[],bt=null,Hn=null,Wn=null,_i=new Map,Pn=new Map,hr=[],af="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Iu(i,o){switch(i){case"focusin":case"focusout":bt=null;break;case"dragenter":case"dragleave":Hn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":_i.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pn.delete(o.pointerId)}}function en(i,o,l,h,m,_){return i===null||i.nativeEvent!==_?(i={blockedOn:o,domEventName:l,eventSystemFlags:h,nativeEvent:_,targetContainers:[m]},o!==null&&(o=rl(o),o!==null&&co(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function lf(i,o,l,h,m){switch(o){case"focusin":return bt=en(bt,i,o,l,h,m),!0;case"dragenter":return Hn=en(Hn,i,o,l,h,m),!0;case"mouseover":return Wn=en(Wn,i,o,l,h,m),!0;case"pointerover":var _=m.pointerId;return _i.set(_,en(_i.get(_)||null,i,o,l,h,m)),!0;case"gotpointercapture":return _=m.pointerId,Pn.set(_,en(Pn.get(_)||null,i,o,l,h,m)),!0}return!1}function Cu(i){var o=ws(i.target);if(o!==null){var l=zn(o);if(l!==null){if(o=l.tag,o===13){if(o=ds(l),o!==null){i.blockedOn=o,Su(i.priority,function(){Eu(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function jr(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=fo(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);as=h,l.target.dispatchEvent(h),as=null}else return o=rl(l),o!==null&&co(o),i.blockedOn=l,!1;o.shift()}return!0}function gs(i,o,l){jr(i)&&l.delete(o)}function Pu(){za=!1,bt!==null&&jr(bt)&&(bt=null),Hn!==null&&jr(Hn)&&(Hn=null),Wn!==null&&jr(Wn)&&(Wn=null),_i.forEach(gs),Pn.forEach(gs)}function Gn(i,o){i.blockedOn===o&&(i.blockedOn=null,za||(za=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Pu)))}function qn(i){function o(m){return Gn(m,i)}if(0<fr.length){Gn(fr[0],i);for(var l=1;l<fr.length;l++){var h=fr[l];h.blockedOn===i&&(h.blockedOn=null)}}for(bt!==null&&Gn(bt,i),Hn!==null&&Gn(Hn,i),Wn!==null&&Gn(Wn,i),_i.forEach(o),Pn.forEach(o),l=0;l<hr.length;l++)h=hr[l],h.blockedOn===i&&(h.blockedOn=null);for(;0<hr.length&&(l=hr[0],l.blockedOn===null);)Cu(l),l.blockedOn===null&&hr.shift()}var Fr=F.ReactCurrentBatchConfig,vi=!0;function et(i,o,l,h){var m=Ve,_=Fr.transition;Fr.transition=null;try{Ve=1,Ba(i,o,l,h)}finally{Ve=m,Fr.transition=_}}function uf(i,o,l,h){var m=Ve,_=Fr.transition;Fr.transition=null;try{Ve=4,Ba(i,o,l,h)}finally{Ve=m,Fr.transition=_}}function Ba(i,o,l,h){if(vi){var m=fo(i,o,l,h);if(m===null)wf(i,o,h,ys,l),Iu(i,h);else if(lf(m,i,o,l,h))h.stopPropagation();else if(Iu(i,h),o&4&&-1<af.indexOf(i)){for(;m!==null;){var _=rl(m);if(_!==null&&wu(_),_=fo(i,o,l,h),_===null&&wf(i,o,h,ys,l),_===m)break;m=_}m!==null&&h.stopPropagation()}else wf(i,o,h,null,l)}}var ys=null;function fo(i,o,l,h){if(ys=null,i=eo(h),i=ws(i),i!==null)if(o=zn(i),o===null)i=null;else if(l=o.tag,l===13){if(i=ds(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return ys=i,null}function Ha(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mu()){case fs:return 1;case fi:return 4;case Cn:case $a:return 16;case gu:return 536870912;default:return 16}default:return 16}}var pn=null,ho=null,tn=null;function Wa(){if(tn)return tn;var i,o=ho,l=o.length,h,m="value"in pn?pn.value:pn.textContent,_=m.length;for(i=0;i<l&&o[i]===m[i];i++);var T=l-i;for(h=1;h<=T&&o[l-h]===m[_-h];h++);return tn=m.slice(i,1<h?1-h:void 0)}function po(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function pr(){return!0}function Ga(){return!1}function Nt(i){function o(l,h,m,_,T){this._reactName=l,this._targetInst=m,this.type=h,this.nativeEvent=_,this.target=T,this.currentTarget=null;for(var j in i)i.hasOwnProperty(j)&&(l=i[j],this[j]=l?l(_):_[j]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?pr:Ga,this.isPropagationStopped=Ga,this}return oe(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=pr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=pr)},persist:function(){},isPersistent:pr}),o}var Kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mo=Nt(Kn),mr=oe({},Kn,{view:0,detail:0}),cf=Nt(mr),go,$r,wi,_s=oe({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==wi&&(wi&&i.type==="mousemove"?(go=i.screenX-wi.screenX,$r=i.screenY-wi.screenY):$r=go=0,wi=i),go)},movementY:function(i){return"movementY"in i?i.movementY:$r}}),yo=Nt(_s),qa=oe({},_s,{dataTransfer:0}),xu=Nt(qa),_o=oe({},mr,{relatedTarget:0}),vo=Nt(_o),Ru=oe({},Kn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ur=Nt(Ru),Au=oe({},Kn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ku=Nt(Au),bu=oe({},Kn,{data:0}),Ka=Nt(bu),wo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ou(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Nu[i])?!!o[i]:!1}function gr(){return Ou}var c=oe({},mr,{key:function(i){if(i.key){var o=wo[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=po(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Qt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(i){return i.type==="keypress"?po(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?po(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),y=Nt(c),w=oe({},_s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k=Nt(w),G=oe({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr}),Y=Nt(G),ae=oe({},Kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),We=Nt(ae),_t=oe({},_s,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Fe=Nt(_t),Ct=[9,13,27,32],ht=d&&"CompositionEvent"in window,xn=null;d&&"documentMode"in document&&(xn=document.documentMode);var mn=d&&"TextEvent"in window&&!xn,vs=d&&(!ht||xn&&8<xn&&11>=xn),Eo=" ",cg=!1;function dg(i,o){switch(i){case"keyup":return Ct.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var To=!1;function zS(i,o){switch(i){case"compositionend":return fg(o);case"keypress":return o.which!==32?null:(cg=!0,Eo);case"textInput":return i=o.data,i===Eo&&cg?null:i;default:return null}}function BS(i,o){if(To)return i==="compositionend"||!ht&&dg(i,o)?(i=Wa(),tn=ho=pn=null,To=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return vs&&o.locale!=="ko"?null:o.data;default:return null}}var HS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hg(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!HS[i.type]:o==="textarea"}function pg(i,o,l,h){dr(h),o=ju(o,"onChange"),0<o.length&&(l=new mo("onChange","change",null,l,h),i.push({event:l,listeners:o}))}var Qa=null,Ya=null;function WS(i){Ng(i,0)}function Lu(i){var o=xo(i);if(Qs(o))return i}function GS(i,o){if(i==="change")return o}var mg=!1;if(d){var df;if(d){var ff="oninput"in document;if(!ff){var gg=document.createElement("div");gg.setAttribute("oninput","return;"),ff=typeof gg.oninput=="function"}df=ff}else df=!1;mg=df&&(!document.documentMode||9<document.documentMode)}function yg(){Qa&&(Qa.detachEvent("onpropertychange",_g),Ya=Qa=null)}function _g(i){if(i.propertyName==="value"&&Lu(Ya)){var o=[];pg(o,Ya,i,eo(i)),Ma(WS,o)}}function qS(i,o,l){i==="focusin"?(yg(),Qa=o,Ya=l,Qa.attachEvent("onpropertychange",_g)):i==="focusout"&&yg()}function KS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Lu(Ya)}function QS(i,o){if(i==="click")return Lu(o)}function YS(i,o){if(i==="input"||i==="change")return Lu(o)}function XS(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Qn=typeof Object.is=="function"?Object.is:XS;function Xa(i,o){if(Qn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),h=Object.keys(o);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var m=l[h];if(!f.call(o,m)||!Qn(i[m],o[m]))return!1}return!0}function vg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function wg(i,o){var l=vg(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=o&&h>=o)return{node:l,offset:o-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=vg(l)}}function Eg(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Eg(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Tg(){for(var i=window,o=ci();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=ci(i.document)}return o}function hf(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function JS(i){var o=Tg(),l=i.focusedElem,h=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&Eg(l.ownerDocument.documentElement,l)){if(h!==null&&hf(l)){if(o=h.start,i=h.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=l.textContent.length,_=Math.min(h.start,m);h=h.end===void 0?_:Math.min(h.end,m),!i.extend&&_>h&&(m=h,h=_,_=m),m=wg(l,_);var T=wg(l,h);m&&T&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),_>h?(i.addRange(o),i.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var ZS=d&&"documentMode"in document&&11>=document.documentMode,So=null,pf=null,Ja=null,mf=!1;function Sg(i,o,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;mf||So==null||So!==ci(h)||(h=So,"selectionStart"in h&&hf(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ja&&Xa(Ja,h)||(Ja=h,h=ju(pf,"onSelect"),0<h.length&&(o=new mo("onSelect","select",null,o,l),i.push({event:o,listeners:h}),o.target=So)))}function Du(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var Io={animationend:Du("Animation","AnimationEnd"),animationiteration:Du("Animation","AnimationIteration"),animationstart:Du("Animation","AnimationStart"),transitionend:Du("Transition","TransitionEnd")},gf={},Ig={};d&&(Ig=document.createElement("div").style,"AnimationEvent"in window||(delete Io.animationend.animation,delete Io.animationiteration.animation,delete Io.animationstart.animation),"TransitionEvent"in window||delete Io.transitionend.transition);function Mu(i){if(gf[i])return gf[i];if(!Io[i])return i;var o=Io[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in Ig)return gf[i]=o[l];return i}var Cg=Mu("animationend"),Pg=Mu("animationiteration"),xg=Mu("animationstart"),Rg=Mu("transitionend"),Ag=new Map,kg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ei(i,o){Ag.set(i,o),a(o,[i])}for(var yf=0;yf<kg.length;yf++){var _f=kg[yf],e0=_f.toLowerCase(),t0=_f[0].toUpperCase()+_f.slice(1);Ei(e0,"on"+t0)}Ei(Cg,"onAnimationEnd"),Ei(Pg,"onAnimationIteration"),Ei(xg,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(Rg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Za));function bg(i,o,l){var h=i.type||"unknown-event";i.currentTarget=l,fu(h,o,void 0,i),i.currentTarget=null}function Ng(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],m=h.event;h=h.listeners;e:{var _=void 0;if(o)for(var T=h.length-1;0<=T;T--){var j=h[T],U=j.instance,Q=j.currentTarget;if(j=j.listener,U!==_&&m.isPropagationStopped())break e;bg(m,j,Q),_=U}else for(T=0;T<h.length;T++){if(j=h[T],U=j.instance,Q=j.currentTarget,j=j.listener,U!==_&&m.isPropagationStopped())break e;bg(m,j,Q),_=U}}}if(Un)throw i=Va,Un=!1,Va=null,i}function Je(i,o){var l=o[Pf];l===void 0&&(l=o[Pf]=new Set);var h=i+"__bubble";l.has(h)||(Og(o,i,2,!1),l.add(h))}function vf(i,o,l){var h=0;o&&(h|=4),Og(l,i,h,o)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function el(i){if(!i[Vu]){i[Vu]=!0,r.forEach(function(l){l!=="selectionchange"&&(n0.has(l)||vf(l,!1,i),vf(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Vu]||(o[Vu]=!0,vf("selectionchange",!1,o))}}function Og(i,o,l,h){switch(Ha(o)){case 1:var m=et;break;case 4:m=uf;break;default:m=Ba}l=m.bind(null,o,l,i),m=void 0,!ro||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),h?m!==void 0?i.addEventListener(o,l,{capture:!0,passive:m}):i.addEventListener(o,l,!0):m!==void 0?i.addEventListener(o,l,{passive:m}):i.addEventListener(o,l,!1)}function wf(i,o,l,h,m){var _=h;if(!(o&1)&&!(o&2)&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var j=h.stateNode.containerInfo;if(j===m||j.nodeType===8&&j.parentNode===m)break;if(T===4)for(T=h.return;T!==null;){var U=T.tag;if((U===3||U===4)&&(U=T.stateNode.containerInfo,U===m||U.nodeType===8&&U.parentNode===m))return;T=T.return}for(;j!==null;){if(T=ws(j),T===null)return;if(U=T.tag,U===5||U===6){h=_=T;continue e}j=j.parentNode}}h=h.return}Ma(function(){var Q=_,te=eo(l),ne=[];e:{var ee=Ag.get(i);if(ee!==void 0){var de=mo,pe=i;switch(i){case"keypress":if(po(l)===0)break e;case"keydown":case"keyup":de=y;break;case"focusin":pe="focus",de=vo;break;case"focusout":pe="blur",de=vo;break;case"beforeblur":case"afterblur":de=vo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=yo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Y;break;case Cg:case Pg:case xg:de=Ur;break;case Rg:de=We;break;case"scroll":de=cf;break;case"wheel":de=Fe;break;case"copy":case"cut":case"paste":de=ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=k}var me=(o&4)!==0,dt=!me&&i==="scroll",q=me?ee!==null?ee+"Capture":null:ee;me=[];for(var B=Q,K;B!==null;){K=B;var se=K.stateNode;if(K.tag===5&&se!==null&&(K=se,q!==null&&(se=ct(B,q),se!=null&&me.push(tl(B,se,K)))),dt)break;B=B.return}0<me.length&&(ee=new de(ee,pe,null,l,te),ne.push({event:ee,listeners:me}))}}if(!(o&7)){e:{if(ee=i==="mouseover"||i==="pointerover",de=i==="mouseout"||i==="pointerout",ee&&l!==as&&(pe=l.relatedTarget||l.fromElement)&&(ws(pe)||pe[zr]))break e;if((de||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,de?(pe=l.relatedTarget||l.toElement,de=Q,pe=pe?ws(pe):null,pe!==null&&(dt=zn(pe),pe!==dt||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(de=null,pe=Q),de!==pe)){if(me=yo,se="onMouseLeave",q="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(me=k,se="onPointerLeave",q="onPointerEnter",B="pointer"),dt=de==null?ee:xo(de),K=pe==null?ee:xo(pe),ee=new me(se,B+"leave",de,l,te),ee.target=dt,ee.relatedTarget=K,se=null,ws(te)===Q&&(me=new me(q,B+"enter",pe,l,te),me.target=K,me.relatedTarget=dt,se=me),dt=se,de&&pe)t:{for(me=de,q=pe,B=0,K=me;K;K=Co(K))B++;for(K=0,se=q;se;se=Co(se))K++;for(;0<B-K;)me=Co(me),B--;for(;0<K-B;)q=Co(q),K--;for(;B--;){if(me===q||q!==null&&me===q.alternate)break t;me=Co(me),q=Co(q)}me=null}else me=null;de!==null&&Lg(ne,ee,de,me,!1),pe!==null&&dt!==null&&Lg(ne,dt,pe,me,!0)}}e:{if(ee=Q?xo(Q):window,de=ee.nodeName&&ee.nodeName.toLowerCase(),de==="select"||de==="input"&&ee.type==="file")var ye=GS;else if(hg(ee))if(mg)ye=YS;else{ye=KS;var Ee=qS}else(de=ee.nodeName)&&de.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(ye=QS);if(ye&&(ye=ye(i,Q))){pg(ne,ye,l,te);break e}Ee&&Ee(i,ee,Q),i==="focusout"&&(Ee=ee._wrapperState)&&Ee.controlled&&ee.type==="number"&&Xs(ee,"number",ee.value)}switch(Ee=Q?xo(Q):window,i){case"focusin":(hg(Ee)||Ee.contentEditable==="true")&&(So=Ee,pf=Q,Ja=null);break;case"focusout":Ja=pf=So=null;break;case"mousedown":mf=!0;break;case"contextmenu":case"mouseup":case"dragend":mf=!1,Sg(ne,l,te);break;case"selectionchange":if(ZS)break;case"keydown":case"keyup":Sg(ne,l,te)}var Te;if(ht)e:{switch(i){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else To?dg(i,l)&&(xe="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(xe="onCompositionStart");xe&&(vs&&l.locale!=="ko"&&(To||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&To&&(Te=Wa()):(pn=te,ho="value"in pn?pn.value:pn.textContent,To=!0)),Ee=ju(Q,xe),0<Ee.length&&(xe=new Ka(xe,i,null,l,te),ne.push({event:xe,listeners:Ee}),Te?xe.data=Te:(Te=fg(l),Te!==null&&(xe.data=Te)))),(Te=mn?zS(i,l):BS(i,l))&&(Q=ju(Q,"onBeforeInput"),0<Q.length&&(te=new Ka("onBeforeInput","beforeinput",null,l,te),ne.push({event:te,listeners:Q}),te.data=Te))}Ng(ne,o)})}function tl(i,o,l){return{instance:i,listener:o,currentTarget:l}}function ju(i,o){for(var l=o+"Capture",h=[];i!==null;){var m=i,_=m.stateNode;m.tag===5&&_!==null&&(m=_,_=ct(i,l),_!=null&&h.unshift(tl(i,_,m)),_=ct(i,o),_!=null&&h.push(tl(i,_,m))),i=i.return}return h}function Co(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Lg(i,o,l,h,m){for(var _=o._reactName,T=[];l!==null&&l!==h;){var j=l,U=j.alternate,Q=j.stateNode;if(U!==null&&U===h)break;j.tag===5&&Q!==null&&(j=Q,m?(U=ct(l,_),U!=null&&T.unshift(tl(l,U,j))):m||(U=ct(l,_),U!=null&&T.push(tl(l,U,j)))),l=l.return}T.length!==0&&i.push({event:o,listeners:T})}var r0=/\r\n?/g,i0=/\u0000|\uFFFD/g;function Dg(i){return(typeof i=="string"?i:""+i).replace(r0,`
`).replace(i0,"")}function Fu(i,o,l){if(o=Dg(o),Dg(i)!==o&&l)throw Error(t(425))}function $u(){}var Ef=null,Tf=null;function Sf(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var If=typeof setTimeout=="function"?setTimeout:void 0,s0=typeof clearTimeout=="function"?clearTimeout:void 0,Mg=typeof Promise=="function"?Promise:void 0,o0=typeof queueMicrotask=="function"?queueMicrotask:typeof Mg<"u"?function(i){return Mg.resolve(null).then(i).catch(a0)}:If;function a0(i){setTimeout(function(){throw i})}function Cf(i,o){var l=o,h=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(h===0){i.removeChild(m),qn(o);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=m}while(l);qn(o)}function Ti(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Vg(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var Po=Math.random().toString(36).slice(2),yr="__reactFiber$"+Po,nl="__reactProps$"+Po,zr="__reactContainer$"+Po,Pf="__reactEvents$"+Po,l0="__reactListeners$"+Po,u0="__reactHandles$"+Po;function ws(i){var o=i[yr];if(o)return o;for(var l=i.parentNode;l;){if(o=l[zr]||l[yr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=Vg(i);i!==null;){if(l=i[yr])return l;i=Vg(i)}return o}i=l,l=i.parentNode}return null}function rl(i){return i=i[yr]||i[zr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function xo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Uu(i){return i[nl]||null}var xf=[],Ro=-1;function Si(i){return{current:i}}function Ze(i){0>Ro||(i.current=xf[Ro],xf[Ro]=null,Ro--)}function Qe(i,o){Ro++,xf[Ro]=i.current,i.current=o}var Ii={},Ft=Si(Ii),nn=Si(!1),Es=Ii;function Ao(i,o){var l=i.type.contextTypes;if(!l)return Ii;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var m={},_;for(_ in l)m[_]=o[_];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function rn(i){return i=i.childContextTypes,i!=null}function zu(){Ze(nn),Ze(Ft)}function jg(i,o,l){if(Ft.current!==Ii)throw Error(t(168));Qe(Ft,o),Qe(nn,l)}function Fg(i,o,l){var h=i.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var m in h)if(!(m in o))throw Error(t(108,we(i)||"Unknown",m));return oe({},l,h)}function Bu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ii,Es=Ft.current,Qe(Ft,i),Qe(nn,nn.current),!0}function $g(i,o,l){var h=i.stateNode;if(!h)throw Error(t(169));l?(i=Fg(i,o,Es),h.__reactInternalMemoizedMergedChildContext=i,Ze(nn),Ze(Ft),Qe(Ft,i)):Ze(nn),Qe(nn,l)}var Br=null,Hu=!1,Rf=!1;function Ug(i){Br===null?Br=[i]:Br.push(i)}function c0(i){Hu=!0,Ug(i)}function Ci(){if(!Rf&&Br!==null){Rf=!0;var i=0,o=Ve;try{var l=Br;for(Ve=1;i<l.length;i++){var h=l[i];do h=h(!0);while(h!==null)}Br=null,Hu=!1}catch(m){throw Br!==null&&(Br=Br.slice(i+1)),ao(fs,Ci),m}finally{Ve=o,Rf=!1}}return null}var ko=[],bo=0,Wu=null,Gu=0,Rn=[],An=0,Ts=null,Hr=1,Wr="";function Ss(i,o){ko[bo++]=Gu,ko[bo++]=Wu,Wu=i,Gu=o}function zg(i,o,l){Rn[An++]=Hr,Rn[An++]=Wr,Rn[An++]=Ts,Ts=i;var h=Hr;i=Wr;var m=32-Kt(h)-1;h&=~(1<<m),l+=1;var _=32-Kt(o)+m;if(30<_){var T=m-m%5;_=(h&(1<<T)-1).toString(32),h>>=T,m-=T,Hr=1<<32-Kt(o)+m|l<<m|h,Wr=_+i}else Hr=1<<_|l<<m|h,Wr=i}function Af(i){i.return!==null&&(Ss(i,1),zg(i,1,0))}function kf(i){for(;i===Wu;)Wu=ko[--bo],ko[bo]=null,Gu=ko[--bo],ko[bo]=null;for(;i===Ts;)Ts=Rn[--An],Rn[An]=null,Wr=Rn[--An],Rn[An]=null,Hr=Rn[--An],Rn[An]=null}var gn=null,yn=null,tt=!1,Yn=null;function Bg(i,o){var l=On(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function Hg(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,gn=i,yn=Ti(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,gn=i,yn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=Ts!==null?{id:Hr,overflow:Wr}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=On(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,gn=i,yn=null,!0):!1;default:return!1}}function bf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Nf(i){if(tt){var o=yn;if(o){var l=o;if(!Hg(i,o)){if(bf(i))throw Error(t(418));o=Ti(l.nextSibling);var h=gn;o&&Hg(i,o)?Bg(h,l):(i.flags=i.flags&-4097|2,tt=!1,gn=i)}}else{if(bf(i))throw Error(t(418));i.flags=i.flags&-4097|2,tt=!1,gn=i}}}function Wg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;gn=i}function qu(i){if(i!==gn)return!1;if(!tt)return Wg(i),tt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Sf(i.type,i.memoizedProps)),o&&(o=yn)){if(bf(i))throw Gg(),Error(t(418));for(;o;)Bg(i,o),o=Ti(o.nextSibling)}if(Wg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){yn=Ti(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}yn=null}}else yn=gn?Ti(i.stateNode.nextSibling):null;return!0}function Gg(){for(var i=yn;i;)i=Ti(i.nextSibling)}function No(){yn=gn=null,tt=!1}function Of(i){Yn===null?Yn=[i]:Yn.push(i)}var d0=F.ReactCurrentBatchConfig;function il(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,i));var m=h,_=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===_?o.ref:(o=function(T){var j=m.refs;T===null?delete j[_]:j[_]=T},o._stringRef=_,o)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function Ku(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function qg(i){var o=i._init;return o(i._payload)}function Kg(i){function o(q,B){if(i){var K=q.deletions;K===null?(q.deletions=[B],q.flags|=16):K.push(B)}}function l(q,B){if(!i)return null;for(;B!==null;)o(q,B),B=B.sibling;return null}function h(q,B){for(q=new Map;B!==null;)B.key!==null?q.set(B.key,B):q.set(B.index,B),B=B.sibling;return q}function m(q,B){return q=Oi(q,B),q.index=0,q.sibling=null,q}function _(q,B,K){return q.index=K,i?(K=q.alternate,K!==null?(K=K.index,K<B?(q.flags|=2,B):K):(q.flags|=2,B)):(q.flags|=1048576,B)}function T(q){return i&&q.alternate===null&&(q.flags|=2),q}function j(q,B,K,se){return B===null||B.tag!==6?(B=Ih(K,q.mode,se),B.return=q,B):(B=m(B,K),B.return=q,B)}function U(q,B,K,se){var ye=K.type;return ye===M?te(q,B,K.props.children,se,K.key):B!==null&&(B.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===ve&&qg(ye)===B.type)?(se=m(B,K.props),se.ref=il(q,B,K),se.return=q,se):(se=_c(K.type,K.key,K.props,null,q.mode,se),se.ref=il(q,B,K),se.return=q,se)}function Q(q,B,K,se){return B===null||B.tag!==4||B.stateNode.containerInfo!==K.containerInfo||B.stateNode.implementation!==K.implementation?(B=Ch(K,q.mode,se),B.return=q,B):(B=m(B,K.children||[]),B.return=q,B)}function te(q,B,K,se,ye){return B===null||B.tag!==7?(B=bs(K,q.mode,se,ye),B.return=q,B):(B=m(B,K),B.return=q,B)}function ne(q,B,K){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Ih(""+B,q.mode,K),B.return=q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case H:return K=_c(B.type,B.key,B.props,null,q.mode,K),K.ref=il(q,null,B),K.return=q,K;case X:return B=Ch(B,q.mode,K),B.return=q,B;case ve:var se=B._init;return ne(q,se(B._payload),K)}if(Or(B)||le(B))return B=bs(B,q.mode,K,null),B.return=q,B;Ku(q,B)}return null}function ee(q,B,K,se){var ye=B!==null?B.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return ye!==null?null:j(q,B,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case H:return K.key===ye?U(q,B,K,se):null;case X:return K.key===ye?Q(q,B,K,se):null;case ve:return ye=K._init,ee(q,B,ye(K._payload),se)}if(Or(K)||le(K))return ye!==null?null:te(q,B,K,se,null);Ku(q,K)}return null}function de(q,B,K,se,ye){if(typeof se=="string"&&se!==""||typeof se=="number")return q=q.get(K)||null,j(B,q,""+se,ye);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case H:return q=q.get(se.key===null?K:se.key)||null,U(B,q,se,ye);case X:return q=q.get(se.key===null?K:se.key)||null,Q(B,q,se,ye);case ve:var Ee=se._init;return de(q,B,K,Ee(se._payload),ye)}if(Or(se)||le(se))return q=q.get(K)||null,te(B,q,se,ye,null);Ku(B,se)}return null}function pe(q,B,K,se){for(var ye=null,Ee=null,Te=B,xe=B=0,Rt=null;Te!==null&&xe<K.length;xe++){Te.index>xe?(Rt=Te,Te=null):Rt=Te.sibling;var ze=ee(q,Te,K[xe],se);if(ze===null){Te===null&&(Te=Rt);break}i&&Te&&ze.alternate===null&&o(q,Te),B=_(ze,B,xe),Ee===null?ye=ze:Ee.sibling=ze,Ee=ze,Te=Rt}if(xe===K.length)return l(q,Te),tt&&Ss(q,xe),ye;if(Te===null){for(;xe<K.length;xe++)Te=ne(q,K[xe],se),Te!==null&&(B=_(Te,B,xe),Ee===null?ye=Te:Ee.sibling=Te,Ee=Te);return tt&&Ss(q,xe),ye}for(Te=h(q,Te);xe<K.length;xe++)Rt=de(Te,q,xe,K[xe],se),Rt!==null&&(i&&Rt.alternate!==null&&Te.delete(Rt.key===null?xe:Rt.key),B=_(Rt,B,xe),Ee===null?ye=Rt:Ee.sibling=Rt,Ee=Rt);return i&&Te.forEach(function(Li){return o(q,Li)}),tt&&Ss(q,xe),ye}function me(q,B,K,se){var ye=le(K);if(typeof ye!="function")throw Error(t(150));if(K=ye.call(K),K==null)throw Error(t(151));for(var Ee=ye=null,Te=B,xe=B=0,Rt=null,ze=K.next();Te!==null&&!ze.done;xe++,ze=K.next()){Te.index>xe?(Rt=Te,Te=null):Rt=Te.sibling;var Li=ee(q,Te,ze.value,se);if(Li===null){Te===null&&(Te=Rt);break}i&&Te&&Li.alternate===null&&o(q,Te),B=_(Li,B,xe),Ee===null?ye=Li:Ee.sibling=Li,Ee=Li,Te=Rt}if(ze.done)return l(q,Te),tt&&Ss(q,xe),ye;if(Te===null){for(;!ze.done;xe++,ze=K.next())ze=ne(q,ze.value,se),ze!==null&&(B=_(ze,B,xe),Ee===null?ye=ze:Ee.sibling=ze,Ee=ze);return tt&&Ss(q,xe),ye}for(Te=h(q,Te);!ze.done;xe++,ze=K.next())ze=de(Te,q,xe,ze.value,se),ze!==null&&(i&&ze.alternate!==null&&Te.delete(ze.key===null?xe:ze.key),B=_(ze,B,xe),Ee===null?ye=ze:Ee.sibling=ze,Ee=ze);return i&&Te.forEach(function(B0){return o(q,B0)}),tt&&Ss(q,xe),ye}function dt(q,B,K,se){if(typeof K=="object"&&K!==null&&K.type===M&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case H:e:{for(var ye=K.key,Ee=B;Ee!==null;){if(Ee.key===ye){if(ye=K.type,ye===M){if(Ee.tag===7){l(q,Ee.sibling),B=m(Ee,K.props.children),B.return=q,q=B;break e}}else if(Ee.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===ve&&qg(ye)===Ee.type){l(q,Ee.sibling),B=m(Ee,K.props),B.ref=il(q,Ee,K),B.return=q,q=B;break e}l(q,Ee);break}else o(q,Ee);Ee=Ee.sibling}K.type===M?(B=bs(K.props.children,q.mode,se,K.key),B.return=q,q=B):(se=_c(K.type,K.key,K.props,null,q.mode,se),se.ref=il(q,B,K),se.return=q,q=se)}return T(q);case X:e:{for(Ee=K.key;B!==null;){if(B.key===Ee)if(B.tag===4&&B.stateNode.containerInfo===K.containerInfo&&B.stateNode.implementation===K.implementation){l(q,B.sibling),B=m(B,K.children||[]),B.return=q,q=B;break e}else{l(q,B);break}else o(q,B);B=B.sibling}B=Ch(K,q.mode,se),B.return=q,q=B}return T(q);case ve:return Ee=K._init,dt(q,B,Ee(K._payload),se)}if(Or(K))return pe(q,B,K,se);if(le(K))return me(q,B,K,se);Ku(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,B!==null&&B.tag===6?(l(q,B.sibling),B=m(B,K),B.return=q,q=B):(l(q,B),B=Ih(K,q.mode,se),B.return=q,q=B),T(q)):l(q,B)}return dt}var Oo=Kg(!0),Qg=Kg(!1),Qu=Si(null),Yu=null,Lo=null,Lf=null;function Df(){Lf=Lo=Yu=null}function Mf(i){var o=Qu.current;Ze(Qu),i._currentValue=o}function Vf(i,o,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===l)break;i=i.return}}function Do(i,o){Yu=i,Lf=Lo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&(sn=!0),i.firstContext=null)}function kn(i){var o=i._currentValue;if(Lf!==i)if(i={context:i,memoizedValue:o,next:null},Lo===null){if(Yu===null)throw Error(t(308));Lo=i,Yu.dependencies={lanes:0,firstContext:i}}else Lo=Lo.next=i;return o}var Is=null;function jf(i){Is===null?Is=[i]:Is.push(i)}function Yg(i,o,l,h){var m=o.interleaved;return m===null?(l.next=l,jf(o)):(l.next=m.next,m.next=l),o.interleaved=l,Gr(i,h)}function Gr(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var Pi=!1;function Ff(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xg(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function qr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function xi(i,o,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,Ue&2){var m=h.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),h.pending=o,Gr(i,l)}return m=h.interleaved,m===null?(o.next=o,jf(h)):(o.next=m.next,m.next=o),h.interleaved=o,Gr(i,l)}function Xu(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,gi(i,l)}}function Jg(i,o){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var m=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};_===null?m=_=T:_=_.next=T,l=l.next}while(l!==null);_===null?m=_=o:_=_.next=o}else m=_=o;l={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:_,shared:h.shared,effects:h.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function Ju(i,o,l,h){var m=i.updateQueue;Pi=!1;var _=m.firstBaseUpdate,T=m.lastBaseUpdate,j=m.shared.pending;if(j!==null){m.shared.pending=null;var U=j,Q=U.next;U.next=null,T===null?_=Q:T.next=Q,T=U;var te=i.alternate;te!==null&&(te=te.updateQueue,j=te.lastBaseUpdate,j!==T&&(j===null?te.firstBaseUpdate=Q:j.next=Q,te.lastBaseUpdate=U))}if(_!==null){var ne=m.baseState;T=0,te=Q=U=null,j=_;do{var ee=j.lane,de=j.eventTime;if((h&ee)===ee){te!==null&&(te=te.next={eventTime:de,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var pe=i,me=j;switch(ee=o,de=l,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){ne=pe.call(de,ne,ee);break e}ne=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,ee=typeof pe=="function"?pe.call(de,ne,ee):pe,ee==null)break e;ne=oe({},ne,ee);break e;case 2:Pi=!0}}j.callback!==null&&j.lane!==0&&(i.flags|=64,ee=m.effects,ee===null?m.effects=[j]:ee.push(j))}else de={eventTime:de,lane:ee,tag:j.tag,payload:j.payload,callback:j.callback,next:null},te===null?(Q=te=de,U=ne):te=te.next=de,T|=ee;if(j=j.next,j===null){if(j=m.shared.pending,j===null)break;ee=j,j=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);if(te===null&&(U=ne),m.baseState=U,m.firstBaseUpdate=Q,m.lastBaseUpdate=te,o=m.shared.interleaved,o!==null){m=o;do T|=m.lane,m=m.next;while(m!==o)}else _===null&&(m.shared.lanes=0);xs|=T,i.lanes=T,i.memoizedState=ne}}function Zg(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var h=i[o],m=h.callback;if(m!==null){if(h.callback=null,h=l,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var sl={},_r=Si(sl),ol=Si(sl),al=Si(sl);function Cs(i){if(i===sl)throw Error(t(174));return i}function $f(i,o){switch(Qe(al,o),Qe(ol,i),Qe(_r,sl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:yt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=yt(o,i)}Ze(_r),Qe(_r,o)}function Mo(){Ze(_r),Ze(ol),Ze(al)}function ey(i){Cs(al.current);var o=Cs(_r.current),l=yt(o,i.type);o!==l&&(Qe(ol,i),Qe(_r,l))}function Uf(i){ol.current===i&&(Ze(_r),Ze(ol))}var it=Si(0);function Zu(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var zf=[];function Bf(){for(var i=0;i<zf.length;i++)zf[i]._workInProgressVersionPrimary=null;zf.length=0}var ec=F.ReactCurrentDispatcher,Hf=F.ReactCurrentBatchConfig,Ps=0,st=null,vt=null,Pt=null,tc=!1,ll=!1,ul=0,f0=0;function $t(){throw Error(t(321))}function Wf(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!Qn(i[l],o[l]))return!1;return!0}function Gf(i,o,l,h,m,_){if(Ps=_,st=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,ec.current=i===null||i.memoizedState===null?g0:y0,i=l(h,m),ll){_=0;do{if(ll=!1,ul=0,25<=_)throw Error(t(301));_+=1,Pt=vt=null,o.updateQueue=null,ec.current=_0,i=l(h,m)}while(ll)}if(ec.current=ic,o=vt!==null&&vt.next!==null,Ps=0,Pt=vt=st=null,tc=!1,o)throw Error(t(300));return i}function qf(){var i=ul!==0;return ul=0,i}function vr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?st.memoizedState=Pt=i:Pt=Pt.next=i,Pt}function bn(){if(vt===null){var i=st.alternate;i=i!==null?i.memoizedState:null}else i=vt.next;var o=Pt===null?st.memoizedState:Pt.next;if(o!==null)Pt=o,vt=i;else{if(i===null)throw Error(t(310));vt=i,i={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Pt===null?st.memoizedState=Pt=i:Pt=Pt.next=i}return Pt}function cl(i,o){return typeof o=="function"?o(i):o}function Kf(i){var o=bn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=vt,m=h.baseQueue,_=l.pending;if(_!==null){if(m!==null){var T=m.next;m.next=_.next,_.next=T}h.baseQueue=m=_,l.pending=null}if(m!==null){_=m.next,h=h.baseState;var j=T=null,U=null,Q=_;do{var te=Q.lane;if((Ps&te)===te)U!==null&&(U=U.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),h=Q.hasEagerState?Q.eagerState:i(h,Q.action);else{var ne={lane:te,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};U===null?(j=U=ne,T=h):U=U.next=ne,st.lanes|=te,xs|=te}Q=Q.next}while(Q!==null&&Q!==_);U===null?T=h:U.next=j,Qn(h,o.memoizedState)||(sn=!0),o.memoizedState=h,o.baseState=T,o.baseQueue=U,l.lastRenderedState=h}if(i=l.interleaved,i!==null){m=i;do _=m.lane,st.lanes|=_,xs|=_,m=m.next;while(m!==i)}else m===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function Qf(i){var o=bn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=l.dispatch,m=l.pending,_=o.memoizedState;if(m!==null){l.pending=null;var T=m=m.next;do _=i(_,T.action),T=T.next;while(T!==m);Qn(_,o.memoizedState)||(sn=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),l.lastRenderedState=_}return[_,h]}function ty(){}function ny(i,o){var l=st,h=bn(),m=o(),_=!Qn(h.memoizedState,m);if(_&&(h.memoizedState=m,sn=!0),h=h.queue,Yf(sy.bind(null,l,h,i),[i]),h.getSnapshot!==o||_||Pt!==null&&Pt.memoizedState.tag&1){if(l.flags|=2048,dl(9,iy.bind(null,l,h,m,o),void 0,null),xt===null)throw Error(t(349));Ps&30||ry(l,o,m)}return m}function ry(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=st.updateQueue,o===null?(o={lastEffect:null,stores:null},st.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function iy(i,o,l,h){o.value=l,o.getSnapshot=h,oy(o)&&ay(i)}function sy(i,o,l){return l(function(){oy(o)&&ay(i)})}function oy(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!Qn(i,l)}catch{return!0}}function ay(i){var o=Gr(i,1);o!==null&&er(o,i,1,-1)}function ly(i){var o=vr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:i},o.queue=i,i=i.dispatch=m0.bind(null,st,i),[o.memoizedState,i]}function dl(i,o,l,h){return i={tag:i,create:o,destroy:l,deps:h,next:null},o=st.updateQueue,o===null?(o={lastEffect:null,stores:null},st.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,o.lastEffect=i)),i}function uy(){return bn().memoizedState}function nc(i,o,l,h){var m=vr();st.flags|=i,m.memoizedState=dl(1|o,l,void 0,h===void 0?null:h)}function rc(i,o,l,h){var m=bn();h=h===void 0?null:h;var _=void 0;if(vt!==null){var T=vt.memoizedState;if(_=T.destroy,h!==null&&Wf(h,T.deps)){m.memoizedState=dl(o,l,_,h);return}}st.flags|=i,m.memoizedState=dl(1|o,l,_,h)}function cy(i,o){return nc(8390656,8,i,o)}function Yf(i,o){return rc(2048,8,i,o)}function dy(i,o){return rc(4,2,i,o)}function fy(i,o){return rc(4,4,i,o)}function hy(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function py(i,o,l){return l=l!=null?l.concat([i]):null,rc(4,4,hy.bind(null,o,i),l)}function Xf(){}function my(i,o){var l=bn();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&Wf(o,h[1])?h[0]:(l.memoizedState=[i,o],i)}function gy(i,o){var l=bn();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&Wf(o,h[1])?h[0]:(i=i(),l.memoizedState=[i,o],i)}function yy(i,o,l){return Ps&21?(Qn(l,o)||(l=ms(),st.lanes|=l,xs|=l,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,sn=!0),i.memoizedState=l)}function h0(i,o){var l=Ve;Ve=l!==0&&4>l?l:4,i(!0);var h=Hf.transition;Hf.transition={};try{i(!1),o()}finally{Ve=l,Hf.transition=h}}function _y(){return bn().memoizedState}function p0(i,o,l){var h=bi(i);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},vy(i))wy(o,l);else if(l=Yg(i,o,l,h),l!==null){var m=Xt();er(l,i,h,m),Ey(l,o,h)}}function m0(i,o,l){var h=bi(i),m={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(vy(i))wy(o,m);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var T=o.lastRenderedState,j=_(T,l);if(m.hasEagerState=!0,m.eagerState=j,Qn(j,T)){var U=o.interleaved;U===null?(m.next=m,jf(o)):(m.next=U.next,U.next=m),o.interleaved=m;return}}catch{}finally{}l=Yg(i,o,m,h),l!==null&&(m=Xt(),er(l,i,h,m),Ey(l,o,h))}}function vy(i){var o=i.alternate;return i===st||o!==null&&o===st}function wy(i,o){ll=tc=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function Ey(i,o,l){if(l&4194240){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,gi(i,l)}}var ic={readContext:kn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},g0={readContext:kn,useCallback:function(i,o){return vr().memoizedState=[i,o===void 0?null:o],i},useContext:kn,useEffect:cy,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,nc(4194308,4,hy.bind(null,o,i),l)},useLayoutEffect:function(i,o){return nc(4194308,4,i,o)},useInsertionEffect:function(i,o){return nc(4,2,i,o)},useMemo:function(i,o){var l=vr();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var h=vr();return o=l!==void 0?l(o):o,h.memoizedState=h.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},h.queue=i,i=i.dispatch=p0.bind(null,st,i),[h.memoizedState,i]},useRef:function(i){var o=vr();return i={current:i},o.memoizedState=i},useState:ly,useDebugValue:Xf,useDeferredValue:function(i){return vr().memoizedState=i},useTransition:function(){var i=ly(!1),o=i[0];return i=h0.bind(null,i[1]),vr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var h=st,m=vr();if(tt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),xt===null)throw Error(t(349));Ps&30||ry(h,o,l)}m.memoizedState=l;var _={value:l,getSnapshot:o};return m.queue=_,cy(sy.bind(null,h,_,i),[i]),h.flags|=2048,dl(9,iy.bind(null,h,_,l,o),void 0,null),l},useId:function(){var i=vr(),o=xt.identifierPrefix;if(tt){var l=Wr,h=Hr;l=(h&~(1<<32-Kt(h)-1)).toString(32)+l,o=":"+o+"R"+l,l=ul++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=f0++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},y0={readContext:kn,useCallback:my,useContext:kn,useEffect:Yf,useImperativeHandle:py,useInsertionEffect:dy,useLayoutEffect:fy,useMemo:gy,useReducer:Kf,useRef:uy,useState:function(){return Kf(cl)},useDebugValue:Xf,useDeferredValue:function(i){var o=bn();return yy(o,vt.memoizedState,i)},useTransition:function(){var i=Kf(cl)[0],o=bn().memoizedState;return[i,o]},useMutableSource:ty,useSyncExternalStore:ny,useId:_y,unstable_isNewReconciler:!1},_0={readContext:kn,useCallback:my,useContext:kn,useEffect:Yf,useImperativeHandle:py,useInsertionEffect:dy,useLayoutEffect:fy,useMemo:gy,useReducer:Qf,useRef:uy,useState:function(){return Qf(cl)},useDebugValue:Xf,useDeferredValue:function(i){var o=bn();return vt===null?o.memoizedState=i:yy(o,vt.memoizedState,i)},useTransition:function(){var i=Qf(cl)[0],o=bn().memoizedState;return[i,o]},useMutableSource:ty,useSyncExternalStore:ny,useId:_y,unstable_isNewReconciler:!1};function Xn(i,o){if(i&&i.defaultProps){o=oe({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function Jf(i,o,l,h){o=i.memoizedState,l=l(h,o),l=l==null?o:oe({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var sc={isMounted:function(i){return(i=i._reactInternals)?zn(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var h=Xt(),m=bi(i),_=qr(h,m);_.payload=o,l!=null&&(_.callback=l),o=xi(i,_,m),o!==null&&(er(o,i,m,h),Xu(o,i,m))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var h=Xt(),m=bi(i),_=qr(h,m);_.tag=1,_.payload=o,l!=null&&(_.callback=l),o=xi(i,_,m),o!==null&&(er(o,i,m,h),Xu(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=Xt(),h=bi(i),m=qr(l,h);m.tag=2,o!=null&&(m.callback=o),o=xi(i,m,h),o!==null&&(er(o,i,h,l),Xu(o,i,h))}};function Ty(i,o,l,h,m,_,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,_,T):o.prototype&&o.prototype.isPureReactComponent?!Xa(l,h)||!Xa(m,_):!0}function Sy(i,o,l){var h=!1,m=Ii,_=o.contextType;return typeof _=="object"&&_!==null?_=kn(_):(m=rn(o)?Es:Ft.current,h=o.contextTypes,_=(h=h!=null)?Ao(i,m):Ii),o=new o(l,_),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=sc,i.stateNode=o,o._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=_),o}function Iy(i,o,l,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,h),o.state!==i&&sc.enqueueReplaceState(o,o.state,null)}function Zf(i,o,l,h){var m=i.stateNode;m.props=l,m.state=i.memoizedState,m.refs={},Ff(i);var _=o.contextType;typeof _=="object"&&_!==null?m.context=kn(_):(_=rn(o)?Es:Ft.current,m.context=Ao(i,_)),m.state=i.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(Jf(i,o,_,l),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&sc.enqueueReplaceState(m,m.state,null),Ju(i,l,m,h),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Vo(i,o){try{var l="",h=o;do l+=Ne(h),h=h.return;while(h);var m=l}catch(_){m=`
Error generating stack: `+_.message+`
`+_.stack}return{value:i,source:o,stack:m,digest:null}}function eh(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function th(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var v0=typeof WeakMap=="function"?WeakMap:Map;function Cy(i,o,l){l=qr(-1,l),l.tag=3,l.payload={element:null};var h=o.value;return l.callback=function(){fc||(fc=!0,gh=h),th(i,o)},l}function Py(i,o,l){l=qr(-1,l),l.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;l.payload=function(){return h(m)},l.callback=function(){th(i,o)}}var _=i.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(l.callback=function(){th(i,o),typeof h!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),l}function xy(i,o,l){var h=i.pingCache;if(h===null){h=i.pingCache=new v0;var m=new Set;h.set(o,m)}else m=h.get(o),m===void 0&&(m=new Set,h.set(o,m));m.has(l)||(m.add(l),i=O0.bind(null,i,o,l),o.then(i,i))}function Ry(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Ay(i,o,l,h,m){return i.mode&1?(i.flags|=65536,i.lanes=m,i):(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=qr(-1,1),o.tag=2,xi(l,o,1))),l.lanes|=1),i)}var w0=F.ReactCurrentOwner,sn=!1;function Yt(i,o,l,h){o.child=i===null?Qg(o,null,l,h):Oo(o,i.child,l,h)}function ky(i,o,l,h,m){l=l.render;var _=o.ref;return Do(o,m),h=Gf(i,o,l,h,_,m),l=qf(),i!==null&&!sn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Kr(i,o,m)):(tt&&l&&Af(o),o.flags|=1,Yt(i,o,h,m),o.child)}function by(i,o,l,h,m){if(i===null){var _=l.type;return typeof _=="function"&&!Sh(_)&&_.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=_,Ny(i,o,_,h,m)):(i=_c(l.type,null,h,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(_=i.child,!(i.lanes&m)){var T=_.memoizedProps;if(l=l.compare,l=l!==null?l:Xa,l(T,h)&&i.ref===o.ref)return Kr(i,o,m)}return o.flags|=1,i=Oi(_,h),i.ref=o.ref,i.return=o,o.child=i}function Ny(i,o,l,h,m){if(i!==null){var _=i.memoizedProps;if(Xa(_,h)&&i.ref===o.ref)if(sn=!1,o.pendingProps=h=_,(i.lanes&m)!==0)i.flags&131072&&(sn=!0);else return o.lanes=i.lanes,Kr(i,o,m)}return nh(i,o,l,h,m)}function Oy(i,o,l){var h=o.pendingProps,m=h.children,_=i!==null?i.memoizedState:null;if(h.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Fo,_n),_n|=l;else{if(!(l&1073741824))return i=_!==null?_.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Qe(Fo,_n),_n|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=_!==null?_.baseLanes:l,Qe(Fo,_n),_n|=h}else _!==null?(h=_.baseLanes|l,o.memoizedState=null):h=l,Qe(Fo,_n),_n|=h;return Yt(i,o,m,l),o.child}function Ly(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function nh(i,o,l,h,m){var _=rn(l)?Es:Ft.current;return _=Ao(o,_),Do(o,m),l=Gf(i,o,l,h,_,m),h=qf(),i!==null&&!sn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Kr(i,o,m)):(tt&&h&&Af(o),o.flags|=1,Yt(i,o,l,m),o.child)}function Dy(i,o,l,h,m){if(rn(l)){var _=!0;Bu(o)}else _=!1;if(Do(o,m),o.stateNode===null)ac(i,o),Sy(o,l,h),Zf(o,l,h,m),h=!0;else if(i===null){var T=o.stateNode,j=o.memoizedProps;T.props=j;var U=T.context,Q=l.contextType;typeof Q=="object"&&Q!==null?Q=kn(Q):(Q=rn(l)?Es:Ft.current,Q=Ao(o,Q));var te=l.getDerivedStateFromProps,ne=typeof te=="function"||typeof T.getSnapshotBeforeUpdate=="function";ne||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(j!==h||U!==Q)&&Iy(o,T,h,Q),Pi=!1;var ee=o.memoizedState;T.state=ee,Ju(o,h,T,m),U=o.memoizedState,j!==h||ee!==U||nn.current||Pi?(typeof te=="function"&&(Jf(o,l,te,h),U=o.memoizedState),(j=Pi||Ty(o,l,j,h,ee,U,Q))?(ne||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=U),T.props=h,T.state=U,T.context=Q,h=j):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{T=o.stateNode,Xg(i,o),j=o.memoizedProps,Q=o.type===o.elementType?j:Xn(o.type,j),T.props=Q,ne=o.pendingProps,ee=T.context,U=l.contextType,typeof U=="object"&&U!==null?U=kn(U):(U=rn(l)?Es:Ft.current,U=Ao(o,U));var de=l.getDerivedStateFromProps;(te=typeof de=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(j!==ne||ee!==U)&&Iy(o,T,h,U),Pi=!1,ee=o.memoizedState,T.state=ee,Ju(o,h,T,m);var pe=o.memoizedState;j!==ne||ee!==pe||nn.current||Pi?(typeof de=="function"&&(Jf(o,l,de,h),pe=o.memoizedState),(Q=Pi||Ty(o,l,Q,h,ee,pe,U)||!1)?(te||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,pe,U),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,pe,U)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||j===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||j===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=pe),T.props=h,T.state=pe,T.context=U,h=Q):(typeof T.componentDidUpdate!="function"||j===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||j===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),h=!1)}return rh(i,o,l,h,_,m)}function rh(i,o,l,h,m,_){Ly(i,o);var T=(o.flags&128)!==0;if(!h&&!T)return m&&$g(o,l,!1),Kr(i,o,_);h=o.stateNode,w0.current=o;var j=T&&typeof l.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,i!==null&&T?(o.child=Oo(o,i.child,null,_),o.child=Oo(o,null,j,_)):Yt(i,o,j,_),o.memoizedState=h.state,m&&$g(o,l,!0),o.child}function My(i){var o=i.stateNode;o.pendingContext?jg(i,o.pendingContext,o.pendingContext!==o.context):o.context&&jg(i,o.context,!1),$f(i,o.containerInfo)}function Vy(i,o,l,h,m){return No(),Of(m),o.flags|=256,Yt(i,o,l,h),o.child}var ih={dehydrated:null,treeContext:null,retryLane:0};function sh(i){return{baseLanes:i,cachePool:null,transitions:null}}function jy(i,o,l){var h=o.pendingProps,m=it.current,_=!1,T=(o.flags&128)!==0,j;if((j=T)||(j=i!==null&&i.memoizedState===null?!1:(m&2)!==0),j?(_=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),Qe(it,m&1),i===null)return Nf(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(T=h.children,i=h.fallback,_?(h=o.mode,_=o.child,T={mode:"hidden",children:T},!(h&1)&&_!==null?(_.childLanes=0,_.pendingProps=T):_=vc(T,h,0,null),i=bs(i,h,l,null),_.return=o,i.return=o,_.sibling=i,o.child=_,o.child.memoizedState=sh(l),o.memoizedState=ih,i):oh(o,T));if(m=i.memoizedState,m!==null&&(j=m.dehydrated,j!==null))return E0(i,o,T,h,j,m,l);if(_){_=h.fallback,T=o.mode,m=i.child,j=m.sibling;var U={mode:"hidden",children:h.children};return!(T&1)&&o.child!==m?(h=o.child,h.childLanes=0,h.pendingProps=U,o.deletions=null):(h=Oi(m,U),h.subtreeFlags=m.subtreeFlags&14680064),j!==null?_=Oi(j,_):(_=bs(_,T,l,null),_.flags|=2),_.return=o,h.return=o,h.sibling=_,o.child=h,h=_,_=o.child,T=i.child.memoizedState,T=T===null?sh(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},_.memoizedState=T,_.childLanes=i.childLanes&~l,o.memoizedState=ih,h}return _=i.child,i=_.sibling,h=Oi(_,{mode:"visible",children:h.children}),!(o.mode&1)&&(h.lanes=l),h.return=o,h.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=h,o.memoizedState=null,h}function oh(i,o){return o=vc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function oc(i,o,l,h){return h!==null&&Of(h),Oo(o,i.child,null,l),i=oh(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function E0(i,o,l,h,m,_,T){if(l)return o.flags&256?(o.flags&=-257,h=eh(Error(t(422))),oc(i,o,T,h)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(_=h.fallback,m=o.mode,h=vc({mode:"visible",children:h.children},m,0,null),_=bs(_,m,T,null),_.flags|=2,h.return=o,_.return=o,h.sibling=_,o.child=h,o.mode&1&&Oo(o,i.child,null,T),o.child.memoizedState=sh(T),o.memoizedState=ih,_);if(!(o.mode&1))return oc(i,o,T,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var j=h.dgst;return h=j,_=Error(t(419)),h=eh(_,h,void 0),oc(i,o,T,h)}if(j=(T&i.childLanes)!==0,sn||j){if(h=xt,h!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(h.suspendedLanes|T)?0:m,m!==0&&m!==_.retryLane&&(_.retryLane=m,Gr(i,m),er(h,i,m,-1))}return Th(),h=eh(Error(t(421))),oc(i,o,T,h)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=L0.bind(null,i),m._reactRetry=o,null):(i=_.treeContext,yn=Ti(m.nextSibling),gn=o,tt=!0,Yn=null,i!==null&&(Rn[An++]=Hr,Rn[An++]=Wr,Rn[An++]=Ts,Hr=i.id,Wr=i.overflow,Ts=o),o=oh(o,h.children),o.flags|=4096,o)}function Fy(i,o,l){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),Vf(i.return,o,l)}function ah(i,o,l,h,m){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:m}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=l,_.tailMode=m)}function $y(i,o,l){var h=o.pendingProps,m=h.revealOrder,_=h.tail;if(Yt(i,o,h.children,l),h=it.current,h&2)h=h&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Fy(i,l,o);else if(i.tag===19)Fy(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(Qe(it,h),!(o.mode&1))o.memoizedState=null;else switch(m){case"forwards":for(l=o.child,m=null;l!==null;)i=l.alternate,i!==null&&Zu(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),ah(o,!1,m,l,_);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&Zu(i)===null){o.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}ah(o,!0,l,null,_);break;case"together":ah(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ac(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Kr(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),xs|=o.lanes,!(l&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,l=Oi(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=Oi(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function T0(i,o,l){switch(o.tag){case 3:My(o),No();break;case 5:ey(o);break;case 1:rn(o.type)&&Bu(o);break;case 4:$f(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,m=o.memoizedProps.value;Qe(Qu,h._currentValue),h._currentValue=m;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(Qe(it,it.current&1),o.flags|=128,null):l&o.child.childLanes?jy(i,o,l):(Qe(it,it.current&1),i=Kr(i,o,l),i!==null?i.sibling:null);Qe(it,it.current&1);break;case 19:if(h=(l&o.childLanes)!==0,i.flags&128){if(h)return $y(i,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Qe(it,it.current),h)break;return null;case 22:case 23:return o.lanes=0,Oy(i,o,l)}return Kr(i,o,l)}var Uy,lh,zy,By;Uy=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},lh=function(){},zy=function(i,o,l,h){var m=i.memoizedProps;if(m!==h){i=o.stateNode,Cs(_r.current);var _=null;switch(l){case"input":m=is(i,m),h=is(i,h),_=[];break;case"select":m=oe({},m,{value:void 0}),h=oe({},h,{value:void 0}),_=[];break;case"textarea":m=Pa(i,m),h=Pa(i,h),_=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=$u)}Na(l,h);var T;l=null;for(Q in m)if(!h.hasOwnProperty(Q)&&m.hasOwnProperty(Q)&&m[Q]!=null)if(Q==="style"){var j=m[Q];for(T in j)j.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(s.hasOwnProperty(Q)?_||(_=[]):(_=_||[]).push(Q,null));for(Q in h){var U=h[Q];if(j=m!=null?m[Q]:void 0,h.hasOwnProperty(Q)&&U!==j&&(U!=null||j!=null))if(Q==="style")if(j){for(T in j)!j.hasOwnProperty(T)||U&&U.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in U)U.hasOwnProperty(T)&&j[T]!==U[T]&&(l||(l={}),l[T]=U[T])}else l||(_||(_=[]),_.push(Q,l)),l=U;else Q==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,j=j?j.__html:void 0,U!=null&&j!==U&&(_=_||[]).push(Q,U)):Q==="children"?typeof U!="string"&&typeof U!="number"||(_=_||[]).push(Q,""+U):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(s.hasOwnProperty(Q)?(U!=null&&Q==="onScroll"&&Je("scroll",i),_||j===U||(_=[])):(_=_||[]).push(Q,U))}l&&(_=_||[]).push("style",l);var Q=_;(o.updateQueue=Q)&&(o.flags|=4)}},By=function(i,o,l,h){l!==h&&(o.flags|=4)};function fl(i,o){if(!tt)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Ut(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(o)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=h,i.childLanes=l,o}function S0(i,o,l){var h=o.pendingProps;switch(kf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(o),null;case 1:return rn(o.type)&&zu(),Ut(o),null;case 3:return h=o.stateNode,Mo(),Ze(nn),Ze(Ft),Bf(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(qu(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Yn!==null&&(vh(Yn),Yn=null))),lh(i,o),Ut(o),null;case 5:Uf(o);var m=Cs(al.current);if(l=o.type,i!==null&&o.stateNode!=null)zy(i,o,l,h,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return Ut(o),null}if(i=Cs(_r.current),qu(o)){h=o.stateNode,l=o.type;var _=o.memoizedProps;switch(h[yr]=o,h[nl]=_,i=(o.mode&1)!==0,l){case"dialog":Je("cancel",h),Je("close",h);break;case"iframe":case"object":case"embed":Je("load",h);break;case"video":case"audio":for(m=0;m<Za.length;m++)Je(Za[m],h);break;case"source":Je("error",h);break;case"img":case"image":case"link":Je("error",h),Je("load",h);break;case"details":Je("toggle",h);break;case"input":Ys(h,_),Je("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!_.multiple},Je("invalid",h);break;case"textarea":Js(h,_),Je("invalid",h)}Na(l,_),m=null;for(var T in _)if(_.hasOwnProperty(T)){var j=_[T];T==="children"?typeof j=="string"?h.textContent!==j&&(_.suppressHydrationWarning!==!0&&Fu(h.textContent,j,i),m=["children",j]):typeof j=="number"&&h.textContent!==""+j&&(_.suppressHydrationWarning!==!0&&Fu(h.textContent,j,i),m=["children",""+j]):s.hasOwnProperty(T)&&j!=null&&T==="onScroll"&&Je("scroll",h)}switch(l){case"input":Nr(h),du(h,_,!0);break;case"textarea":Nr(h),xa(h);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(h.onclick=$u)}h=m,o.updateQueue=h,h!==null&&(o.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=gt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=T.createElement(l,{is:h.is}):(i=T.createElement(l),l==="select"&&(T=i,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):i=T.createElementNS(i,l),i[yr]=o,i[nl]=h,Uy(i,o,!1,!1),o.stateNode=i;e:{switch(T=Oa(l,h),l){case"dialog":Je("cancel",i),Je("close",i),m=h;break;case"iframe":case"object":case"embed":Je("load",i),m=h;break;case"video":case"audio":for(m=0;m<Za.length;m++)Je(Za[m],i);m=h;break;case"source":Je("error",i),m=h;break;case"img":case"image":case"link":Je("error",i),Je("load",i),m=h;break;case"details":Je("toggle",i),m=h;break;case"input":Ys(i,h),m=is(i,h),Je("invalid",i);break;case"option":m=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},m=oe({},h,{value:void 0}),Je("invalid",i);break;case"textarea":Js(i,h),m=Pa(i,h),Je("invalid",i);break;default:m=h}Na(l,m),j=m;for(_ in j)if(j.hasOwnProperty(_)){var U=j[_];_==="style"?ka(i,U):_==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&Ra(i,U)):_==="children"?typeof U=="string"?(l!=="textarea"||U!=="")&&di(i,U):typeof U=="number"&&di(i,""+U):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(s.hasOwnProperty(_)?U!=null&&_==="onScroll"&&Je("scroll",i):U!=null&&A(i,_,U,T))}switch(l){case"input":Nr(i),du(i,h,!1);break;case"textarea":Nr(i),xa(i);break;case"option":h.value!=null&&i.setAttribute("value",""+Oe(h.value));break;case"select":i.multiple=!!h.multiple,_=h.value,_!=null?Lr(i,!!h.multiple,_,!1):h.defaultValue!=null&&Lr(i,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=$u)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Ut(o),null;case 6:if(i&&o.stateNode!=null)By(i,o,i.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(l=Cs(al.current),Cs(_r.current),qu(o)){if(h=o.stateNode,l=o.memoizedProps,h[yr]=o,(_=h.nodeValue!==l)&&(i=gn,i!==null))switch(i.tag){case 3:Fu(h.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Fu(h.nodeValue,l,(i.mode&1)!==0)}_&&(o.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[yr]=o,o.stateNode=h}return Ut(o),null;case 13:if(Ze(it),h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(tt&&yn!==null&&o.mode&1&&!(o.flags&128))Gg(),No(),o.flags|=98560,_=!1;else if(_=qu(o),h!==null&&h.dehydrated!==null){if(i===null){if(!_)throw Error(t(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[yr]=o}else No(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Ut(o),_=!1}else Yn!==null&&(vh(Yn),Yn=null),_=!0;if(!_)return o.flags&65536?o:null}return o.flags&128?(o.lanes=l,o):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(o.child.flags|=8192,o.mode&1&&(i===null||it.current&1?wt===0&&(wt=3):Th())),o.updateQueue!==null&&(o.flags|=4),Ut(o),null);case 4:return Mo(),lh(i,o),i===null&&el(o.stateNode.containerInfo),Ut(o),null;case 10:return Mf(o.type._context),Ut(o),null;case 17:return rn(o.type)&&zu(),Ut(o),null;case 19:if(Ze(it),_=o.memoizedState,_===null)return Ut(o),null;if(h=(o.flags&128)!==0,T=_.rendering,T===null)if(h)fl(_,!1);else{if(wt!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(T=Zu(i),T!==null){for(o.flags|=128,fl(_,!1),h=T.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=l,l=o.child;l!==null;)_=l,i=h,_.flags&=14680066,T=_.alternate,T===null?(_.childLanes=0,_.lanes=i,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=T.childLanes,_.lanes=T.lanes,_.child=T.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=T.memoizedProps,_.memoizedState=T.memoizedState,_.updateQueue=T.updateQueue,_.type=T.type,i=T.dependencies,_.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Qe(it,it.current&1|2),o.child}i=i.sibling}_.tail!==null&&Ke()>$o&&(o.flags|=128,h=!0,fl(_,!1),o.lanes=4194304)}else{if(!h)if(i=Zu(T),i!==null){if(o.flags|=128,h=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),fl(_,!0),_.tail===null&&_.tailMode==="hidden"&&!T.alternate&&!tt)return Ut(o),null}else 2*Ke()-_.renderingStartTime>$o&&l!==1073741824&&(o.flags|=128,h=!0,fl(_,!1),o.lanes=4194304);_.isBackwards?(T.sibling=o.child,o.child=T):(l=_.last,l!==null?l.sibling=T:o.child=T,_.last=T)}return _.tail!==null?(o=_.tail,_.rendering=o,_.tail=o.sibling,_.renderingStartTime=Ke(),o.sibling=null,l=it.current,Qe(it,h?l&1|2:l&1),o):(Ut(o),null);case 22:case 23:return Eh(),h=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(o.flags|=8192),h&&o.mode&1?_n&1073741824&&(Ut(o),o.subtreeFlags&6&&(o.flags|=8192)):Ut(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function I0(i,o){switch(kf(o),o.tag){case 1:return rn(o.type)&&zu(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Mo(),Ze(nn),Ze(Ft),Bf(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return Uf(o),null;case 13:if(Ze(it),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));No()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Ze(it),null;case 4:return Mo(),null;case 10:return Mf(o.type._context),null;case 22:case 23:return Eh(),null;case 24:return null;default:return null}}var lc=!1,zt=!1,C0=typeof WeakSet=="function"?WeakSet:Set,he=null;function jo(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){at(i,o,h)}else l.current=null}function uh(i,o,l){try{l()}catch(h){at(i,o,h)}}var Hy=!1;function P0(i,o){if(Ef=vi,i=Tg(),hf(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var m=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var T=0,j=-1,U=-1,Q=0,te=0,ne=i,ee=null;t:for(;;){for(var de;ne!==l||m!==0&&ne.nodeType!==3||(j=T+m),ne!==_||h!==0&&ne.nodeType!==3||(U=T+h),ne.nodeType===3&&(T+=ne.nodeValue.length),(de=ne.firstChild)!==null;)ee=ne,ne=de;for(;;){if(ne===i)break t;if(ee===l&&++Q===m&&(j=T),ee===_&&++te===h&&(U=T),(de=ne.nextSibling)!==null)break;ne=ee,ee=ne.parentNode}ne=de}l=j===-1||U===-1?null:{start:j,end:U}}else l=null}l=l||{start:0,end:0}}else l=null;for(Tf={focusedElem:i,selectionRange:l},vi=!1,he=o;he!==null;)if(o=he,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,he=i;else for(;he!==null;){o=he;try{var pe=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,dt=pe.memoizedState,q=o.stateNode,B=q.getSnapshotBeforeUpdate(o.elementType===o.type?me:Xn(o.type,me),dt);q.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var K=o.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){at(o,o.return,se)}if(i=o.sibling,i!==null){i.return=o.return,he=i;break}he=o.return}return pe=Hy,Hy=!1,pe}function hl(i,o,l){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&i)===i){var _=m.destroy;m.destroy=void 0,_!==void 0&&uh(o,l,_)}m=m.next}while(m!==h)}}function uc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var h=l.create;l.destroy=h()}l=l.next}while(l!==o)}}function ch(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function Wy(i){var o=i.alternate;o!==null&&(i.alternate=null,Wy(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[yr],delete o[nl],delete o[Pf],delete o[l0],delete o[u0])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Gy(i){return i.tag===5||i.tag===3||i.tag===4}function qy(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Gy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function dh(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=$u));else if(h!==4&&(i=i.child,i!==null))for(dh(i,o,l),i=i.sibling;i!==null;)dh(i,o,l),i=i.sibling}function fh(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(fh(i,o,l),i=i.sibling;i!==null;)fh(i,o,l),i=i.sibling}var Ot=null,Jn=!1;function Ri(i,o,l){for(l=l.child;l!==null;)Ky(i,o,l),l=l.sibling}function Ky(i,o,l){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(hs,l)}catch{}switch(l.tag){case 5:zt||jo(l,o);case 6:var h=Ot,m=Jn;Ot=null,Ri(i,o,l),Ot=h,Jn=m,Ot!==null&&(Jn?(i=Ot,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Ot.removeChild(l.stateNode));break;case 18:Ot!==null&&(Jn?(i=Ot,l=l.stateNode,i.nodeType===8?Cf(i.parentNode,l):i.nodeType===1&&Cf(i,l),qn(i)):Cf(Ot,l.stateNode));break;case 4:h=Ot,m=Jn,Ot=l.stateNode.containerInfo,Jn=!0,Ri(i,o,l),Ot=h,Jn=m;break;case 0:case 11:case 14:case 15:if(!zt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var _=m,T=_.destroy;_=_.tag,T!==void 0&&(_&2||_&4)&&uh(l,o,T),m=m.next}while(m!==h)}Ri(i,o,l);break;case 1:if(!zt&&(jo(l,o),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(j){at(l,o,j)}Ri(i,o,l);break;case 21:Ri(i,o,l);break;case 22:l.mode&1?(zt=(h=zt)||l.memoizedState!==null,Ri(i,o,l),zt=h):Ri(i,o,l);break;default:Ri(i,o,l)}}function Qy(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new C0),o.forEach(function(h){var m=D0.bind(null,i,h);l.has(h)||(l.add(h),h.then(m,m))})}}function Zn(i,o){var l=o.deletions;if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];try{var _=i,T=o,j=T;e:for(;j!==null;){switch(j.tag){case 5:Ot=j.stateNode,Jn=!1;break e;case 3:Ot=j.stateNode.containerInfo,Jn=!0;break e;case 4:Ot=j.stateNode.containerInfo,Jn=!0;break e}j=j.return}if(Ot===null)throw Error(t(160));Ky(_,T,m),Ot=null,Jn=!1;var U=m.alternate;U!==null&&(U.return=null),m.return=null}catch(Q){at(m,o,Q)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Yy(o,i),o=o.sibling}function Yy(i,o){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Zn(o,i),wr(i),h&4){try{hl(3,i,i.return),uc(3,i)}catch(me){at(i,i.return,me)}try{hl(5,i,i.return)}catch(me){at(i,i.return,me)}}break;case 1:Zn(o,i),wr(i),h&512&&l!==null&&jo(l,l.return);break;case 5:if(Zn(o,i),wr(i),h&512&&l!==null&&jo(l,l.return),i.flags&32){var m=i.stateNode;try{di(m,"")}catch(me){at(i,i.return,me)}}if(h&4&&(m=i.stateNode,m!=null)){var _=i.memoizedProps,T=l!==null?l.memoizedProps:_,j=i.type,U=i.updateQueue;if(i.updateQueue=null,U!==null)try{j==="input"&&_.type==="radio"&&_.name!=null&&Ia(m,_),Oa(j,T);var Q=Oa(j,_);for(T=0;T<U.length;T+=2){var te=U[T],ne=U[T+1];te==="style"?ka(m,ne):te==="dangerouslySetInnerHTML"?Ra(m,ne):te==="children"?di(m,ne):A(m,te,ne,Q)}switch(j){case"input":Ca(m,_);break;case"textarea":Zs(m,_);break;case"select":var ee=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!_.multiple;var de=_.value;de!=null?Lr(m,!!_.multiple,de,!1):ee!==!!_.multiple&&(_.defaultValue!=null?Lr(m,!!_.multiple,_.defaultValue,!0):Lr(m,!!_.multiple,_.multiple?[]:"",!1))}m[nl]=_}catch(me){at(i,i.return,me)}}break;case 6:if(Zn(o,i),wr(i),h&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,_=i.memoizedProps;try{m.nodeValue=_}catch(me){at(i,i.return,me)}}break;case 3:if(Zn(o,i),wr(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{qn(o.containerInfo)}catch(me){at(i,i.return,me)}break;case 4:Zn(o,i),wr(i);break;case 13:Zn(o,i),wr(i),m=i.child,m.flags&8192&&(_=m.memoizedState!==null,m.stateNode.isHidden=_,!_||m.alternate!==null&&m.alternate.memoizedState!==null||(mh=Ke())),h&4&&Qy(i);break;case 22:if(te=l!==null&&l.memoizedState!==null,i.mode&1?(zt=(Q=zt)||te,Zn(o,i),zt=Q):Zn(o,i),wr(i),h&8192){if(Q=i.memoizedState!==null,(i.stateNode.isHidden=Q)&&!te&&i.mode&1)for(he=i,te=i.child;te!==null;){for(ne=he=te;he!==null;){switch(ee=he,de=ee.child,ee.tag){case 0:case 11:case 14:case 15:hl(4,ee,ee.return);break;case 1:jo(ee,ee.return);var pe=ee.stateNode;if(typeof pe.componentWillUnmount=="function"){h=ee,l=ee.return;try{o=h,pe.props=o.memoizedProps,pe.state=o.memoizedState,pe.componentWillUnmount()}catch(me){at(h,l,me)}}break;case 5:jo(ee,ee.return);break;case 22:if(ee.memoizedState!==null){Zy(ne);continue}}de!==null?(de.return=ee,he=de):Zy(ne)}te=te.sibling}e:for(te=null,ne=i;;){if(ne.tag===5){if(te===null){te=ne;try{m=ne.stateNode,Q?(_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(j=ne.stateNode,U=ne.memoizedProps.style,T=U!=null&&U.hasOwnProperty("display")?U.display:null,j.style.display=Aa("display",T))}catch(me){at(i,i.return,me)}}}else if(ne.tag===6){if(te===null)try{ne.stateNode.nodeValue=Q?"":ne.memoizedProps}catch(me){at(i,i.return,me)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===i)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===i)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===i)break e;te===ne&&(te=null),ne=ne.return}te===ne&&(te=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:Zn(o,i),wr(i),h&4&&Qy(i);break;case 21:break;default:Zn(o,i),wr(i)}}function wr(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(Gy(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(di(m,""),h.flags&=-33);var _=qy(i);fh(i,_,m);break;case 3:case 4:var T=h.stateNode.containerInfo,j=qy(i);dh(i,j,T);break;default:throw Error(t(161))}}catch(U){at(i,i.return,U)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function x0(i,o,l){he=i,Xy(i)}function Xy(i,o,l){for(var h=(i.mode&1)!==0;he!==null;){var m=he,_=m.child;if(m.tag===22&&h){var T=m.memoizedState!==null||lc;if(!T){var j=m.alternate,U=j!==null&&j.memoizedState!==null||zt;j=lc;var Q=zt;if(lc=T,(zt=U)&&!Q)for(he=m;he!==null;)T=he,U=T.child,T.tag===22&&T.memoizedState!==null?e_(m):U!==null?(U.return=T,he=U):e_(m);for(;_!==null;)he=_,Xy(_),_=_.sibling;he=m,lc=j,zt=Q}Jy(i)}else m.subtreeFlags&8772&&_!==null?(_.return=m,he=_):Jy(i)}}function Jy(i){for(;he!==null;){var o=he;if(o.flags&8772){var l=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:zt||uc(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!zt)if(l===null)h.componentDidMount();else{var m=o.elementType===o.type?l.memoizedProps:Xn(o.type,l.memoizedProps);h.componentDidUpdate(m,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var _=o.updateQueue;_!==null&&Zg(o,_,h);break;case 3:var T=o.updateQueue;if(T!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}Zg(o,T,l)}break;case 5:var j=o.stateNode;if(l===null&&o.flags&4){l=j;var U=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&l.focus();break;case"img":U.src&&(l.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Q=o.alternate;if(Q!==null){var te=Q.memoizedState;if(te!==null){var ne=te.dehydrated;ne!==null&&qn(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}zt||o.flags&512&&ch(o)}catch(ee){at(o,o.return,ee)}}if(o===i){he=null;break}if(l=o.sibling,l!==null){l.return=o.return,he=l;break}he=o.return}}function Zy(i){for(;he!==null;){var o=he;if(o===i){he=null;break}var l=o.sibling;if(l!==null){l.return=o.return,he=l;break}he=o.return}}function e_(i){for(;he!==null;){var o=he;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{uc(4,o)}catch(U){at(o,l,U)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var m=o.return;try{h.componentDidMount()}catch(U){at(o,m,U)}}var _=o.return;try{ch(o)}catch(U){at(o,_,U)}break;case 5:var T=o.return;try{ch(o)}catch(U){at(o,T,U)}}}catch(U){at(o,o.return,U)}if(o===i){he=null;break}var j=o.sibling;if(j!==null){j.return=o.return,he=j;break}he=o.return}}var R0=Math.ceil,cc=F.ReactCurrentDispatcher,hh=F.ReactCurrentOwner,Nn=F.ReactCurrentBatchConfig,Ue=0,xt=null,pt=null,Lt=0,_n=0,Fo=Si(0),wt=0,pl=null,xs=0,dc=0,ph=0,ml=null,on=null,mh=0,$o=1/0,Qr=null,fc=!1,gh=null,Ai=null,hc=!1,ki=null,pc=0,gl=0,yh=null,mc=-1,gc=0;function Xt(){return Ue&6?Ke():mc!==-1?mc:mc=Ke()}function bi(i){return i.mode&1?Ue&2&&Lt!==0?Lt&-Lt:d0.transition!==null?(gc===0&&(gc=ms()),gc):(i=Ve,i!==0||(i=window.event,i=i===void 0?16:Ha(i.type)),i):1}function er(i,o,l,h){if(50<gl)throw gl=0,yh=null,Error(t(185));mi(i,l,h),(!(Ue&2)||i!==xt)&&(i===xt&&(!(Ue&2)&&(dc|=l),wt===4&&Ni(i,Lt)),an(i,h),l===1&&Ue===0&&!(o.mode&1)&&($o=Ke()+500,Hu&&Ci()))}function an(i,o){var l=i.callbackNode;Vr(i,o);var h=ps(i,i===xt?Lt:0);if(h===0)l!==null&&Fa(l),i.callbackNode=null,i.callbackPriority=0;else if(o=h&-h,i.callbackPriority!==o){if(l!=null&&Fa(l),o===1)i.tag===0?c0(n_.bind(null,i)):Ug(n_.bind(null,i)),o0(function(){!(Ue&6)&&Ci()}),l=null;else{switch(yi(h)){case 1:l=fs;break;case 4:l=fi;break;case 16:l=Cn;break;case 536870912:l=gu;break;default:l=Cn}l=c_(l,t_.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function t_(i,o){if(mc=-1,gc=0,Ue&6)throw Error(t(327));var l=i.callbackNode;if(Uo()&&i.callbackNode!==l)return null;var h=ps(i,i===xt?Lt:0);if(h===0)return null;if(h&30||h&i.expiredLanes||o)o=yc(i,h);else{o=h;var m=Ue;Ue|=2;var _=i_();(xt!==i||Lt!==o)&&(Qr=null,$o=Ke()+500,As(i,o));do try{b0();break}catch(j){r_(i,j)}while(!0);Df(),cc.current=_,Ue=m,pt!==null?o=0:(xt=null,Lt=0,o=wt)}if(o!==0){if(o===2&&(m=hn(i),m!==0&&(h=m,o=_h(i,m))),o===1)throw l=pl,As(i,0),Ni(i,h),an(i,Ke()),l;if(o===6)Ni(i,h);else{if(m=i.current.alternate,!(h&30)&&!A0(m)&&(o=yc(i,h),o===2&&(_=hn(i),_!==0&&(h=_,o=_h(i,_))),o===1))throw l=pl,As(i,0),Ni(i,h),an(i,Ke()),l;switch(i.finishedWork=m,i.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:ks(i,on,Qr);break;case 3:if(Ni(i,h),(h&130023424)===h&&(o=mh+500-Ke(),10<o)){if(ps(i,0)!==0)break;if(m=i.suspendedLanes,(m&h)!==h){Xt(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=If(ks.bind(null,i,on,Qr),o);break}ks(i,on,Qr);break;case 4:if(Ni(i,h),(h&4194240)===h)break;for(o=i.eventTimes,m=-1;0<h;){var T=31-Kt(h);_=1<<T,T=o[T],T>m&&(m=T),h&=~_}if(h=m,h=Ke()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*R0(h/1960))-h,10<h){i.timeoutHandle=If(ks.bind(null,i,on,Qr),h);break}ks(i,on,Qr);break;case 5:ks(i,on,Qr);break;default:throw Error(t(329))}}}return an(i,Ke()),i.callbackNode===l?t_.bind(null,i):null}function _h(i,o){var l=ml;return i.current.memoizedState.isDehydrated&&(As(i,o).flags|=256),i=yc(i,o),i!==2&&(o=on,on=l,o!==null&&vh(o)),i}function vh(i){on===null?on=i:on.push.apply(on,i)}function A0(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var m=l[h],_=m.getSnapshot;m=m.value;try{if(!Qn(_(),m))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ni(i,o){for(o&=~ph,o&=~dc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-Kt(o),h=1<<l;i[l]=-1,o&=~h}}function n_(i){if(Ue&6)throw Error(t(327));Uo();var o=ps(i,0);if(!(o&1))return an(i,Ke()),null;var l=yc(i,o);if(i.tag!==0&&l===2){var h=hn(i);h!==0&&(o=h,l=_h(i,h))}if(l===1)throw l=pl,As(i,0),Ni(i,o),an(i,Ke()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,ks(i,on,Qr),an(i,Ke()),null}function wh(i,o){var l=Ue;Ue|=1;try{return i(o)}finally{Ue=l,Ue===0&&($o=Ke()+500,Hu&&Ci())}}function Rs(i){ki!==null&&ki.tag===0&&!(Ue&6)&&Uo();var o=Ue;Ue|=1;var l=Nn.transition,h=Ve;try{if(Nn.transition=null,Ve=1,i)return i()}finally{Ve=h,Nn.transition=l,Ue=o,!(Ue&6)&&Ci()}}function Eh(){_n=Fo.current,Ze(Fo)}function As(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,s0(l)),pt!==null)for(l=pt.return;l!==null;){var h=l;switch(kf(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&zu();break;case 3:Mo(),Ze(nn),Ze(Ft),Bf();break;case 5:Uf(h);break;case 4:Mo();break;case 13:Ze(it);break;case 19:Ze(it);break;case 10:Mf(h.type._context);break;case 22:case 23:Eh()}l=l.return}if(xt=i,pt=i=Oi(i.current,null),Lt=_n=o,wt=0,pl=null,ph=dc=xs=0,on=ml=null,Is!==null){for(o=0;o<Is.length;o++)if(l=Is[o],h=l.interleaved,h!==null){l.interleaved=null;var m=h.next,_=l.pending;if(_!==null){var T=_.next;_.next=m,h.next=T}l.pending=h}Is=null}return i}function r_(i,o){do{var l=pt;try{if(Df(),ec.current=ic,tc){for(var h=st.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}tc=!1}if(Ps=0,Pt=vt=st=null,ll=!1,ul=0,hh.current=null,l===null||l.return===null){wt=1,pl=o,pt=null;break}e:{var _=i,T=l.return,j=l,U=o;if(o=Lt,j.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var Q=U,te=j,ne=te.tag;if(!(te.mode&1)&&(ne===0||ne===11||ne===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var de=Ry(T);if(de!==null){de.flags&=-257,Ay(de,T,j,_,o),de.mode&1&&xy(_,Q,o),o=de,U=Q;var pe=o.updateQueue;if(pe===null){var me=new Set;me.add(U),o.updateQueue=me}else pe.add(U);break e}else{if(!(o&1)){xy(_,Q,o),Th();break e}U=Error(t(426))}}else if(tt&&j.mode&1){var dt=Ry(T);if(dt!==null){!(dt.flags&65536)&&(dt.flags|=256),Ay(dt,T,j,_,o),Of(Vo(U,j));break e}}_=U=Vo(U,j),wt!==4&&(wt=2),ml===null?ml=[_]:ml.push(_),_=T;do{switch(_.tag){case 3:_.flags|=65536,o&=-o,_.lanes|=o;var q=Cy(_,U,o);Jg(_,q);break e;case 1:j=U;var B=_.type,K=_.stateNode;if(!(_.flags&128)&&(typeof B.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Ai===null||!Ai.has(K)))){_.flags|=65536,o&=-o,_.lanes|=o;var se=Py(_,j,o);Jg(_,se);break e}}_=_.return}while(_!==null)}o_(l)}catch(ye){o=ye,pt===l&&l!==null&&(pt=l=l.return);continue}break}while(!0)}function i_(){var i=cc.current;return cc.current=ic,i===null?ic:i}function Th(){(wt===0||wt===3||wt===2)&&(wt=4),xt===null||!(xs&268435455)&&!(dc&268435455)||Ni(xt,Lt)}function yc(i,o){var l=Ue;Ue|=2;var h=i_();(xt!==i||Lt!==o)&&(Qr=null,As(i,o));do try{k0();break}catch(m){r_(i,m)}while(!0);if(Df(),Ue=l,cc.current=h,pt!==null)throw Error(t(261));return xt=null,Lt=0,wt}function k0(){for(;pt!==null;)s_(pt)}function b0(){for(;pt!==null&&!pu();)s_(pt)}function s_(i){var o=u_(i.alternate,i,_n);i.memoizedProps=i.pendingProps,o===null?o_(i):pt=o,hh.current=null}function o_(i){var o=i;do{var l=o.alternate;if(i=o.return,o.flags&32768){if(l=I0(l,o),l!==null){l.flags&=32767,pt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{wt=6,pt=null;return}}else if(l=S0(l,o,_n),l!==null){pt=l;return}if(o=o.sibling,o!==null){pt=o;return}pt=o=i}while(o!==null);wt===0&&(wt=5)}function ks(i,o,l){var h=Ve,m=Nn.transition;try{Nn.transition=null,Ve=1,N0(i,o,l,h)}finally{Nn.transition=m,Ve=h}return null}function N0(i,o,l,h){do Uo();while(ki!==null);if(Ue&6)throw Error(t(327));l=i.finishedWork;var m=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var _=l.lanes|l.childLanes;if(Ge(i,_),i===xt&&(pt=xt=null,Lt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||hc||(hc=!0,c_(Cn,function(){return Uo(),null})),_=(l.flags&15990)!==0,l.subtreeFlags&15990||_){_=Nn.transition,Nn.transition=null;var T=Ve;Ve=1;var j=Ue;Ue|=4,hh.current=null,P0(i,l),Yy(l,i),JS(Tf),vi=!!Ef,Tf=Ef=null,i.current=l,x0(l),sf(),Ue=j,Ve=T,Nn.transition=_}else i.current=l;if(hc&&(hc=!1,ki=i,pc=m),_=i.pendingLanes,_===0&&(Ai=null),yu(l.stateNode),an(i,Ke()),o!==null)for(h=i.onRecoverableError,l=0;l<o.length;l++)m=o[l],h(m.value,{componentStack:m.stack,digest:m.digest});if(fc)throw fc=!1,i=gh,gh=null,i;return pc&1&&i.tag!==0&&Uo(),_=i.pendingLanes,_&1?i===yh?gl++:(gl=0,yh=i):gl=0,Ci(),null}function Uo(){if(ki!==null){var i=yi(pc),o=Nn.transition,l=Ve;try{if(Nn.transition=null,Ve=16>i?16:i,ki===null)var h=!1;else{if(i=ki,ki=null,pc=0,Ue&6)throw Error(t(331));var m=Ue;for(Ue|=4,he=i.current;he!==null;){var _=he,T=_.child;if(he.flags&16){var j=_.deletions;if(j!==null){for(var U=0;U<j.length;U++){var Q=j[U];for(he=Q;he!==null;){var te=he;switch(te.tag){case 0:case 11:case 15:hl(8,te,_)}var ne=te.child;if(ne!==null)ne.return=te,he=ne;else for(;he!==null;){te=he;var ee=te.sibling,de=te.return;if(Wy(te),te===Q){he=null;break}if(ee!==null){ee.return=de,he=ee;break}he=de}}}var pe=_.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var dt=me.sibling;me.sibling=null,me=dt}while(me!==null)}}he=_}}if(_.subtreeFlags&2064&&T!==null)T.return=_,he=T;else e:for(;he!==null;){if(_=he,_.flags&2048)switch(_.tag){case 0:case 11:case 15:hl(9,_,_.return)}var q=_.sibling;if(q!==null){q.return=_.return,he=q;break e}he=_.return}}var B=i.current;for(he=B;he!==null;){T=he;var K=T.child;if(T.subtreeFlags&2064&&K!==null)K.return=T,he=K;else e:for(T=B;he!==null;){if(j=he,j.flags&2048)try{switch(j.tag){case 0:case 11:case 15:uc(9,j)}}catch(ye){at(j,j.return,ye)}if(j===T){he=null;break e}var se=j.sibling;if(se!==null){se.return=j.return,he=se;break e}he=j.return}}if(Ue=m,Ci(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(hs,i)}catch{}h=!0}return h}finally{Ve=l,Nn.transition=o}}return!1}function a_(i,o,l){o=Vo(l,o),o=Cy(i,o,1),i=xi(i,o,1),o=Xt(),i!==null&&(mi(i,1,o),an(i,o))}function at(i,o,l){if(i.tag===3)a_(i,i,l);else for(;o!==null;){if(o.tag===3){a_(o,i,l);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ai===null||!Ai.has(h))){i=Vo(l,i),i=Py(o,i,1),o=xi(o,i,1),i=Xt(),o!==null&&(mi(o,1,i),an(o,i));break}}o=o.return}}function O0(i,o,l){var h=i.pingCache;h!==null&&h.delete(o),o=Xt(),i.pingedLanes|=i.suspendedLanes&l,xt===i&&(Lt&l)===l&&(wt===4||wt===3&&(Lt&130023424)===Lt&&500>Ke()-mh?As(i,0):ph|=l),an(i,o)}function l_(i,o){o===0&&(i.mode&1?(o=uo,uo<<=1,!(uo&130023424)&&(uo=4194304)):o=1);var l=Xt();i=Gr(i,o),i!==null&&(mi(i,o,l),an(i,l))}function L0(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),l_(i,l)}function D0(i,o){var l=0;switch(i.tag){case 13:var h=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),l_(i,l)}var u_;u_=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||nn.current)sn=!0;else{if(!(i.lanes&l)&&!(o.flags&128))return sn=!1,T0(i,o,l);sn=!!(i.flags&131072)}else sn=!1,tt&&o.flags&1048576&&zg(o,Gu,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;ac(i,o),i=o.pendingProps;var m=Ao(o,Ft.current);Do(o,l),m=Gf(null,o,h,i,m,l);var _=qf();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,rn(h)?(_=!0,Bu(o)):_=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Ff(o),m.updater=sc,o.stateNode=m,m._reactInternals=o,Zf(o,h,i,l),o=rh(null,o,h,!0,_,l)):(o.tag=0,tt&&_&&Af(o),Yt(null,o,m,l),o=o.child),o;case 16:h=o.elementType;e:{switch(ac(i,o),i=o.pendingProps,m=h._init,h=m(h._payload),o.type=h,m=o.tag=V0(h),i=Xn(h,i),m){case 0:o=nh(null,o,h,i,l);break e;case 1:o=Dy(null,o,h,i,l);break e;case 11:o=ky(null,o,h,i,l);break e;case 14:o=by(null,o,h,Xn(h.type,i),l);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Xn(h,m),nh(i,o,h,m,l);case 1:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Xn(h,m),Dy(i,o,h,m,l);case 3:e:{if(My(o),i===null)throw Error(t(387));h=o.pendingProps,_=o.memoizedState,m=_.element,Xg(i,o),Ju(o,h,null,l);var T=o.memoizedState;if(h=T.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){m=Vo(Error(t(423)),o),o=Vy(i,o,h,l,m);break e}else if(h!==m){m=Vo(Error(t(424)),o),o=Vy(i,o,h,l,m);break e}else for(yn=Ti(o.stateNode.containerInfo.firstChild),gn=o,tt=!0,Yn=null,l=Qg(o,null,h,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(No(),h===m){o=Kr(i,o,l);break e}Yt(i,o,h,l)}o=o.child}return o;case 5:return ey(o),i===null&&Nf(o),h=o.type,m=o.pendingProps,_=i!==null?i.memoizedProps:null,T=m.children,Sf(h,m)?T=null:_!==null&&Sf(h,_)&&(o.flags|=32),Ly(i,o),Yt(i,o,T,l),o.child;case 6:return i===null&&Nf(o),null;case 13:return jy(i,o,l);case 4:return $f(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=Oo(o,null,h,l):Yt(i,o,h,l),o.child;case 11:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Xn(h,m),ky(i,o,h,m,l);case 7:return Yt(i,o,o.pendingProps,l),o.child;case 8:return Yt(i,o,o.pendingProps.children,l),o.child;case 12:return Yt(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(h=o.type._context,m=o.pendingProps,_=o.memoizedProps,T=m.value,Qe(Qu,h._currentValue),h._currentValue=T,_!==null)if(Qn(_.value,T)){if(_.children===m.children&&!nn.current){o=Kr(i,o,l);break e}}else for(_=o.child,_!==null&&(_.return=o);_!==null;){var j=_.dependencies;if(j!==null){T=_.child;for(var U=j.firstContext;U!==null;){if(U.context===h){if(_.tag===1){U=qr(-1,l&-l),U.tag=2;var Q=_.updateQueue;if(Q!==null){Q=Q.shared;var te=Q.pending;te===null?U.next=U:(U.next=te.next,te.next=U),Q.pending=U}}_.lanes|=l,U=_.alternate,U!==null&&(U.lanes|=l),Vf(_.return,l,o),j.lanes|=l;break}U=U.next}}else if(_.tag===10)T=_.type===o.type?null:_.child;else if(_.tag===18){if(T=_.return,T===null)throw Error(t(341));T.lanes|=l,j=T.alternate,j!==null&&(j.lanes|=l),Vf(T,l,o),T=_.sibling}else T=_.child;if(T!==null)T.return=_;else for(T=_;T!==null;){if(T===o){T=null;break}if(_=T.sibling,_!==null){_.return=T.return,T=_;break}T=T.return}_=T}Yt(i,o,m.children,l),o=o.child}return o;case 9:return m=o.type,h=o.pendingProps.children,Do(o,l),m=kn(m),h=h(m),o.flags|=1,Yt(i,o,h,l),o.child;case 14:return h=o.type,m=Xn(h,o.pendingProps),m=Xn(h.type,m),by(i,o,h,m,l);case 15:return Ny(i,o,o.type,o.pendingProps,l);case 17:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Xn(h,m),ac(i,o),o.tag=1,rn(h)?(i=!0,Bu(o)):i=!1,Do(o,l),Sy(o,h,m),Zf(o,h,m,l),rh(null,o,h,!0,i,l);case 19:return $y(i,o,l);case 22:return Oy(i,o,l)}throw Error(t(156,o.tag))};function c_(i,o){return ao(i,o)}function M0(i,o,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(i,o,l,h){return new M0(i,o,l,h)}function Sh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function V0(i){if(typeof i=="function")return Sh(i)?1:0;if(i!=null){if(i=i.$$typeof,i===$)return 11;if(i===_e)return 14}return 2}function Oi(i,o){var l=i.alternate;return l===null?(l=On(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function _c(i,o,l,h,m,_){var T=2;if(h=i,typeof i=="function")Sh(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case M:return bs(l.children,m,_,o);case I:T=8,m|=8;break;case P:return i=On(12,l,o,m|2),i.elementType=P,i.lanes=_,i;case N:return i=On(13,l,o,m),i.elementType=N,i.lanes=_,i;case ue:return i=On(19,l,o,m),i.elementType=ue,i.lanes=_,i;case Pe:return vc(l,m,_,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case L:T=10;break e;case V:T=9;break e;case $:T=11;break e;case _e:T=14;break e;case ve:T=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=On(T,l,o,m),o.elementType=i,o.type=h,o.lanes=_,o}function bs(i,o,l,h){return i=On(7,i,h,o),i.lanes=l,i}function vc(i,o,l,h){return i=On(22,i,h,o),i.elementType=Pe,i.lanes=l,i.stateNode={isHidden:!1},i}function Ih(i,o,l){return i=On(6,i,null,o),i.lanes=l,i}function Ch(i,o,l){return o=On(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function j0(i,o,l,h,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pi(0),this.expirationTimes=pi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Ph(i,o,l,h,m,_,T,j,U){return i=new j0(i,o,l,j,U),o===1?(o=1,_===!0&&(o|=8)):o=0,_=On(3,null,null,o),i.current=_,_.stateNode=i,_.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ff(_),i}function F0(i,o,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:h==null?null:""+h,children:i,containerInfo:o,implementation:l}}function d_(i){if(!i)return Ii;i=i._reactInternals;e:{if(zn(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(rn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(rn(l))return Fg(i,l,o)}return o}function f_(i,o,l,h,m,_,T,j,U){return i=Ph(l,h,!0,i,m,_,T,j,U),i.context=d_(null),l=i.current,h=Xt(),m=bi(l),_=qr(h,m),_.callback=o??null,xi(l,_,m),i.current.lanes=m,mi(i,m,h),an(i,h),i}function wc(i,o,l,h){var m=o.current,_=Xt(),T=bi(m);return l=d_(l),o.context===null?o.context=l:o.pendingContext=l,o=qr(_,T),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=xi(m,o,T),i!==null&&(er(i,m,T,_),Xu(i,m,T)),T}function Ec(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function h_(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function xh(i,o){h_(i,o),(i=i.alternate)&&h_(i,o)}var p_=typeof reportError=="function"?reportError:function(i){console.error(i)};function Rh(i){this._internalRoot=i}Tc.prototype.render=Rh.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));wc(i,o,null,null)},Tc.prototype.unmount=Rh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Rs(function(){wc(null,i,null,null)}),o[zr]=null}};function Tc(i){this._internalRoot=i}Tc.prototype.unstable_scheduleHydration=function(i){if(i){var o=Tu();i={blockedOn:null,target:i,priority:o};for(var l=0;l<hr.length&&o!==0&&o<hr[l].priority;l++);hr.splice(l,0,i),l===0&&Cu(i)}};function Ah(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Sc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function m_(){}function $0(i,o,l,h,m){if(m){if(typeof h=="function"){var _=h;h=function(){var Q=Ec(T);_.call(Q)}}var T=f_(o,h,i,0,null,!1,!1,"",m_);return i._reactRootContainer=T,i[zr]=T.current,el(i.nodeType===8?i.parentNode:i),Rs(),T}for(;m=i.lastChild;)i.removeChild(m);if(typeof h=="function"){var j=h;h=function(){var Q=Ec(U);j.call(Q)}}var U=Ph(i,0,!1,null,null,!1,!1,"",m_);return i._reactRootContainer=U,i[zr]=U.current,el(i.nodeType===8?i.parentNode:i),Rs(function(){wc(o,U,l,h)}),U}function Ic(i,o,l,h,m){var _=l._reactRootContainer;if(_){var T=_;if(typeof m=="function"){var j=m;m=function(){var U=Ec(T);j.call(U)}}wc(o,T,i,m)}else T=$0(l,o,i,m,h);return Ec(T)}wu=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=hi(o.pendingLanes);l!==0&&(gi(o,l|1),an(o,Ke()),!(Ue&6)&&($o=Ke()+500,Ci()))}break;case 13:Rs(function(){var h=Gr(i,1);if(h!==null){var m=Xt();er(h,i,1,m)}}),xh(i,1)}},co=function(i){if(i.tag===13){var o=Gr(i,134217728);if(o!==null){var l=Xt();er(o,i,134217728,l)}xh(i,134217728)}},Eu=function(i){if(i.tag===13){var o=bi(i),l=Gr(i,o);if(l!==null){var h=Xt();er(l,i,o,h)}xh(i,o)}},Tu=function(){return Ve},Su=function(i,o){var l=Ve;try{return Ve=i,o()}finally{Ve=l}},to=function(i,o,l){switch(o){case"input":if(Ca(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var h=l[o];if(h!==i&&h.form===i.form){var m=Uu(h);if(!m)throw Error(t(90));Qs(h),Ca(h,m)}}}break;case"textarea":Zs(i,l);break;case"select":o=l.value,o!=null&&Lr(i,!!l.multiple,o,!1)}},ls=wh,Da=Rs;var U0={usingClientEntryPoint:!1,Events:[rl,xo,Uu,dr,La,wh]},yl={findFiberByHostInstance:ws,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},z0={bundleType:yl.bundleType,version:yl.version,rendererPackageName:yl.rendererPackageName,rendererConfig:yl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=ja(i),i===null?null:i.stateNode},findFiberByHostInstance:yl.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{hs=Cc.inject(z0),fn=Cc}catch{}}return ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U0,ln.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ah(o))throw Error(t(200));return F0(i,o,null,l)},ln.createRoot=function(i,o){if(!Ah(i))throw Error(t(299));var l=!1,h="",m=p_;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Ph(i,1,!1,null,null,l,!1,h,m),i[zr]=o.current,el(i.nodeType===8?i.parentNode:i),new Rh(o)},ln.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=ja(o),i=i===null?null:i.stateNode,i},ln.flushSync=function(i){return Rs(i)},ln.hydrate=function(i,o,l){if(!Sc(o))throw Error(t(200));return Ic(null,i,o,!0,l)},ln.hydrateRoot=function(i,o,l){if(!Ah(i))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,m=!1,_="",T=p_;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(_=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),o=f_(o,null,i,1,l??null,m,!1,_,T),i[zr]=o.current,el(i),h)for(i=0;i<h.length;i++)l=h[i],m=l._getVersion,m=m(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,m]:o.mutableSourceEagerHydrationData.push(l,m);return new Tc(o)},ln.render=function(i,o,l){if(!Sc(o))throw Error(t(200));return Ic(null,i,o,!1,l)},ln.unmountComponentAtNode=function(i){if(!Sc(i))throw Error(t(40));return i._reactRootContainer?(Rs(function(){Ic(null,null,i,!1,function(){i._reactRootContainer=null,i[zr]=null})}),!0):!1},ln.unstable_batchedUpdates=wh,ln.unstable_renderSubtreeIntoContainer=function(i,o,l,h){if(!Sc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Ic(i,o,l,!1,h)},ln.version="18.3.1-next-f1338f8080-20240426",ln}var S_;function Z0(){if(S_)return Oh.exports;S_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Oh.exports=J0(),Oh.exports}var I_;function e1(){if(I_)return Pc;I_=1;var n=Z0();return Pc.createRoot=n.createRoot,Pc.hydrateRoot=n.hydrateRoot,Pc}var t1=e1(),vl={},C_;function n1(){if(C_)return vl;C_=1,Object.defineProperty(vl,"__esModule",{value:!0}),vl.parse=u,vl.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function u(E,C){const S=new a,O=E.length;if(O<2)return S;const b=(C==null?void 0:C.decode)||g;let D=0;do{const R=E.indexOf("=",D);if(R===-1)break;const A=E.indexOf(";",D),F=A===-1?O:A;if(R>F){D=E.lastIndexOf(";",R-1)+1;continue}const H=d(E,D,R),X=f(E,R,H),M=E.slice(H,X);if(S[M]===void 0){let I=d(E,R+1,F),P=f(E,F,I);const L=b(E.slice(I,P));S[M]=L}D=F+1}while(D<O);return S}function d(E,C,S){do{const O=E.charCodeAt(C);if(O!==32&&O!==9)return C}while(++C<S);return S}function f(E,C,S){for(;C>S;){const O=E.charCodeAt(--C);if(O!==32&&O!==9)return C+1}return S}function p(E,C,S){const O=(S==null?void 0:S.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const b=O(C);if(!e.test(b))throw new TypeError(`argument val is invalid: ${C}`);let D=E+"="+b;if(!S)return D;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);D+="; Max-Age="+S.maxAge}if(S.domain){if(!t.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);D+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);D+="; Path="+S.path}if(S.expires){if(!v(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);D+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(D+="; HttpOnly"),S.secure&&(D+="; Secure"),S.partitioned&&(D+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return D}function g(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function v(E){return s.call(E)==="[object Date]"}return vl}n1();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var P_="popstate";function r1(n={}){function e(r,s){let{pathname:a,search:u,hash:d}=r.location;return gp("",{pathname:a,search:u,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:$l(s)}return s1(e,t,null,n)}function nt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ar(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function i1(){return Math.random().toString(36).substring(2,10)}function x_(n,e){return{usr:n.state,key:n.key,idx:e}}function gp(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?fa(e):e,state:t,key:e&&e.key||r||i1()}}function $l({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function fa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function s1(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,d="POP",f=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function v(){d="POP";let b=g(),D=b==null?null:b-p;p=b,f&&f({action:d,location:O.location,delta:D})}function E(b,D){d="PUSH";let R=gp(O.location,b,D);p=g()+1;let A=x_(R,p),F=O.createHref(R);try{u.pushState(A,"",F)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;s.location.assign(F)}a&&f&&f({action:d,location:O.location,delta:1})}function C(b,D){d="REPLACE";let R=gp(O.location,b,D);p=g();let A=x_(R,p),F=O.createHref(R);u.replaceState(A,"",F),a&&f&&f({action:d,location:O.location,delta:0})}function S(b){let D=s.location.origin!=="null"?s.location.origin:s.location.href,R=typeof b=="string"?b:$l(b);return R=R.replace(/ $/,"%20"),nt(D,`No window.location.(origin|href) available to create URL for href: ${R}`),new URL(R,D)}let O={get action(){return d},get location(){return n(s,u)},listen(b){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(P_,v),f=b,()=>{s.removeEventListener(P_,v),f=null}},createHref(b){return e(s,b)},createURL:S,encodeLocation(b){let D=S(b);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:E,replace:C,go(b){return u.go(b)}};return O}function Ew(n,e,t="/"){return o1(n,e,t,!1)}function o1(n,e,t,r){let s=typeof e=="string"?fa(e):e,a=Qi(s.pathname||"/",t);if(a==null)return null;let u=Tw(n);a1(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let p=_1(a);d=g1(u[f],p,r)}return d}function Tw(n,e=[],t=[],r=""){let s=(a,u,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(nt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=ei([r,f.relativePath]),g=t.concat(f);a.children&&a.children.length>0&&(nt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Tw(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:p1(p,a.index),routesMeta:g})};return n.forEach((a,u)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))s(a,u);else for(let f of Sw(a.path))s(a,u,f)}),e}function Sw(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=Sw(r.join("/")),d=[];return d.push(...u.map(f=>f===""?a:[a,f].join("/"))),s&&d.push(...u),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function a1(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:m1(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var l1=/^:[\w-]+$/,u1=3,c1=2,d1=1,f1=10,h1=-2,R_=n=>n==="*";function p1(n,e){let t=n.split("/"),r=t.length;return t.some(R_)&&(r+=h1),e&&(r+=c1),t.filter(s=>!R_(s)).reduce((s,a)=>s+(l1.test(a)?u1:a===""?d1:f1),r)}function m1(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function g1(n,e,t=!1){let{routesMeta:r}=n,s={},a="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],p=d===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",v=Xc({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),E=f.route;if(!v&&p&&t&&!r[r.length-1].route.index&&(v=Xc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(s,v.params),u.push({params:s,pathname:ei([a,v.pathname]),pathnameBase:T1(ei([a,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(a=ei([a,v.pathnameBase]))}return u}function Xc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=y1(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:v},E)=>{if(g==="*"){let S=d[E]||"";u=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const C=d[E];return v&&!C?p[g]=void 0:p[g]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:n}}function y1(n,e=!1,t=!0){ar(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function _1(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ar(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Qi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function v1(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?fa(n):n;return{pathname:t?t.startsWith("/")?t:w1(t,e):e,search:S1(r),hash:I1(s)}}function w1(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Mh(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function E1(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function tm(n){let e=E1(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function nm(n,e,t,r=!1){let s;typeof n=="string"?s=fa(n):(s={...n},nt(!s.pathname||!s.pathname.includes("?"),Mh("?","pathname","search",s)),nt(!s.pathname||!s.pathname.includes("#"),Mh("#","pathname","hash",s)),nt(!s.search||!s.search.includes("#"),Mh("#","search","hash",s)));let a=n===""||s.pathname==="",u=a?"/":s.pathname,d;if(u==null)d=t;else{let v=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),v-=1;s.pathname=E.join("/")}d=v>=0?e[v]:"/"}let f=v1(s,d),p=u&&u!=="/"&&u.endsWith("/"),g=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var ei=n=>n.join("/").replace(/\/\/+/g,"/"),T1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),S1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,I1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function C1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Iw=["POST","PUT","PATCH","DELETE"];new Set(Iw);var P1=["GET",...Iw];new Set(P1);var ha=z.createContext(null);ha.displayName="DataRouter";var kd=z.createContext(null);kd.displayName="DataRouterState";var Cw=z.createContext({isTransitioning:!1});Cw.displayName="ViewTransition";var x1=z.createContext(new Map);x1.displayName="Fetchers";var R1=z.createContext(null);R1.displayName="Await";var ur=z.createContext(null);ur.displayName="Navigation";var Jl=z.createContext(null);Jl.displayName="Location";var Fn=z.createContext({outlet:null,matches:[],isDataRoute:!1});Fn.displayName="Route";var rm=z.createContext(null);rm.displayName="RouteError";function A1(n,{relative:e}={}){nt(pa(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=z.useContext(ur),{hash:s,pathname:a,search:u}=Zl(n,{relative:e}),d=a;return t!=="/"&&(d=a==="/"?t:ei([t,a])),r.createHref({pathname:d,search:u,hash:s})}function pa(){return z.useContext(Jl)!=null}function li(){return nt(pa(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Jl).location}var Pw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xw(n){z.useContext(ur).static||z.useLayoutEffect(n)}function ma(){let{isDataRoute:n}=z.useContext(Fn);return n?H1():k1()}function k1(){nt(pa(),"useNavigate() may be used only in the context of a <Router> component.");let n=z.useContext(ha),{basename:e,navigator:t}=z.useContext(ur),{matches:r}=z.useContext(Fn),{pathname:s}=li(),a=JSON.stringify(tm(r)),u=z.useRef(!1);return xw(()=>{u.current=!0}),z.useCallback((f,p={})=>{if(ar(u.current,Pw),!u.current)return;if(typeof f=="number"){t.go(f);return}let g=nm(f,JSON.parse(a),s,p.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ei([e,g.pathname])),(p.replace?t.replace:t.push)(g,p.state,p)},[e,t,a,s,n])}var b1=z.createContext(null);function N1(n){let e=z.useContext(Fn).outlet;return e&&z.createElement(b1.Provider,{value:n},e)}function Rw(){let{matches:n}=z.useContext(Fn),e=n[n.length-1];return e?e.params:{}}function Zl(n,{relative:e}={}){let{matches:t}=z.useContext(Fn),{pathname:r}=li(),s=JSON.stringify(tm(t));return z.useMemo(()=>nm(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function O1(n,e){return Aw(n,e)}function Aw(n,e,t,r){var D;nt(pa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=z.useContext(ur),{matches:a}=z.useContext(Fn),u=a[a.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let R=g&&g.path||"";kw(f,!g||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let v=li(),E;if(e){let R=typeof e=="string"?fa(e):e;nt(p==="/"||((D=R.pathname)==null?void 0:D.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${R.pathname}" was given in the \`location\` prop.`),E=R}else E=v;let C=E.pathname||"/",S=C;if(p!=="/"){let R=p.replace(/^\//,"").split("/");S="/"+C.replace(/^\//,"").split("/").slice(R.length).join("/")}let O=Ew(n,{pathname:S});ar(g||O!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),ar(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=j1(O&&O.map(R=>Object.assign({},R,{params:Object.assign({},d,R.params),pathname:ei([p,s.encodeLocation?s.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?p:ei([p,s.encodeLocation?s.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),a,t,r);return e&&b?z.createElement(Jl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},b):b}function L1(){let n=B1(),e=C1(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=z.createElement(z.Fragment,null,z.createElement("p",null,"💿 Hey developer 👋"),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:a},"ErrorBoundary")," or"," ",z.createElement("code",{style:a},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:s},t):null,u)}var D1=z.createElement(L1,null),M1=class extends z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?z.createElement(Fn.Provider,{value:this.props.routeContext},z.createElement(rm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function V1({routeContext:n,match:e,children:t}){let r=z.useContext(ha);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Fn.Provider,{value:n},t)}function j1(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let f=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);nt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,d=-1;if(t)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:g,errors:v}=t,E=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||E){u=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((f,p,g)=>{let v,E=!1,C=null,S=null;t&&(v=a&&p.route.id?a[p.route.id]:void 0,C=p.route.errorElement||D1,u&&(d<0&&g===0?(kw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,S=null):d===g&&(E=!0,S=p.route.hydrateFallbackElement||null)));let O=e.concat(s.slice(0,g+1)),b=()=>{let D;return v?D=C:E?D=S:p.route.Component?D=z.createElement(p.route.Component,null):p.route.element?D=p.route.element:D=f,z.createElement(V1,{match:p,routeContext:{outlet:f,matches:O,isDataRoute:t!=null},children:D})};return t&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?z.createElement(M1,{location:t.location,revalidation:t.revalidation,component:C,error:v,children:b(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):b()},null)}function im(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function F1(n){let e=z.useContext(ha);return nt(e,im(n)),e}function $1(n){let e=z.useContext(kd);return nt(e,im(n)),e}function U1(n){let e=z.useContext(Fn);return nt(e,im(n)),e}function sm(n){let e=U1(n),t=e.matches[e.matches.length-1];return nt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function z1(){return sm("useRouteId")}function B1(){var r;let n=z.useContext(rm),e=$1("useRouteError"),t=sm("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function H1(){let{router:n}=F1("useNavigate"),e=sm("useNavigate"),t=z.useRef(!1);return xw(()=>{t.current=!0}),z.useCallback(async(s,a={})=>{ar(t.current,Pw),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var A_={};function kw(n,e,t){!e&&!A_[n]&&(A_[n]=!0,ar(!1,t))}z.memo(W1);function W1({routes:n,future:e,state:t}){return Aw(n,void 0,t,e)}function G1({to:n,replace:e,state:t,relative:r}){nt(pa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=z.useContext(ur);ar(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=z.useContext(Fn),{pathname:u}=li(),d=ma(),f=nm(n,tm(a),u,r==="path"),p=JSON.stringify(f);return z.useEffect(()=>{d(JSON.parse(p),{replace:e,state:t,relative:r})},[d,p,r,e,t]),null}function om(n){return N1(n.context)}function un(n){nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function q1({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:a=!1}){nt(!pa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=z.useMemo(()=>({basename:u,navigator:s,static:a,future:{}}),[u,s,a]);typeof t=="string"&&(t=fa(t));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:E="default"}=t,C=z.useMemo(()=>{let S=Qi(f,u);return S==null?null:{location:{pathname:S,search:p,hash:g,state:v,key:E},navigationType:r}},[u,f,p,g,v,E,r]);return ar(C!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:z.createElement(ur.Provider,{value:d},z.createElement(Jl.Provider,{children:e,value:C}))}function K1({children:n,location:e}){return O1(yp(n),e)}function yp(n,e=[]){let t=[];return z.Children.forEach(n,(r,s)=>{if(!z.isValidElement(r))return;let a=[...e,s];if(r.type===z.Fragment){t.push.apply(t,yp(r.props.children,a));return}nt(r.type===un,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=yp(r.props.children,a)),t.push(u)}),t}var Vc="get",jc="application/x-www-form-urlencoded";function bd(n){return n!=null&&typeof n.tagName=="string"}function Q1(n){return bd(n)&&n.tagName.toLowerCase()==="button"}function Y1(n){return bd(n)&&n.tagName.toLowerCase()==="form"}function X1(n){return bd(n)&&n.tagName.toLowerCase()==="input"}function J1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Z1(n,e){return n.button===0&&(!e||e==="_self")&&!J1(n)}var xc=null;function eI(){if(xc===null)try{new FormData(document.createElement("form"),0),xc=!1}catch{xc=!0}return xc}var tI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vh(n){return n!=null&&!tI.has(n)?(ar(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jc}"`),null):n}function nI(n,e){let t,r,s,a,u;if(Y1(n)){let d=n.getAttribute("action");r=d?Qi(d,e):null,t=n.getAttribute("method")||Vc,s=Vh(n.getAttribute("enctype"))||jc,a=new FormData(n)}else if(Q1(n)||X1(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||d.getAttribute("action");if(r=f?Qi(f,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Vc,s=Vh(n.getAttribute("formenctype"))||Vh(d.getAttribute("enctype"))||jc,a=new FormData(d,n),!eI()){let{name:p,type:g,value:v}=n;if(g==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,v)}}else{if(bd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Vc,r=null,s=jc,u=n}return a&&s==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:a,body:u}}function am(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function rI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function sI(n,e,t){let r=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let u=await rI(a,t);return u.links?u.links():[]}return[]}));return uI(r.flat(1).filter(iI).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function k_(n,e,t,r,s,a){let u=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,d=(f,p)=>{var g;return t[p].pathname!==f.pathname||((g=t[p].route.path)==null?void 0:g.endsWith("*"))&&t[p].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,p)=>u(f,p)||d(f,p)):a==="data"?e.filter((f,p)=>{var v;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let E=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function oI(n,e){return aI(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let s=[r.module];return r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function aI(n){return[...new Set(n)]}function lI(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function uI(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let a=JSON.stringify(lI(s));return t.has(a)||(t.add(a),r.push({key:a,link:s})),r},[])}function cI(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function dI(){let n=z.useContext(ha);return am(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function fI(){let n=z.useContext(kd);return am(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var lm=z.createContext(void 0);lm.displayName="FrameworkContext";function bw(){let n=z.useContext(lm);return am(n,"You must render this element inside a <HydratedRouter> element"),n}function hI(n,e){let t=z.useContext(lm),[r,s]=z.useState(!1),[a,u]=z.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:v}=e,E=z.useRef(null);z.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let O=D=>{D.forEach(R=>{u(R.isIntersecting)})},b=new IntersectionObserver(O,{threshold:.5});return E.current&&b.observe(E.current),()=>{b.disconnect()}}},[n]),z.useEffect(()=>{if(r){let O=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(O)}}},[r]);let C=()=>{s(!0)},S=()=>{s(!1),u(!1)};return t?n!=="intent"?[a,E,{}]:[a,E,{onFocus:wl(d,C),onBlur:wl(f,S),onMouseEnter:wl(p,C),onMouseLeave:wl(g,S),onTouchStart:wl(v,C)}]:[!1,E,{}]}function wl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function pI({page:n,...e}){let{router:t}=dI(),r=z.useMemo(()=>Ew(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?z.createElement(gI,{page:n,matches:r,...e}):null}function mI(n){let{manifest:e,routeModules:t}=bw(),[r,s]=z.useState([]);return z.useEffect(()=>{let a=!1;return sI(n,e,t).then(u=>{a||s(u)}),()=>{a=!0}},[n,e,t]),r}function gI({page:n,matches:e,...t}){let r=li(),{manifest:s,routeModules:a}=bw(),{loaderData:u,matches:d}=fI(),f=z.useMemo(()=>k_(n,e,d,s,r,"data"),[n,e,d,s,r]),p=z.useMemo(()=>k_(n,e,d,s,r,"assets"),[n,e,d,s,r]),g=z.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let C=new Set,S=!1;if(e.forEach(b=>{var R;let D=s.routes[b.route.id];!D||!D.hasLoader||(!f.some(A=>A.route.id===b.route.id)&&b.route.id in u&&((R=a[b.route.id])!=null&&R.shouldRevalidate)||D.hasClientLoader?S=!0:C.add(b.route.id))}),C.size===0)return[];let O=cI(n);return S&&C.size>0&&O.searchParams.set("_routes",e.filter(b=>C.has(b.route.id)).map(b=>b.route.id).join(",")),[O.pathname+O.search]},[u,r,s,f,e,n,a]),v=z.useMemo(()=>oI(p,s),[p,s]),E=mI(p);return z.createElement(z.Fragment,null,g.map(C=>z.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),v.map(C=>z.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),E.map(({key:C,link:S})=>z.createElement("link",{key:C,...S})))}function yI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Nw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Nw&&(window.__reactRouterVersion="7.1.1")}catch{}function _I({basename:n,children:e,window:t}){let r=z.useRef();r.current==null&&(r.current=r1({window:t,v5Compat:!0}));let s=r.current,[a,u]=z.useState({action:s.action,location:s.location}),d=z.useCallback(f=>{z.startTransition(()=>u(f))},[u]);return z.useLayoutEffect(()=>s.listen(d),[s,d]),z.createElement(q1,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s})}var Ow=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xe=z.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:a,replace:u,state:d,target:f,to:p,preventScrollReset:g,viewTransition:v,...E},C){let{basename:S}=z.useContext(ur),O=typeof p=="string"&&Ow.test(p),b,D=!1;if(typeof p=="string"&&O&&(b=p,Nw))try{let P=new URL(window.location.href),L=p.startsWith("//")?new URL(P.protocol+p):new URL(p),V=Qi(L.pathname,S);L.origin===P.origin&&V!=null?p=V+L.search+L.hash:D=!0}catch{ar(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=A1(p,{relative:s}),[A,F,H]=hI(r,E),X=TI(p,{replace:u,state:d,target:f,preventScrollReset:g,relative:s,viewTransition:v});function M(P){e&&e(P),P.defaultPrevented||X(P)}let I=z.createElement("a",{...E,...H,href:b||R,onClick:D||a?e:M,ref:yI(C,F),target:f,"data-discover":!O&&t==="render"?"true":void 0});return A&&!O?z.createElement(z.Fragment,null,I,z.createElement(pI,{page:R})):I});Xe.displayName="Link";var vI=z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:a,to:u,viewTransition:d,children:f,...p},g){let v=Zl(u,{relative:p.relative}),E=li(),C=z.useContext(kd),{navigator:S,basename:O}=z.useContext(ur),b=C!=null&&xI(v)&&d===!0,D=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,R=E.pathname,A=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(R=R.toLowerCase(),A=A?A.toLowerCase():null,D=D.toLowerCase()),A&&O&&(A=Qi(A,O)||A);const F=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let H=R===D||!s&&R.startsWith(D)&&R.charAt(F)==="/",X=A!=null&&(A===D||!s&&A.startsWith(D)&&A.charAt(D.length)==="/"),M={isActive:H,isPending:X,isTransitioning:b},I=H?e:void 0,P;typeof r=="function"?P=r(M):P=[r,H?"active":null,X?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(M):a;return z.createElement(Xe,{...p,"aria-current":I,className:P,ref:g,style:L,to:u,viewTransition:d},typeof f=="function"?f(M):f)});vI.displayName="NavLink";var wI=z.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:a,method:u=Vc,action:d,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:v,...E},C)=>{let S=CI(),O=PI(d,{relative:p}),b=u.toLowerCase()==="get"?"get":"post",D=typeof d=="string"&&Ow.test(d),R=A=>{if(f&&f(A),A.defaultPrevented)return;A.preventDefault();let F=A.nativeEvent.submitter,H=(F==null?void 0:F.getAttribute("formmethod"))||u;S(F||A.currentTarget,{fetcherKey:e,method:H,navigate:t,replace:s,state:a,relative:p,preventScrollReset:g,viewTransition:v})};return z.createElement("form",{ref:C,method:b,action:O,onSubmit:r?f:R,...E,"data-discover":!D&&n==="render"?"true":void 0})});wI.displayName="Form";function EI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lw(n){let e=z.useContext(ha);return nt(e,EI(n)),e}function TI(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:a,viewTransition:u}={}){let d=ma(),f=li(),p=Zl(n,{relative:a});return z.useCallback(g=>{if(Z1(g,e)){g.preventDefault();let v=t!==void 0?t:$l(f)===$l(p);d(n,{replace:v,state:r,preventScrollReset:s,relative:a,viewTransition:u})}},[f,d,p,t,r,e,n,s,a,u])}var SI=0,II=()=>`__${String(++SI)}__`;function CI(){let{router:n}=Lw("useSubmit"),{basename:e}=z.useContext(ur),t=z1();return z.useCallback(async(r,s={})=>{let{action:a,method:u,encType:d,formData:f,body:p}=nI(r,e);if(s.navigate===!1){let g=s.fetcherKey||II();await n.fetch(g,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||d,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function PI(n,{relative:e}={}){let{basename:t}=z.useContext(ur),r=z.useContext(Fn);nt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Zl(n||".",{relative:e})},u=li();if(n==null){a.search=u.search;let d=new URLSearchParams(a.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(v=>v).forEach(v=>d.append("index",v));let g=d.toString();a.search=g?`?${g}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ei([t,a.pathname])),$l(a)}function xI(n,e={}){let t=z.useContext(Cw);nt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Lw("useViewTransitionState"),s=Zl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Qi(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Qi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Xc(s.pathname,u)!=null||Xc(s.pathname,a)!=null}new TextEncoder;const RI="_header_1me4g_11",AI="_body_1me4g_16",kI="_left_1me4g_22",bI="_logo_1me4g_28",NI="_logoName_1me4g_38",OI="_right_1me4g_48",LI="_favorite_1me4g_54",DI="_count_1me4g_67",Di={header:RI,body:AI,left:kI,logo:bI,logoName:NI,right:OI,favorite:LI,count:DI},MI="_h1_xlkh3_11",VI="_h2_xlkh3_23",jI="_h3_xlkh3_29",FI="_h4_xlkh3_41",$I="_h5_xlkh3_53",UI="_h6_xlkh3_65",zI="_subtitle_xlkh3_71",BI="_p_xlkh3_76",Ye={h1:MI,h2:VI,h3:jI,h4:FI,h5:$I,h6:UI,subtitle:zI,p:BI},HI="_menu_7xrnl_11",WI={menu:HI},GI=()=>x.jsxs("ul",{className:WI.menu,children:[x.jsx("li",{children:x.jsx(Xe,{to:"/albums",className:Ye.h6,children:"Albums"})}),x.jsx("li",{children:x.jsx("a",{href:"",className:Ye.h6,children:"Categories"})}),x.jsx("li",{children:x.jsx("a",{href:"",className:Ye.h6,children:"Pages"})}),x.jsx("li",{children:x.jsx("a",{href:"",className:Ye.h6,children:"contact us"})}),x.jsx("li",{children:x.jsx("a",{href:"",className:Ye.h6,children:"about us"})})]});var Dw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},b_=Be.createContext&&Be.createContext(Dw),qI=["attr","size","title"];function KI(n,e){if(n==null)return{};var t=QI(n,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function QI(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Jc(){return Jc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Jc.apply(this,arguments)}function N_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Zc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?N_(Object(t),!0).forEach(function(r){YI(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):N_(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function YI(n,e,t){return e=XI(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function XI(n){var e=JI(n,"string");return typeof e=="symbol"?e:e+""}function JI(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Mw(n){return n&&n.map((e,t)=>Be.createElement(e.tag,Zc({key:t},e.attr),Mw(e.child)))}function dn(n){return e=>Be.createElement(ZI,Jc({attr:Zc({},n.attr)},e),Mw(n.child))}function ZI(n){var e=t=>{var{attr:r,size:s,title:a}=n,u=KI(n,qI),d=s||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),Be.createElement("svg",Jc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:f,style:Zc(Zc({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),a&&Be.createElement("title",null,a),n.children)};return b_!==void 0?Be.createElement(b_.Consumer,null,t=>e(t)):e(Dw)}function eC(n){return dn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function tC(n){return dn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z"},child:[]}]})(n)}function Vw(n){return dn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h274.9c-2.4-6.8-3.4-14-2.6-21.3l6.8-60.9 1.2-11.1 7.9-7.9 77.3-77.3c-24.5-27.7-60-45.5-99.9-45.5zm45.3 145.3l-6.8 61c-1.1 10.2 7.5 18.8 17.6 17.6l60.9-6.8 137.9-137.9-71.7-71.7-137.9 137.8zM633 268.9L595.1 231c-9.3-9.3-24.5-9.3-33.8 0l-37.8 37.8-4.1 4.1 71.8 71.7 41.8-41.8c9.3-9.4 9.3-24.5 0-33.9z"},child:[]}]})(n)}function nC(n){return dn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M325.4 289.2L224 390.6 122.6 289.2C54 295.3 0 352.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-70.2-54-127.1-122.6-133.2zM32 192c27.3 0 51.8-11.5 69.2-29.7 15.1 53.9 64 93.7 122.8 93.7 70.7 0 128-57.3 128-128S294.7 0 224 0c-50.4 0-93.6 29.4-114.5 71.8C92.1 47.8 64 32 32 32c0 33.4 17.1 62.8 43.1 80-26 17.2-43.1 46.6-43.1 80zm144-96h96c17.7 0 32 14.3 32 32H144c0-17.7 14.3-32 32-32z"},child:[]}]})(n)}function rC(n){return dn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 64h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zm-6 400H54c-3.3 0-6-2.7-6-6V160h352v298c0 3.3-2.7 6-6 6z"},child:[]}]})(n)}const iC="_body_1v35e_11",sC="_search_1v35e_15",oC="_error_1v35e_43",aC="_button_1v35e_60",lC="_dropdown_1v35e_67",uC="_card_1v35e_100",cC="_image_1v35e_108",dC="_content_1v35e_118",fC="_title_1v35e_124",hC="_user_1v35e_131",tr={body:iC,search:sC,error:oC,button:aC,dropdown:lC,card:uC,image:cC,content:dC,title:fC,user:hC};var jh={exports:{}},Fh={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function pC(){if(O_)return Fh;O_=1;var n=Ad();function e(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var t=typeof Object.is=="function"?Object.is:e,r=n.useSyncExternalStore,s=n.useRef,a=n.useEffect,u=n.useMemo,d=n.useDebugValue;return Fh.useSyncExternalStoreWithSelector=function(f,p,g,v,E){var C=s(null);if(C.current===null){var S={hasValue:!1,value:null};C.current=S}else S=C.current;C=u(function(){function b(H){if(!D){if(D=!0,R=H,H=v(H),E!==void 0&&S.hasValue){var X=S.value;if(E(X,H))return A=X}return A=H}if(X=A,t(R,H))return X;var M=v(H);return E!==void 0&&E(X,M)?(R=H,X):(R=H,A=M)}var D=!1,R,A,F=g===void 0?null:g;return[function(){return b(p())},F===null?void 0:function(){return b(F())}]},[p,g,v,E]);var O=r(f,C[0],C[1]);return a(function(){S.hasValue=!0,S.value=O},[O]),d(O),O},Fh}var L_;function mC(){return L_||(L_=1,jh.exports=pC()),jh.exports}var gC=mC();function yC(n){n()}function _C(){let n=null,e=null;return{clear(){n=null,e=null},notify(){yC(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=n;for(;r;)t.push(r),r=r.next;return t},subscribe(t){let r=!0;const s=e={callback:t,next:null,prev:e};return s.prev?s.prev.next=s:n=s,function(){!r||n===null||(r=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:n=s.next)}}}}var D_={notify(){},get:()=>[]};function vC(n,e){let t,r=D_,s=0,a=!1;function u(O){g();const b=r.subscribe(O);let D=!1;return()=>{D||(D=!0,b(),v())}}function d(){r.notify()}function f(){S.onStateChange&&S.onStateChange()}function p(){return a}function g(){s++,t||(t=n.subscribe(f),r=_C())}function v(){s--,t&&s===0&&(t(),t=void 0,r.clear(),r=D_)}function E(){a||(a=!0,g())}function C(){a&&(a=!1,v())}const S={addNestedSub:u,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:p,trySubscribe:E,tryUnsubscribe:C,getListeners:()=>r};return S}var wC=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",EC=wC(),TC=()=>typeof navigator<"u"&&navigator.product==="ReactNative",SC=TC(),IC=()=>EC||SC?z.useLayoutEffect:z.useEffect,CC=IC(),$h=Symbol.for("react-redux-context"),Uh=typeof globalThis<"u"?globalThis:{};function PC(){if(!z.createContext)return{};const n=Uh[$h]??(Uh[$h]=new Map);let e=n.get(z.createContext);return e||(e=z.createContext(null),n.set(z.createContext,e)),e}var Yi=PC();function xC(n){const{children:e,context:t,serverState:r,store:s}=n,a=z.useMemo(()=>{const f=vC(s);return{store:s,subscription:f,getServerState:r?()=>r:void 0}},[s,r]),u=z.useMemo(()=>s.getState(),[s]);CC(()=>{const{subscription:f}=a;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),u!==s.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[a,u]);const d=t||Yi;return z.createElement(d.Provider,{value:a},e)}var RC=xC;function um(n=Yi){return function(){return z.useContext(n)}}var jw=um();function Fw(n=Yi){const e=n===Yi?jw:um(n),t=()=>{const{store:r}=e();return r};return Object.assign(t,{withTypes:()=>t}),t}var AC=Fw();function kC(n=Yi){const e=n===Yi?AC:Fw(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var Sn=kC(),bC=(n,e)=>n===e;function NC(n=Yi){const e=n===Yi?jw:um(n),t=(r,s={})=>{const{equalityFn:a=bC}=typeof s=="function"?{equalityFn:s}:s,u=e(),{store:d,subscription:f,getServerState:p}=u;z.useRef(!0);const g=z.useCallback({[r.name](E){return r(E)}}[r.name],[r]),v=gC.useSyncExternalStoreWithSelector(f.addNestedSub,d.getState,p||d.getState,g,a);return z.useDebugValue(v),v};return Object.assign(t,{withTypes:()=>t}),t}var rt=NC();const OC=()=>{const{images:n}=rt(p=>p.images),[e,t]=z.useState(""),[r,s]=z.useState(!1),a=z.useRef(null),u=z.useRef(null),d=n.filter(p=>e&&p.alt_description.toLowerCase().includes(e.toLowerCase())),f=p=>{const g=p.target;a.current&&!a.current.contains(g)&&u.current&&!u.current.contains(g)&&s(!1)};return z.useEffect(()=>(document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}),[]),x.jsxs("div",{className:tr.body,children:[x.jsxs("div",{className:tr.search,children:[x.jsx("input",{type:"text",placeholder:"Search anything",value:e,onChange:p=>{t(p.target.value),s(!0)},ref:a}),x.jsx("button",{className:tr.button,children:x.jsx(eC,{})})]}),r&&e&&(d.length>0?x.jsx("div",{className:tr.dropdown,ref:u,children:d.map(p=>x.jsxs(Xe,{to:`/card/${p.id}`,className:tr.card,children:[x.jsx("div",{className:tr.image,children:x.jsx("img",{src:p.urls.thumb,alt:""})}),x.jsxs("div",{className:tr.content,children:[x.jsx("div",{className:tr.title,children:p.alt_description}),x.jsxs("div",{className:tr.user,children:[x.jsx(nC,{color:"#f81539",size:16}),p.user.username]})]})]},p.id))}):x.jsx("div",{className:tr.dropdown,children:x.jsx("div",{className:tr.title,children:"not found!"})}))]})};function cm(){const{email:n,token:e,id:t}=rt(r=>r.user);return{isAuth:!!n,email:n,token:e,id:t}}function Dt(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var LC=typeof Symbol=="function"&&Symbol.observable||"@@observable",M_=LC,zh=()=>Math.random().toString(36).substring(7).split("").join("."),DC={INIT:`@@redux/INIT${zh()}`,REPLACE:`@@redux/REPLACE${zh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${zh()}`},ed=DC;function dm(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function $w(n,e,t){if(typeof n!="function")throw new Error(Dt(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Dt(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Dt(1));return t($w)(n,e)}let r=n,s=e,a=new Map,u=a,d=0,f=!1;function p(){u===a&&(u=new Map,a.forEach((b,D)=>{u.set(D,b)}))}function g(){if(f)throw new Error(Dt(3));return s}function v(b){if(typeof b!="function")throw new Error(Dt(4));if(f)throw new Error(Dt(5));let D=!0;p();const R=d++;return u.set(R,b),function(){if(D){if(f)throw new Error(Dt(6));D=!1,p(),u.delete(R),a=null}}}function E(b){if(!dm(b))throw new Error(Dt(7));if(typeof b.type>"u")throw new Error(Dt(8));if(typeof b.type!="string")throw new Error(Dt(17));if(f)throw new Error(Dt(9));try{f=!0,s=r(s,b)}finally{f=!1}return(a=u).forEach(R=>{R()}),b}function C(b){if(typeof b!="function")throw new Error(Dt(10));r=b,E({type:ed.REPLACE})}function S(){const b=v;return{subscribe(D){if(typeof D!="object"||D===null)throw new Error(Dt(11));function R(){const F=D;F.next&&F.next(g())}return R(),{unsubscribe:b(R)}},[M_](){return this}}}return E({type:ed.INIT}),{dispatch:E,subscribe:v,getState:g,replaceReducer:C,[M_]:S}}function MC(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:ed.INIT})>"u")throw new Error(Dt(12));if(typeof t(void 0,{type:ed.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Dt(13))})}function Uw(n){const e=Object.keys(n),t={};for(let a=0;a<e.length;a++){const u=e[a];typeof n[u]=="function"&&(t[u]=n[u])}const r=Object.keys(t);let s;try{MC(t)}catch(a){s=a}return function(u={},d){if(s)throw s;let f=!1;const p={};for(let g=0;g<r.length;g++){const v=r[g],E=t[v],C=u[v],S=E(C,d);if(typeof S>"u")throw d&&d.type,new Error(Dt(14));p[v]=S,f=f||S!==C}return f=f||r.length!==Object.keys(u).length,f?p:u}}function td(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}function VC(...n){return e=>(t,r)=>{const s=e(t,r);let a=()=>{throw new Error(Dt(15))};const u={getState:s.getState,dispatch:(f,...p)=>a(f,...p)},d=n.map(f=>f(u));return a=td(...d)(s.dispatch),{...s,dispatch:a}}}function jC(n){return dm(n)&&"type"in n&&typeof n.type=="string"}var zw=Symbol.for("immer-nothing"),V_=Symbol.for("immer-draftable"),wn=Symbol.for("immer-state");function rr(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var ta=Object.getPrototypeOf;function Ms(n){return!!n&&!!n[wn]}function ri(n){var e;return n?Bw(n)||Array.isArray(n)||!!n[V_]||!!((e=n.constructor)!=null&&e[V_])||Od(n)||Ld(n):!1}var FC=Object.prototype.constructor.toString();function Bw(n){if(!n||typeof n!="object")return!1;const e=ta(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===FC}function nd(n,e){Nd(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,r)=>e(r,t,n))}function Nd(n){const e=n[wn];return e?e.type_:Array.isArray(n)?1:Od(n)?2:Ld(n)?3:0}function _p(n,e){return Nd(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function Hw(n,e,t){const r=Nd(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function $C(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function Od(n){return n instanceof Map}function Ld(n){return n instanceof Set}function Os(n){return n.copy_||n.base_}function vp(n,e){if(Od(n))return new Map(n);if(Ld(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=Bw(n);if(e===!0||e==="class_only"&&!t){const r=Object.getOwnPropertyDescriptors(n);delete r[wn];let s=Reflect.ownKeys(r);for(let a=0;a<s.length;a++){const u=s[a],d=r[u];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[u]={configurable:!0,writable:!0,enumerable:d.enumerable,value:n[u]})}return Object.create(ta(n),r)}else{const r=ta(n);if(r!==null&&t)return{...n};const s=Object.create(r);return Object.assign(s,n)}}function fm(n,e=!1){return Dd(n)||Ms(n)||!ri(n)||(Nd(n)>1&&(n.set=n.add=n.clear=n.delete=UC),Object.freeze(n),e&&Object.entries(n).forEach(([t,r])=>fm(r,!0))),n}function UC(){rr(2)}function Dd(n){return Object.isFrozen(n)}var zC={};function Vs(n){const e=zC[n];return e||rr(0,n),e}var Ul;function Ww(){return Ul}function BC(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function j_(n,e){e&&(Vs("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function wp(n){Ep(n),n.drafts_.forEach(HC),n.drafts_=null}function Ep(n){n===Ul&&(Ul=n.parent_)}function F_(n){return Ul=BC(Ul,n)}function HC(n){const e=n[wn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function $_(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[wn].modified_&&(wp(e),rr(4)),ri(n)&&(n=rd(e,n),e.parent_||id(e,n)),e.patches_&&Vs("Patches").generateReplacementPatches_(t[wn].base_,n,e.patches_,e.inversePatches_)):n=rd(e,t,[]),wp(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==zw?n:void 0}function rd(n,e,t){if(Dd(e))return e;const r=e[wn];if(!r)return nd(e,(s,a)=>U_(n,r,e,s,a,t)),e;if(r.scope_!==n)return e;if(!r.modified_)return id(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let a=s,u=!1;r.type_===3&&(a=new Set(s),s.clear(),u=!0),nd(a,(d,f)=>U_(n,r,s,d,f,t,u)),id(n,s,!1),t&&n.patches_&&Vs("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function U_(n,e,t,r,s,a,u){if(Ms(s)){const d=a&&e&&e.type_!==3&&!_p(e.assigned_,r)?a.concat(r):void 0,f=rd(n,s,d);if(Hw(t,r,f),Ms(f))n.canAutoFreeze_=!1;else return}else u&&t.add(s);if(ri(s)&&!Dd(s)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;rd(n,s),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,r)&&id(n,s)}}function id(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&fm(e,t)}function WC(n,e){const t=Array.isArray(n),r={type_:t?1:0,scope_:e?e.scope_:Ww(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,a=hm;t&&(s=[r],a=zl);const{revoke:u,proxy:d}=Proxy.revocable(s,a);return r.draft_=d,r.revoke_=u,d}var hm={get(n,e){if(e===wn)return n;const t=Os(n);if(!_p(t,e))return GC(n,t,e);const r=t[e];return n.finalized_||!ri(r)?r:r===Bh(n.base_,e)?(Hh(n),n.copy_[e]=Sp(r,n)):r},has(n,e){return e in Os(n)},ownKeys(n){return Reflect.ownKeys(Os(n))},set(n,e,t){const r=Gw(Os(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const s=Bh(Os(n),e),a=s==null?void 0:s[wn];if(a&&a.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if($C(t,s)&&(t!==void 0||_p(n.base_,e)))return!0;Hh(n),Tp(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return Bh(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,Hh(n),Tp(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Os(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty(){rr(11)},getPrototypeOf(n){return ta(n.base_)},setPrototypeOf(){rr(12)}},zl={};nd(hm,(n,e)=>{zl[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});zl.deleteProperty=function(n,e){return zl.set.call(this,n,e,void 0)};zl.set=function(n,e,t){return hm.set.call(this,n[0],e,t,n[0])};function Bh(n,e){const t=n[wn];return(t?Os(t):n)[e]}function GC(n,e,t){var s;const r=Gw(e,t);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(n.draft_):void 0}function Gw(n,e){if(!(e in n))return;let t=ta(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=ta(t)}}function Tp(n){n.modified_||(n.modified_=!0,n.parent_&&Tp(n.parent_))}function Hh(n){n.copy_||(n.copy_=vp(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var qC=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if(typeof e=="function"&&typeof t!="function"){const a=t;t=e;const u=this;return function(f=a,...p){return u.produce(f,g=>t.call(this,g,...p))}}typeof t!="function"&&rr(6),r!==void 0&&typeof r!="function"&&rr(7);let s;if(ri(e)){const a=F_(this),u=Sp(e,void 0);let d=!0;try{s=t(u),d=!1}finally{d?wp(a):Ep(a)}return j_(a,r),$_(s,a)}else if(!e||typeof e!="object"){if(s=t(e),s===void 0&&(s=e),s===zw&&(s=void 0),this.autoFreeze_&&fm(s,!0),r){const a=[],u=[];Vs("Patches").generateReplacementPatches_(e,s,a,u),r(a,u)}return s}else rr(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(u,...d)=>this.produceWithPatches(u,f=>e(f,...d));let r,s;return[this.produce(e,t,(u,d)=>{r=u,s=d}),r,s]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){ri(n)||rr(8),Ms(n)&&(n=KC(n));const e=F_(this),t=Sp(n,void 0);return t[wn].isManual_=!0,Ep(e),t}finishDraft(n,e){const t=n&&n[wn];(!t||!t.isManual_)&&rr(9);const{scope_:r}=t;return j_(r,e),$_(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const s=e[t];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}t>-1&&(e=e.slice(t+1));const r=Vs("Patches").applyPatches_;return Ms(n)?r(n,e):this.produce(n,s=>r(s,e))}};function Sp(n,e){const t=Od(n)?Vs("MapSet").proxyMap_(n,e):Ld(n)?Vs("MapSet").proxySet_(n,e):WC(n,e);return(e?e.scope_:Ww()).drafts_.push(t),t}function KC(n){return Ms(n)||rr(10,n),qw(n)}function qw(n){if(!ri(n)||Dd(n))return n;const e=n[wn];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=vp(n,e.scope_.immer_.useStrictShallowCopy_)}else t=vp(n,!0);return nd(t,(r,s)=>{Hw(t,r,qw(s))}),e&&(e.finalized_=!1),t}var En=new qC,Kw=En.produce;En.produceWithPatches.bind(En);En.setAutoFreeze.bind(En);En.setUseStrictShallowCopy.bind(En);En.applyPatches.bind(En);En.createDraft.bind(En);En.finishDraft.bind(En);function Qw(n){return({dispatch:t,getState:r})=>s=>a=>typeof a=="function"?a(t,r,n):s(a)}var QC=Qw(),YC=Qw,XC=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?td:td.apply(null,arguments)},JC=n=>n&&typeof n.match=="function";function Ol(n,e){function t(...r){if(e){let s=e(...r);if(!s)throw new Error(ti(0));return{type:n,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:n,payload:r[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=r=>jC(r)&&r.type===n,t}var Yw=class Cl extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Cl.prototype)}static get[Symbol.species](){return Cl}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Cl(...e[0].concat(this)):new Cl(...e.concat(this))}};function z_(n){return ri(n)?Kw(n,()=>{}):n}function B_(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function ZC(n){return typeof n=="boolean"}var eP=()=>function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:a=!0}=e??{};let u=new Yw;return t&&(ZC(t)?u.push(QC):u.push(YC(t.extraArgument))),u},tP="RTK_autoBatch",H_=n=>e=>{setTimeout(e,n)},nP=(n={type:"raf"})=>e=>(...t)=>{const r=e(...t);let s=!0,a=!1,u=!1;const d=new Set,f=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:H_(10):n.type==="callback"?n.queueNotification:H_(n.timeout),p=()=>{u=!1,a&&(a=!1,d.forEach(g=>g()))};return Object.assign({},r,{subscribe(g){const v=()=>s&&g(),E=r.subscribe(v);return d.add(g),()=>{E(),d.delete(g)}},dispatch(g){var v;try{return s=!((v=g==null?void 0:g.meta)!=null&&v[tP]),a=!s,a&&(u||(u=!0,f(p))),r.dispatch(g)}finally{s=!0}}})},rP=n=>function(t){const{autoBatch:r=!0}=t??{};let s=new Yw(n);return r&&s.push(nP(typeof r=="object"?r:void 0)),s};function iP(n){const e=eP(),{reducer:t=void 0,middleware:r,devTools:s=!0,preloadedState:a=void 0,enhancers:u=void 0}=n;let d;if(typeof t=="function")d=t;else if(dm(t))d=Uw(t);else throw new Error(ti(1));let f;typeof r=="function"?f=r(e):f=e();let p=td;s&&(p=XC({trace:!1,...typeof s=="object"&&s}));const g=VC(...f),v=rP(g);let E=typeof u=="function"?u(v):v();const C=p(...E);return $w(d,a,C)}function Xw(n){const e={},t=[];let r;const s={addCase(a,u){const d=typeof a=="string"?a:a.type;if(!d)throw new Error(ti(28));if(d in e)throw new Error(ti(29));return e[d]=u,s},addMatcher(a,u){return t.push({matcher:a,reducer:u}),s},addDefaultCase(a){return r=a,s}};return n(s),[e,t,r]}function sP(n){return typeof n=="function"}function oP(n,e){let[t,r,s]=Xw(e),a;if(sP(n))a=()=>z_(n());else{const d=z_(n);a=()=>d}function u(d=a(),f){let p=[t[f.type],...r.filter(({matcher:g})=>g(f)).map(({reducer:g})=>g)];return p.filter(g=>!!g).length===0&&(p=[s]),p.reduce((g,v)=>{if(v)if(Ms(g)){const C=v(g,f);return C===void 0?g:C}else{if(ri(g))return Kw(g,E=>v(E,f));{const E=v(g,f);if(E===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return E}}return g},d)}return u.getInitialState=a,u}var aP=(n,e)=>JC(n)?n.match(e):n(e);function lP(...n){return e=>n.some(t=>aP(t,e))}var uP="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",cP=(n=21)=>{let e="",t=n;for(;t--;)e+=uP[Math.random()*64|0];return e},dP=["name","message","stack","code"],Wh=class{constructor(n,e){kh(this,"_type");this.payload=n,this.meta=e}},W_=class{constructor(n,e){kh(this,"_type");this.payload=n,this.meta=e}},fP=n=>{if(typeof n=="object"&&n!==null){const e={};for(const t of dP)typeof n[t]=="string"&&(e[t]=n[t]);return e}return{message:String(n)}},Jw=(()=>{function n(e,t,r){const s=Ol(e+"/fulfilled",(f,p,g,v)=>({payload:f,meta:{...v||{},arg:g,requestId:p,requestStatus:"fulfilled"}})),a=Ol(e+"/pending",(f,p,g)=>({payload:void 0,meta:{...g||{},arg:p,requestId:f,requestStatus:"pending"}})),u=Ol(e+"/rejected",(f,p,g,v,E)=>({payload:v,error:(r&&r.serializeError||fP)(f||"Rejected"),meta:{...E||{},arg:g,requestId:p,rejectedWithValue:!!v,requestStatus:"rejected",aborted:(f==null?void 0:f.name)==="AbortError",condition:(f==null?void 0:f.name)==="ConditionError"}}));function d(f){return(p,g,v)=>{const E=r!=null&&r.idGenerator?r.idGenerator(f):cP(),C=new AbortController;let S,O;function b(R){O=R,C.abort()}const D=async function(){var F,H;let R;try{let X=(F=r==null?void 0:r.condition)==null?void 0:F.call(r,f,{getState:g,extra:v});if(pP(X)&&(X=await X),X===!1||C.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const M=new Promise((I,P)=>{S=()=>{P({name:"AbortError",message:O||"Aborted"})},C.signal.addEventListener("abort",S)});p(a(E,f,(H=r==null?void 0:r.getPendingMeta)==null?void 0:H.call(r,{requestId:E,arg:f},{getState:g,extra:v}))),R=await Promise.race([M,Promise.resolve(t(f,{dispatch:p,getState:g,extra:v,requestId:E,signal:C.signal,abort:b,rejectWithValue:(I,P)=>new Wh(I,P),fulfillWithValue:(I,P)=>new W_(I,P)})).then(I=>{if(I instanceof Wh)throw I;return I instanceof W_?s(I.payload,E,f,I.meta):s(I,E,f)})])}catch(X){R=X instanceof Wh?u(null,E,f,X.payload,X.meta):u(X,E,f)}finally{S&&C.signal.removeEventListener("abort",S)}return r&&!r.dispatchConditionRejection&&u.match(R)&&R.meta.condition||p(R),R}();return Object.assign(D,{abort:b,requestId:E,arg:f,unwrap(){return D.then(hP)}})}}return Object.assign(d,{pending:a,rejected:u,fulfilled:s,settled:lP(u,s),typePrefix:e})}return n.withTypes=()=>n,n})();function hP(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function pP(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var mP=Symbol.for("rtk-slice-createasyncthunk");function gP(n,e){return`${n}/${e}`}function yP({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[mP];return function(s){const{name:a,reducerPath:u=a}=s;if(!a)throw new Error(ti(11));const d=(typeof s.reducers=="function"?s.reducers(vP()):s.reducers)||{},f=Object.keys(d),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(A,F){const H=typeof A=="string"?A:A.type;if(!H)throw new Error(ti(12));if(H in p.sliceCaseReducersByType)throw new Error(ti(13));return p.sliceCaseReducersByType[H]=F,g},addMatcher(A,F){return p.sliceMatchers.push({matcher:A,reducer:F}),g},exposeAction(A,F){return p.actionCreators[A]=F,g},exposeCaseReducer(A,F){return p.sliceCaseReducersByName[A]=F,g}};f.forEach(A=>{const F=d[A],H={reducerName:A,type:gP(a,A),createNotation:typeof s.reducers=="function"};EP(F)?SP(H,F,g,e):wP(H,F,g)});function v(){const[A={},F=[],H=void 0]=typeof s.extraReducers=="function"?Xw(s.extraReducers):[s.extraReducers],X={...A,...p.sliceCaseReducersByType};return oP(s.initialState,M=>{for(let I in X)M.addCase(I,X[I]);for(let I of p.sliceMatchers)M.addMatcher(I.matcher,I.reducer);for(let I of F)M.addMatcher(I.matcher,I.reducer);H&&M.addDefaultCase(H)})}const E=A=>A,C=new Map;let S;function O(A,F){return S||(S=v()),S(A,F)}function b(){return S||(S=v()),S.getInitialState()}function D(A,F=!1){function H(M){let I=M[A];return typeof I>"u"&&F&&(I=b()),I}function X(M=E){const I=B_(C,F,()=>new WeakMap);return B_(I,M,()=>{const P={};for(const[L,V]of Object.entries(s.selectors??{}))P[L]=_P(V,M,b,F);return P})}return{reducerPath:A,getSelectors:X,get selectors(){return X(H)},selectSlice:H}}const R={name:a,reducer:O,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:b,...D(u),injectInto(A,{reducerPath:F,...H}={}){const X=F??u;return A.inject({reducerPath:X,reducer:O},H),{...R,...D(X,!0)}}};return R}}function _P(n,e,t,r){function s(a,...u){let d=e(a);return typeof d>"u"&&r&&(d=t()),n(d,...u)}return s.unwrapped=n,s}var ga=yP();function vP(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function wP({type:n,reducerName:e,createNotation:t},r,s){let a,u;if("reducer"in r){if(t&&!TP(r))throw new Error(ti(17));a=r.reducer,u=r.prepare}else a=r;s.addCase(n,a).exposeCaseReducer(e,a).exposeAction(e,u?Ol(n,u):Ol(n))}function EP(n){return n._reducerDefinitionType==="asyncThunk"}function TP(n){return n._reducerDefinitionType==="reducerWithPrepare"}function SP({type:n,reducerName:e},t,r,s){if(!s)throw new Error(ti(18));const{payloadCreator:a,fulfilled:u,pending:d,rejected:f,settled:p,options:g}=t,v=s(n,a,g);r.exposeAction(e,v),u&&r.addCase(v.fulfilled,u),d&&r.addCase(v.pending,d),f&&r.addCase(v.rejected,f),p&&r.addMatcher(v.settled,p),r.exposeCaseReducer(e,{fulfilled:u||Rc,pending:d||Rc,rejected:f||Rc,settled:p||Rc})}function Rc(){}function ti(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const IP={email:"",token:"",id:""},CP=ga({name:"user",initialState:IP,reducers:{setUser(n,e){n.email=e.payload.email,n.token=e.payload.token,n.id=e.payload.id},removeUser(n){n.email="",n.token="",n.id=""}}}),{actions:pm,reducer:PP}=CP,xP="_user_16fx8_11",RP="_avatar_16fx8_17",AP="_name_16fx8_39",kP="_button_16fx8_48",bP="_open_16fx8_53",NP="_content_16fx8_58",OP="_dropdown_16fx8_65",LP="_link_16fx8_83",Ln={user:xP,avatar:RP,name:AP,button:kP,open:bP,content:NP,dropdown:OP,link:LP};function DP(n){return dn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(n)}function MP(n){return dn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 277.4h189.7l-43.6 44.7L368 352l96-96-96-96-31 29.9 44.7 44.7H192v42.8z"},child:[]},{tag:"path",attr:{d:"M255.7 421.3c-44.1 0-85.5-17.2-116.7-48.4-31.2-31.2-48.3-72.7-48.3-116.9 0-44.1 17.2-85.7 48.3-116.9 31.2-31.2 72.6-48.4 116.7-48.4 44 0 85.3 17.1 116.5 48.2l30.3-30.3c-8.5-8.4-17.8-16.2-27.7-23.2C339.7 61 298.6 48 255.7 48 141.2 48 48 141.3 48 256s93.2 208 207.7 208c42.9 0 84-13 119-37.5 10-7 19.2-14.7 27.7-23.2l-30.2-30.2c-31.1 31.1-72.5 48.2-116.5 48.2zM448.004 256.847l-.849-.848.849-.849.848.849z"},child:[]}]})(n)}var G_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},VP=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],u=n[t++],d=n[t++],f=((s&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},eE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],u=s+1<n.length,d=u?n[s+1]:0,f=s+2<n.length,p=f?n[s+2]:0,g=a>>2,v=(a&3)<<4|d>>4;let E=(d&15)<<2|p>>6,C=p&63;f||(C=64,u||(E=64)),r.push(t[g],t[v],t[E],t[C])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Zw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):VP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const v=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||d==null||p==null||v==null)throw new jP;const E=a<<2|d>>4;if(r.push(E),p!==64){const C=d<<4&240|p>>2;if(r.push(C),v!==64){const S=p<<6&192|v;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class jP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FP=function(n){const e=Zw(n);return eE.encodeByteArray(e,!0)},sd=function(n){return FP(n).replace(/\./g,"")},tE=function(n){try{return eE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=()=>$P().__FIREBASE_DEFAULTS__,zP=()=>{if(typeof process>"u"||typeof G_>"u")return;const n=G_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},BP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&tE(n[1]);return e&&JSON.parse(e)},Md=()=>{try{return UP()||zP()||BP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},nE=n=>{var e,t;return(t=(e=Md())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},HP=n=>{const e=nE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},rE=()=>{var n;return(n=Md())===null||n===void 0?void 0:n.config},iE=n=>{var e;return(e=Md())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[sd(JSON.stringify(t)),sd(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function KP(){var n;const e=(n=Md())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YP(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function XP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JP(){const n=qt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function ZP(){return!KP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ex(){try{return typeof indexedDB=="object"}catch{return!1}}function tx(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx="FirebaseError";class ui extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=nx,Object.setPrototypeOf(this,ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?rx(a,r):"Error",d=`${this.serviceName}: ${u} (${s}).`;return new ui(s,d,r)}}function rx(n,e){return n.replace(ix,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const ix=/\{\$([^}]+)}/g;function sx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function od(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],u=e[s];if(q_(a)&&q_(u)){if(!od(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function q_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Pl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function xl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function ox(n,e){const t=new ax(n,e);return t.subscribe.bind(t)}class ax{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");lx(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Gh),s.error===void 0&&(s.error=Gh),s.complete===void 0&&(s.complete=Gh);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lx(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Gh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(n){return n&&n._delegate?n._delegate:n}class js{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new WP;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dx(e))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ls){return this.instances.has(e)}getOptions(e=Ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cx(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ls){return this.component?this.component.multipleInstances?e:Ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cx(n){return n===Ls?void 0:n}function dx(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ux(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(De||(De={}));const hx={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},px=De.INFO,mx={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},gx=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=mx[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mm{constructor(e){this.name=e,this._logLevel=px,this._logHandler=gx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const yx=(n,e)=>e.some(t=>n instanceof t);let K_,Q_;function _x(){return K_||(K_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vx(){return Q_||(Q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sE=new WeakMap,Ip=new WeakMap,oE=new WeakMap,qh=new WeakMap,gm=new WeakMap;function wx(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Hi(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&sE.set(t,n)}).catch(()=>{}),gm.set(e,n),e}function Ex(n){if(Ip.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Ip.set(n,e)}let Cp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ip.get(n);if(e==="objectStoreNames")return n.objectStoreNames||oE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Hi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Tx(n){Cp=n(Cp)}function Sx(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Kh(this),e,...t);return oE.set(r,e.sort?e.sort():[e]),Hi(r)}:vx().includes(n)?function(...e){return n.apply(Kh(this),e),Hi(sE.get(this))}:function(...e){return Hi(n.apply(Kh(this),e))}}function Ix(n){return typeof n=="function"?Sx(n):(n instanceof IDBTransaction&&Ex(n),yx(n,_x())?new Proxy(n,Cp):n)}function Hi(n){if(n instanceof IDBRequest)return wx(n);if(qh.has(n))return qh.get(n);const e=Ix(n);return e!==n&&(qh.set(n,e),gm.set(e,n)),e}const Kh=n=>gm.get(n);function Cx(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(n,e),d=Hi(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Hi(u.result),f.oldVersion,f.newVersion,Hi(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const Px=["get","getKey","getAll","getAllKeys","count"],xx=["put","add","delete","clear"],Qh=new Map;function Y_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Qh.get(e))return Qh.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=xx.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Px.includes(t)))return;const a=async function(u,...d){const f=this.transaction(u,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),s&&f.done]))[0]};return Qh.set(e,a),a}Tx(n=>({...n,get:(e,t,r)=>Y_(e,t)||n.get(e,t,r),has:(e,t)=>!!Y_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Ax(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Ax(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pp="@firebase/app",X_="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new mm("@firebase/app"),kx="@firebase/app-compat",bx="@firebase/analytics-compat",Nx="@firebase/analytics",Ox="@firebase/app-check-compat",Lx="@firebase/app-check",Dx="@firebase/auth",Mx="@firebase/auth-compat",Vx="@firebase/database",jx="@firebase/data-connect",Fx="@firebase/database-compat",$x="@firebase/functions",Ux="@firebase/functions-compat",zx="@firebase/installations",Bx="@firebase/installations-compat",Hx="@firebase/messaging",Wx="@firebase/messaging-compat",Gx="@firebase/performance",qx="@firebase/performance-compat",Kx="@firebase/remote-config",Qx="@firebase/remote-config-compat",Yx="@firebase/storage",Xx="@firebase/storage-compat",Jx="@firebase/firestore",Zx="@firebase/vertexai",eR="@firebase/firestore-compat",tR="firebase",nR="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="[DEFAULT]",rR={[Pp]:"fire-core",[kx]:"fire-core-compat",[Nx]:"fire-analytics",[bx]:"fire-analytics-compat",[Lx]:"fire-app-check",[Ox]:"fire-app-check-compat",[Dx]:"fire-auth",[Mx]:"fire-auth-compat",[Vx]:"fire-rtdb",[jx]:"fire-data-connect",[Fx]:"fire-rtdb-compat",[$x]:"fire-fn",[Ux]:"fire-fn-compat",[zx]:"fire-iid",[Bx]:"fire-iid-compat",[Hx]:"fire-fcm",[Wx]:"fire-fcm-compat",[Gx]:"fire-perf",[qx]:"fire-perf-compat",[Kx]:"fire-rc",[Qx]:"fire-rc-compat",[Yx]:"fire-gcs",[Xx]:"fire-gcs-compat",[Jx]:"fire-fst",[eR]:"fire-fst-compat",[Zx]:"fire-vertex","fire-js":"fire-js",[tR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad=new Map,iR=new Map,Rp=new Map;function J_(n,e){try{n.container.addComponent(e)}catch(t){ii.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function na(n){const e=n.name;if(Rp.has(e))return ii.debug(`There were multiple attempts to register component ${e}.`),!1;Rp.set(e,n);for(const t of ad.values())J_(t,n);for(const t of iR.values())J_(t,n);return!0}function ym(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ir(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wi=new eu("app","Firebase",sR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=nR;function aE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:xp,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Wi.create("bad-app-name",{appName:String(s)});if(t||(t=rE()),!t)throw Wi.create("no-options");const a=ad.get(s);if(a){if(od(t,a.options)&&od(r,a.config))return a;throw Wi.create("duplicate-app",{appName:s})}const u=new fx(s);for(const f of Rp.values())u.addComponent(f);const d=new oR(t,r,u);return ad.set(s,d),d}function lE(n=xp){const e=ad.get(n);if(!e&&n===xp&&rE())return aE();if(!e)throw Wi.create("no-app",{appName:n});return e}function Gi(n,e,t){var r;let s=(r=rR[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const d=[`Unable to register library "${s}" with version "${e}":`];a&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ii.warn(d.join(" "));return}na(new js(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="firebase-heartbeat-database",lR=1,Bl="firebase-heartbeat-store";let Yh=null;function uE(){return Yh||(Yh=Cx(aR,lR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Bl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Wi.create("idb-open",{originalErrorMessage:n.message})})),Yh}async function uR(n){try{const t=(await uE()).transaction(Bl),r=await t.objectStore(Bl).get(cE(n));return await t.done,r}catch(e){if(e instanceof ui)ii.warn(e.message);else{const t=Wi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ii.warn(t.message)}}}async function Z_(n,e){try{const r=(await uE()).transaction(Bl,"readwrite");await r.objectStore(Bl).put(e,cE(n)),await r.done}catch(t){if(t instanceof ui)ii.warn(t.message);else{const r=Wi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ii.warn(r.message)}}}function cE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=1024,dR=30*24*60*60*1e3;class fR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new pR(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=ev();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const d=new Date(u.date).valueOf();return Date.now()-d<=dR}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ii.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ev(),{heartbeatsToSend:r,unsentEntries:s}=hR(this._heartbeatsCache.heartbeats),a=sd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ii.warn(t),""}}}function ev(){return new Date().toISOString().substring(0,10)}function hR(n,e=cR){const t=[];let r=n.slice();for(const s of n){const a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),tv(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),tv(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class pR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ex()?tx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await uR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Z_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Z_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function tv(n){return sd(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(n){na(new js("platform-logger",e=>new Rx(e),"PRIVATE")),na(new js("heartbeat",e=>new fR(e),"PRIVATE")),Gi(Pp,X_,n),Gi(Pp,X_,"esm2017"),Gi("fire-js","")}mR("");function _m(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function dE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gR=dE,fE=new eu("auth","Firebase",dE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld=new mm("@firebase/auth");function yR(n,...e){ld.logLevel<=De.WARN&&ld.warn(`Auth (${ya}): ${n}`,...e)}function Fc(n,...e){ld.logLevel<=De.ERROR&&ld.error(`Auth (${ya}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(n,...e){throw vm(n,...e)}function Ir(n,...e){return vm(n,...e)}function hE(n,e,t){const r=Object.assign(Object.assign({},gR()),{[e]:t});return new eu("auth","Firebase",r).create(e,{appName:n.name})}function Cr(n){return hE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return fE.create(n,...e)}function Ce(n,e,...t){if(!n)throw vm(e,...t)}function Xr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Fc(e),new Error(e)}function si(n,e){n||Xr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function _R(){return nv()==="http:"||nv()==="https:"}function nv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_R()||YP()||"connection"in navigator)?navigator.onLine:!0}function wR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,t){this.shortDelay=e,this.longDelay=t,si(t>e,"Short delay should be less than long delay!"),this.isMobile=qP()||XP()}get(){return vR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(n,e){si(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=new nu(3e4,6e4);function ns(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function br(n,e,t,r,s={}){return mE(n,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=tu(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},a);return QP()||(p.referrerPolicy="no-referrer"),pE.fetch()(gE(n,n.config.apiHost,t,d),p)})}async function mE(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},ER),e);try{const s=new IR(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Ac(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[f,p]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ac(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Ac(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Ac(n,"user-disabled",u);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw hE(n,g,p);lr(n,g)}}catch(s){if(s instanceof ui)throw s;lr(n,"network-request-failed",{message:String(s)})}}async function ru(n,e,t,r,s={}){const a=await br(n,e,t,r,s);return"mfaPendingCredential"in a&&lr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function gE(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?wm(n.config,s):`${n.config.apiScheme}://${s}`}function SR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class IR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ir(this.auth,"network-request-failed")),TR.get())})}}function Ac(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Ir(n,e,r);return s.customData._tokenResponse=t,s}function rv(n){return n!==void 0&&n.enterprise!==void 0}class CR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return SR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function PR(n,e){return br(n,"GET","/v2/recaptchaConfig",ns(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xR(n,e){return br(n,"POST","/v1/accounts:delete",e)}async function yE(n,e){return br(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RR(n,e=!1){const t=Tn(n),r=await t.getIdToken(e),s=Em(r);Ce(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:Ll(Xh(s.auth_time)),issuedAtTime:Ll(Xh(s.iat)),expirationTime:Ll(Xh(s.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Xh(n){return Number(n)*1e3}function Em(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Fc("JWT malformed, contained fewer than 3 sections"),null;try{const s=tE(t);return s?JSON.parse(s):(Fc("Failed to decode base64 JWT payload"),null)}catch(s){return Fc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function iv(n){const e=Em(n);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fs(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ui&&AR(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function AR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ll(this.lastLoginAt),this.creationTime=Ll(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ud(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Fs(n,yE(t,{idToken:r}));Ce(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?_E(a.providerUserInfo):[],d=NR(n.providerData,u),f=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),g=f?p:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new kp(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function bR(n){const e=Tn(n);await ud(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function NR(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function _E(n){return n.map(e=>{var{providerId:t}=e,r=_m(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OR(n,e){const t=await mE(n,{},async()=>{const r=tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,u=gE(n,s,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",pE.fetch()(u,{method:"POST",headers:d,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function LR(n,e){return br(n,"POST","/v2/accounts:revokeToken",ns(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=iv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await OR(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,u=new Ko;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Ce(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(Ce(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ko,this.toJSON())}_performRefresh(){return Xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(n,e){Ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Jr{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,a=_m(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new kp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Fs(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return RR(this,e)}reload(){return bR(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Jr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ud(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ir(this.auth.app))return Promise.reject(Cr(this.auth));const e=await this.getIdToken();return await Fs(this,xR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,a,u,d,f,p,g;const v=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(s=t.email)!==null&&s!==void 0?s:void 0,C=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,S=(u=t.photoURL)!==null&&u!==void 0?u:void 0,O=(d=t.tenantId)!==null&&d!==void 0?d:void 0,b=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,D=(p=t.createdAt)!==null&&p!==void 0?p:void 0,R=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:A,emailVerified:F,isAnonymous:H,providerData:X,stsTokenManager:M}=t;Ce(A&&M,e,"internal-error");const I=Ko.fromJSON(this.name,M);Ce(typeof A=="string",e,"internal-error"),Mi(v,e.name),Mi(E,e.name),Ce(typeof F=="boolean",e,"internal-error"),Ce(typeof H=="boolean",e,"internal-error"),Mi(C,e.name),Mi(S,e.name),Mi(O,e.name),Mi(b,e.name),Mi(D,e.name),Mi(R,e.name);const P=new Jr({uid:A,auth:e,email:E,emailVerified:F,displayName:v,isAnonymous:H,photoURL:S,phoneNumber:C,tenantId:O,stsTokenManager:I,createdAt:D,lastLoginAt:R});return X&&Array.isArray(X)&&(P.providerData=X.map(L=>Object.assign({},L))),b&&(P._redirectEventId=b),P}static async _fromIdTokenResponse(e,t,r=!1){const s=new Ko;s.updateFromServerResponse(t);const a=new Jr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ud(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ce(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?_E(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),d=new Ko;d.updateFromIdToken(r);const f=new Jr({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:u}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new kp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=new Map;function Zr(n){si(n instanceof Function,"Expected a class definition");let e=sv.get(n);return e?(si(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,sv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}vE.type="NONE";const ov=vE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(n,e,t){return`firebase:${n}:${e}:${t}`}class Qo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=$c(this.userKey,s.apiKey,a),this.fullPersistenceKey=$c("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Jr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Qo(Zr(ov),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||Zr(ov);const u=$c(r,e.config.apiKey,e.name);let d=null;for(const p of t)try{const g=await p._get(u);if(g){const v=Jr._fromJSON(e,g);p!==a&&(d=v),a=p;break}}catch{}const f=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Qo(a,e,r):(a=f[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new Qo(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CE(e))return"Blackberry";if(PE(e))return"Webos";if(EE(e))return"Safari";if((e.includes("chrome/")||TE(e))&&!e.includes("edge/"))return"Chrome";if(IE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function wE(n=qt()){return/firefox\//i.test(n)}function EE(n=qt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TE(n=qt()){return/crios\//i.test(n)}function SE(n=qt()){return/iemobile/i.test(n)}function IE(n=qt()){return/android/i.test(n)}function CE(n=qt()){return/blackberry/i.test(n)}function PE(n=qt()){return/webos/i.test(n)}function Tm(n=qt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function DR(n=qt()){var e;return Tm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function MR(){return JP()&&document.documentMode===10}function xE(n=qt()){return Tm(n)||IE(n)||PE(n)||CE(n)||/windows phone/i.test(n)||SE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(n,e=[]){let t;switch(n){case"Browser":t=av(qt());break;case"Worker":t=`${av(qt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ya}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,d)=>{try{const f=e(a);u(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jR(n,e={}){return br(n,"GET","/v2/passwordPolicy",ns(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=6;class $R{constructor(e){var t,r,s,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:FR,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,a,u,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lv(this),this.idTokenSubscription=new lv(this),this.beforeStateQueue=new VR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Zr(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Qo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await yE(this,{idToken:e}),r=await Jr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ir(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===d)&&(f!=null&&f.user)&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ud(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ir(this.app))return Promise.reject(Cr(this));const t=e?Tn(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ir(this.app)?Promise.reject(Cr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ir(this.app)?Promise.reject(Cr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jR(this),t=new $R(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new eu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await LR(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Zr(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await Qo.create(this,[Zr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&yR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Hs(n){return Tn(n)}class lv{constructor(e){this.auth=e,this.observer=null,this.addObserver=ox(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zR(n){Vd=n}function AE(n){return Vd.loadJS(n)}function BR(){return Vd.recaptchaEnterpriseScript}function HR(){return Vd.gapiScript}function WR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class GR{constructor(){this.enterprise=new qR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class qR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const KR="recaptcha-enterprise",kE="NO_RECAPTCHA";class QR{constructor(e){this.type=KR,this.auth=Hs(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,d)=>{PR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new CR(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,u(p.siteKey)}}).catch(f=>{d(f)})})}function s(a,u,d){const f=window.grecaptcha;rv(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{u(p)}).catch(()=>{u(kE)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new GR().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(d=>{if(!t&&rv(window.grecaptcha))s(d,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=BR();f.length!==0&&(f+=d),AE(f).then(()=>{s(d,a,u)}).catch(p=>{u(p)})}}).catch(d=>{u(d)})})}}async function uv(n,e,t,r=!1,s=!1){const a=new QR(n);let u;if(s)u=kE;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function bp(n,e,t,r,s){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await uv(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await uv(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(n,e){const t=ym(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(od(a,e??{}))return s;lr(s,"already-initialized")}return t.initialize({options:e})}function XR(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Zr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function JR(n,e,t){const r=Hs(n);Ce(r._canInitEmulator,r,"emulator-config-failed"),Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=bE(e),{host:u,port:d}=ZR(e),f=d===null?"":`:${d}`;r.config.emulator={url:`${a}//${u}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),eA()}function bE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function ZR(n){const e=bE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:cv(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:cv(u)}}}function cv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function eA(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Xr("not implemented")}_getIdTokenResponse(e){return Xr("not implemented")}_linkToIdToken(e,t){return Xr("not implemented")}_getReauthenticationResolver(e){return Xr("not implemented")}}async function tA(n,e){return br(n,"POST","/v1/accounts:update",e)}async function nA(n,e){return br(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rA(n,e){return ru(n,"POST","/v1/accounts:signInWithPassword",ns(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iA(n,e){return ru(n,"POST","/v1/accounts:signInWithEmailLink",ns(n,e))}async function sA(n,e){return ru(n,"POST","/v1/accounts:signInWithEmailLink",ns(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl extends Sm{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Hl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Hl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bp(e,t,"signInWithPassword",rA);case"emailLink":return iA(e,{email:this._email,oobCode:this._password});default:lr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bp(e,r,"signUpPassword",nA);case"emailLink":return sA(e,{idToken:t,email:this._email,oobCode:this._password});default:lr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(n,e){return ru(n,"POST","/v1/accounts:signInWithIdp",ns(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA="http://localhost";class $s extends Sm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new $s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):lr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,a=_m(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new $s(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Yo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Yo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Yo(e,t)}buildRequest(){const e={requestUri:oA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=tu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lA(n){const e=Pl(xl(n)).link,t=e?Pl(xl(e)).deep_link_id:null,r=Pl(xl(n)).deep_link_id;return(r?Pl(xl(r)).link:null)||r||t||e||n}class Im{constructor(e){var t,r,s,a,u,d;const f=Pl(xl(e)),p=(t=f.apiKey)!==null&&t!==void 0?t:null,g=(r=f.oobCode)!==null&&r!==void 0?r:null,v=aA((s=f.mode)!==null&&s!==void 0?s:null);Ce(p&&g&&v,"argument-error"),this.apiKey=p,this.operation=v,this.code=g,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=f.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=lA(e);try{return new Im(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(){this.providerId=_a.PROVIDER_ID}static credential(e,t){return Hl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Im.parseLink(t);return Ce(r,"argument-error"),Hl._fromEmailAndCode(e,r.code,r.tenantId)}}_a.PROVIDER_ID="password";_a.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_a.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends NE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends iu{constructor(){super("facebook.com")}static credential(e){return $s._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return $s._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Fi.credential(t,r)}catch{return null}}}Fi.GOOGLE_SIGN_IN_METHOD="google.com";Fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends iu{constructor(){super("github.com")}static credential(e){return $s._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends iu{constructor(){super("twitter.com")}static credential(e,t){return $s._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ui.credential(t,r)}catch{return null}}}Ui.TWITTER_SIGN_IN_METHOD="twitter.com";Ui.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uA(n,e){return ru(n,"POST","/v1/accounts:signUp",ns(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await Jr._fromIdTokenResponse(e,r,s),u=dv(r);return new Us({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=dv(r);return new Us({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function dv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd extends ui{constructor(e,t,r,s){var a;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,cd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new cd(e,t,r,s)}}function OE(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?cd._fromErrorAndOperation(n,a,e,r):a})}async function cA(n,e,t=!1){const r=await Fs(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Us._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dA(n,e,t=!1){const{auth:r}=n;if(ir(r.app))return Promise.reject(Cr(r));const s="reauthenticate";try{const a=await Fs(n,OE(r,s,e,n),t);Ce(a.idToken,r,"internal-error");const u=Em(a.idToken);Ce(u,r,"internal-error");const{sub:d}=u;return Ce(n.uid===d,r,"user-mismatch"),Us._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&lr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LE(n,e,t=!1){if(ir(n.app))return Promise.reject(Cr(n));const r="signIn",s=await OE(n,r,e),a=await Us._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}async function fA(n,e){return LE(Hs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DE(n){const e=Hs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function hA(n,e,t){if(ir(n.app))return Promise.reject(Cr(n));const r=Hs(n),u=await bp(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uA).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&DE(n),f}),d=await Us._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(d.user),d}function pA(n,e,t){return ir(n.app)?Promise.reject(Cr(n)):fA(Tn(n),_a.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&DE(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mA(n,e){return br(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gA(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Tn(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Fs(r,mA(r.auth,a));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const d=r.providerData.find(({providerId:f})=>f==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function yA(n,e){const t=Tn(n);return ir(t.auth.app)?Promise.reject(Cr(t.auth)):_A(t,e)}async function _A(n,e,t){const{auth:r}=n,a={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(a.email=e);const u=await Fs(n,tA(r,a));await n._updateTokensIfNecessary(u,!0)}function vA(n,e,t,r){return Tn(n).onIdTokenChanged(e,t,r)}function wA(n,e,t){return Tn(n).beforeAuthStateChanged(e,t)}const dd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(dd,"1"),this.storage.removeItem(dd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=1e3,TA=10;class VE extends ME{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);MR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,TA):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},EA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}VE.type="LOCAL";const SA=VE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE extends ME{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}jE.type="SESSION";const FE=jE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new jd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(u).map(async p=>p(t.origin,a)),f=await IA(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((d,f)=>{const p=Cm("",20);s.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(v){const E=v;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(E.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(){return window}function PA(n){Pr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(){return typeof Pr().WorkerGlobalScope<"u"&&typeof Pr().importScripts=="function"}async function xA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RA(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function AA(){return $E()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="firebaseLocalStorageDb",kA=1,fd="firebaseLocalStorage",zE="fbase_key";class su{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Fd(n,e){return n.transaction([fd],e?"readwrite":"readonly").objectStore(fd)}function bA(){const n=indexedDB.deleteDatabase(UE);return new su(n).toPromise()}function Np(){const n=indexedDB.open(UE,kA);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(fd,{keyPath:zE})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(fd)?e(r):(r.close(),await bA(),e(await Np()))})})}async function fv(n,e,t){const r=Fd(n,!0).put({[zE]:e,value:t});return new su(r).toPromise()}async function NA(n,e){const t=Fd(n,!1).get(e),r=await new su(t).toPromise();return r===void 0?null:r.value}function hv(n,e){const t=Fd(n,!0).delete(e);return new su(t).toPromise()}const OA=800,LA=3;class BE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Np(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>LA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $E()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jd._getInstance(AA()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await xA(),!this.activeServiceWorker)return;this.sender=new CA(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Np();return await fv(e,dd,"1"),await hv(e,dd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>fv(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>NA(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>hv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Fd(s,!1).getAll();return new su(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BE.type="LOCAL";const DA=BE;new nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(n,e){return e?Zr(e):(Ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm extends Sm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Yo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function VA(n){return LE(n.auth,new Pm(n),n.bypassAuthState)}function jA(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),dA(t,new Pm(n),n.bypassAuthState)}async function FA(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),cA(t,new Pm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VA;case"linkViaPopup":case"linkViaRedirect":return FA;case"reauthViaPopup":case"reauthViaRedirect":return jA;default:lr(this.auth,"internal-error")}}resolve(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A=new nu(2e3,1e4);class Go extends HE{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Go.currentPopupAction&&Go.currentPopupAction.cancel(),Go.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){si(this.filter.length===1,"Popup operations only handle one event");const e=Cm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Go.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$A.get())};e()}}Go.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="pendingRedirect",Uc=new Map;class zA extends HE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Uc.get(this.auth._key());if(!e){try{const r=await BA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Uc.set(this.auth._key(),e)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BA(n,e){const t=GA(e),r=WA(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function HA(n,e){Uc.set(n._key(),e)}function WA(n){return Zr(n._redirectPersistence)}function GA(n){return $c(UA,n.config.apiKey,n.name)}async function qA(n,e,t=!1){if(ir(n.app))return Promise.reject(Cr(n));const r=Hs(n),s=MA(r,e),u=await new zA(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=10*60*1e3;class QA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YA(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!WE(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ir(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KA&&this.cachedEventUids.clear(),this.cachedEventUids.has(pv(e))}saveEventToCache(e){this.cachedEventUids.add(pv(e)),this.lastProcessedEventTime=Date.now()}}function pv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function WE({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function YA(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XA(n,e={}){return br(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZA=/^https?/;async function ek(n){if(n.config.emulator)return;const{authorizedDomains:e}=await XA(n);for(const t of e)try{if(tk(t))return}catch{}lr(n,"unauthorized-domain")}function tk(n){const e=Ap(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!ZA.test(t))return!1;if(JA.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=new nu(3e4,6e4);function mv(){const n=Pr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function rk(n){return new Promise((e,t)=>{var r,s,a;function u(){mv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mv(),t(Ir(n,"network-request-failed"))},timeout:nk.get()})}if(!((s=(r=Pr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Pr().gapi)===null||a===void 0)&&a.load)u();else{const d=WR("iframefcb");return Pr()[d]=()=>{gapi.load?u():t(Ir(n,"network-request-failed"))},AE(`${HR()}?onload=${d}`).catch(f=>t(f))}}).catch(e=>{throw zc=null,e})}let zc=null;function ik(n){return zc=zc||rk(n),zc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=new nu(5e3,15e3),ok="__/auth/iframe",ak="emulator/auth/iframe",lk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ck(n){const e=n.config;Ce(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?wm(e,ak):`https://${n.config.authDomain}/${ok}`,r={apiKey:e.apiKey,appName:n.name,v:ya},s=uk.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${tu(r).slice(1)}`}async function dk(n){const e=await ik(n),t=Pr().gapi;return Ce(t,n,"internal-error"),e.open({where:document.body,url:ck(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lk,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=Ir(n,"network-request-failed"),d=Pr().setTimeout(()=>{a(u)},sk.get());function f(){Pr().clearTimeout(d),s(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hk=500,pk=600,mk="_blank",gk="http://localhost";class gv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yk(n,e,t,r=hk,s=pk){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f=Object.assign(Object.assign({},fk),{width:r.toString(),height:s.toString(),top:a,left:u}),p=qt().toLowerCase();t&&(d=TE(p)?mk:t),wE(p)&&(e=e||gk,f.scrollbars="yes");const g=Object.entries(f).reduce((E,[C,S])=>`${E}${C}=${S},`,"");if(DR(p)&&d!=="_self")return _k(e||"",d),new gv(null);const v=window.open(e||"",d,g);Ce(v,n,"popup-blocked");try{v.focus()}catch{}return new gv(v)}function _k(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk="__/auth/handler",wk="emulator/auth/handler",Ek=encodeURIComponent("fac");async function yv(n,e,t,r,s,a){Ce(n.config.authDomain,n,"auth-domain-config-required"),Ce(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ya,eventId:s};if(e instanceof NE){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",sx(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))u[g]=v}if(e instanceof iu){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const f=await n._getAppCheckToken(),p=f?`#${Ek}=${encodeURIComponent(f)}`:"";return`${Tk(n)}?${tu(d).slice(1)}${p}`}function Tk({config:n}){return n.emulator?wm(n,wk):`https://${n.authDomain}/${vk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh="webStorageSupport";class Sk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FE,this._completeRedirectFn=qA,this._overrideRedirectResult=HA}async _openPopup(e,t,r,s){var a;si((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await yv(e,t,r,Ap(),s);return yk(e,u,Cm())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await yv(e,t,r,Ap(),s);return PA(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(si(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await dk(e),r=new QA(e);return t.register("authEvent",s=>(Ce(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Jh,{type:Jh},s=>{var a;const u=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[Jh];u!==void 0&&t(!!u),lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ek(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return xE()||EE()||Tm()}}const Ik=Sk;var _v="@firebase/auth",vv="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xk(n){na(new js("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;Ce(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RE(n)},p=new UR(r,s,a,f);return XR(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),na(new js("auth-internal",e=>{const t=Hs(e.getProvider("auth").getImmediate());return(r=>new Ck(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gi(_v,vv,Pk(n)),Gi(_v,vv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=5*60,Ak=iE("authIdTokenMaxAge")||Rk;let wv=null;const kk=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Ak)return;const s=t==null?void 0:t.token;wv!==s&&(wv=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function ra(n=lE()){const e=ym(n,"auth");if(e.isInitialized())return e.getImmediate();const t=YR(n,{popupRedirectResolver:Ik,persistence:[DA,SA,FE]}),r=iE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=kk(a.toString());wA(t,u,()=>u(t.currentUser)),vA(t,d=>u(d))}}const s=nE("auth");return s&&JR(t,`http://${s}`),t}function bk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}zR({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=Ir("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",bk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xk("Browser");const Nk=()=>{const n=Sn(),{isAuth:e,email:t}=cm(),[r,s]=z.useState(!1),{id:a}=rt(p=>p.user),d=ra().currentUser,f=()=>{s(p=>!p)};return x.jsxs("div",{className:Ln.user,children:[x.jsx("div",{className:Ln.avatar,children:e&&d?x.jsx(Xe,{to:`/user-page/${a}`,children:x.jsx("img",{src:d.photoURL??void 0,alt:"User Profile"})}):x.jsx(tC,{size:24})}),e&&d?x.jsxs("div",{className:Ln.content,children:[x.jsx(Xe,{to:`/user-page/${a}`,className:Ln.name,children:d.displayName?d.displayName:t}),x.jsx("button",{type:"button",className:r?`${Ln.button} ${Ln.open}`:Ln.button,onClick:f,children:x.jsx(DP,{})}),r&&x.jsxs("div",{className:Ln.dropdown,children:[x.jsxs(Xe,{className:Ln.link,to:"/profile-edit",children:[x.jsx(Vw,{size:16}),"profile edit"]}),x.jsxs("button",{className:Ln.link,onClick:()=>n(pm.removeUser()),children:[x.jsx(MP,{size:16})," log out"]})]})]}):x.jsx("div",{className:Ln.links,children:x.jsx(Xe,{to:"/login",className:Ln.name,children:"login"})})]})};function GE(n){return dn({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"m3.196 12.87-.825.483a.75.75 0 0 0 0 1.294l7.25 4.25a.75.75 0 0 0 .758 0l7.25-4.25a.75.75 0 0 0 0-1.294l-.825-.484-5.666 3.322a2.25 2.25 0 0 1-2.276 0L3.196 12.87Z"},child:[]},{tag:"path",attr:{d:"m3.196 8.87-.825.483a.75.75 0 0 0 0 1.294l7.25 4.25a.75.75 0 0 0 .758 0l7.25-4.25a.75.75 0 0 0 0-1.294l-.825-.484-5.666 3.322a2.25 2.25 0 0 1-2.276 0L3.196 8.87Z"},child:[]},{tag:"path",attr:{d:"M10.38 1.103a.75.75 0 0 0-.76 0l-7.25 4.25a.75.75 0 0 0 0 1.294l7.25 4.25a.75.75 0 0 0 .76 0l7.25-4.25a.75.75 0 0 0 0-1.294l-7.25-4.25Z"},child:[]}]})(n)}const qE=()=>{const{favorites:n}=rt(e=>e.favorites);return x.jsx("header",{className:Di.header,children:x.jsx("div",{className:"container",children:x.jsxs("div",{className:Di.body,children:[x.jsxs("div",{className:Di.left,children:[x.jsxs(Xe,{to:"/main",className:Di.logo,children:[x.jsx("img",{src:"/gallery-website/gallery.png",alt:""}),x.jsx("span",{className:Di.logoName,children:"gallery"})]}),x.jsx(GI,{})]}),x.jsxs("div",{className:Di.right,children:[x.jsx(OC,{}),x.jsx(Nk,{}),x.jsxs(Xe,{to:"/favorites",className:Di.favorite,children:[x.jsx(GE,{size:24}),n.length>=1&&x.jsx("span",{className:Di.count,children:n.length})]})]})]})})})},Ok="_modal_10wpc_11",Lk="_active_10wpc_19",Dk="_content_10wpc_24",Mk="_title_10wpc_35",El={modal:Ok,active:Lk,content:Dk,title:Mk},xm=({active:n,message:e})=>x.jsx("div",{className:n?`${El.modal} ${El.active}`:El.modal,children:x.jsx("div",{className:El.content,children:x.jsx("div",{className:El.title,children:e})})}),Vk=()=>{const{isOpen:n,message:e}=rt(t=>t.modal);return x.jsxs("div",{className:"wrapper",children:[x.jsx(qE,{}),x.jsx("main",{children:x.jsx("div",{className:"container",children:x.jsx(om,{})})}),x.jsx(xm,{active:n,message:e})]})},jk="_wrap_jqub5_11",Fk="_top_jqub5_15",$k="_navigation_jqub5_21",Uk="_title_jqub5_27",Rl={wrap:jk,top:Fk,navigation:$k,title:Uk};function Ev(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function Rm(n,e){n===void 0&&(n={}),e===void 0&&(e={});const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:Ev(e[r])&&Ev(n[r])&&Object.keys(e[r]).length>0&&Rm(n[r],e[r])})}const KE={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function rs(){const n=typeof document<"u"?document:{};return Rm(n,KE),n}const zk={document:KE,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function Zt(){const n=typeof window<"u"?window:{};return Rm(n,zk),n}function Bk(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function Hk(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function Op(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function hd(){return Date.now()}function Wk(n){const e=Zt();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function Gk(n,e){e===void 0&&(e="x");const t=Zt();let r,s,a;const u=Wk(n);return t.WebKitCSSMatrix?(s=u.transform||u.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(d=>d.replace(",",".")).join(", ")),a=new t.WebKitCSSMatrix(s==="none"?"":s)):(a=u.MozTransform||u.OTransform||u.MsTransform||u.msTransform||u.transform||u.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=a.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?s=a.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?s=a.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function kc(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function qk(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function vn(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const r=t<0||arguments.length<=t?void 0:arguments[t];if(r!=null&&!qk(r)){const s=Object.keys(Object(r)).filter(a=>e.indexOf(a)<0);for(let a=0,u=s.length;a<u;a+=1){const d=s[a],f=Object.getOwnPropertyDescriptor(r,d);f!==void 0&&f.enumerable&&(kc(n[d])&&kc(r[d])?r[d].__swiper__?n[d]=r[d]:vn(n[d],r[d]):!kc(n[d])&&kc(r[d])?(n[d]={},r[d].__swiper__?n[d]=r[d]:vn(n[d],r[d])):n[d]=r[d])}}}return n}function Al(n,e,t){n.style.setProperty(e,t)}function QE(n){let{swiper:e,targetPosition:t,side:r}=n;const s=Zt(),a=-e.translate;let u=null,d;const f=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const p=t>a?"next":"prev",g=(E,C)=>p==="next"&&E>=C||p==="prev"&&E<=C,v=()=>{d=new Date().getTime(),u===null&&(u=d);const E=Math.max(Math.min((d-u)/f,1),0),C=.5-Math.cos(E*Math.PI)/2;let S=a+C*(t-a);if(g(S,t)&&(S=t),e.wrapperEl.scrollTo({[r]:S}),g(S,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:S})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(v)};v()}function sr(n,e){e===void 0&&(e="");const t=Zt(),r=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&r.push(...n.assignedElements()),e?r.filter(s=>s.matches(e)):r}function Kk(n,e){const t=[e];for(;t.length>0;){const r=t.shift();if(n===r)return!0;t.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function Qk(n,e){const t=Zt();let r=e.contains(n);return!r&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(n),r||(r=Kk(n,e))),r}function pd(n){try{console.warn(n);return}catch{}}function ia(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:Bk(e)),t}function Yk(n,e){const t=[];for(;n.previousElementSibling;){const r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function Xk(n,e){const t=[];for(;n.nextElementSibling;){const r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function zi(n,e){return Zt().getComputedStyle(n,null).getPropertyValue(e)}function md(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function YE(n,e){const t=[];let r=n.parentElement;for(;r;)e?r.matches(e)&&t.push(r):t.push(r),r=r.parentElement;return t}function Lp(n,e,t){const r=Zt();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function At(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}let Zh;function Jk(){const n=Zt(),e=rs();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function XE(){return Zh||(Zh=Jk()),Zh}let ep;function Zk(n){let{userAgent:e}=n===void 0?{}:n;const t=XE(),r=Zt(),s=r.navigator.platform,a=e||r.navigator.userAgent,u={ios:!1,android:!1},d=r.screen.width,f=r.screen.height,p=a.match(/(Android);?[\s\/]+([\d.]+)?/);let g=a.match(/(iPad).*OS\s([\d_]+)/);const v=a.match(/(iPod)(.*OS\s([\d_]+))?/),E=!g&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),C=s==="Win32";let S=s==="MacIntel";const O=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!g&&S&&t.touch&&O.indexOf(`${d}x${f}`)>=0&&(g=a.match(/(Version)\/([\d.]+)/),g||(g=[0,1,"13_0_0"]),S=!1),p&&!C&&(u.os="android",u.android=!0),(g||E||v)&&(u.os="ios",u.ios=!0),u}function JE(n){return n===void 0&&(n={}),ep||(ep=Zk(n)),ep}let tp;function eb(){const n=Zt(),e=JE();let t=!1;function r(){const d=n.navigator.userAgent.toLowerCase();return d.indexOf("safari")>=0&&d.indexOf("chrome")<0&&d.indexOf("android")<0}if(r()){const d=String(n.navigator.userAgent);if(d.includes("Version/")){const[f,p]=d.split("Version/")[1].split(" ")[0].split(".").map(g=>Number(g));t=f<16||f===16&&p<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),a=r(),u=a||s&&e.ios;return{isSafari:t||a,needPerspectiveFix:t,need3dFix:u,isWebView:s}}function ZE(){return tp||(tp=eb()),tp}function tb(n){let{swiper:e,on:t,emit:r}=n;const s=Zt();let a=null,u=null;const d=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},f=()=>{!e||e.destroyed||!e.initialized||(a=new ResizeObserver(v=>{u=s.requestAnimationFrame(()=>{const{width:E,height:C}=e;let S=E,O=C;v.forEach(b=>{let{contentBoxSize:D,contentRect:R,target:A}=b;A&&A!==e.el||(S=R?R.width:(D[0]||D).inlineSize,O=R?R.height:(D[0]||D).blockSize)}),(S!==E||O!==C)&&d()})}),a.observe(e.el))},p=()=>{u&&s.cancelAnimationFrame(u),a&&a.unobserve&&e.el&&(a.unobserve(e.el),a=null)},g=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver<"u"){f();return}s.addEventListener("resize",d),s.addEventListener("orientationchange",g)}),t("destroy",()=>{p(),s.removeEventListener("resize",d),s.removeEventListener("orientationchange",g)})}function nb(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;const a=[],u=Zt(),d=function(g,v){v===void 0&&(v={});const E=u.MutationObserver||u.WebkitMutationObserver,C=new E(S=>{if(e.__preventObserver__)return;if(S.length===1){s("observerUpdate",S[0]);return}const O=function(){s("observerUpdate",S[0])};u.requestAnimationFrame?u.requestAnimationFrame(O):u.setTimeout(O,0)});C.observe(g,{attributes:typeof v.attributes>"u"?!0:v.attributes,childList:e.isElement||(typeof v.childList>"u"?!0:v).childList,characterData:typeof v.characterData>"u"?!0:v.characterData}),a.push(C)},f=()=>{if(e.params.observer){if(e.params.observeParents){const g=YE(e.hostEl);for(let v=0;v<g.length;v+=1)d(g[v])}d(e.hostEl,{childList:e.params.observeSlideChildren}),d(e.wrapperEl,{attributes:!1})}},p=()=>{a.forEach(g=>{g.disconnect()}),a.splice(0,a.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",f),r("destroy",p)}var rb={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=t?"unshift":"push";return n.split(" ").forEach(a=>{r.eventsListeners[a]||(r.eventsListeners[a]=[]),r.eventsListeners[a][s](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(){r.off(n,s),s.__emitterProxy&&delete s.__emitterProxy;for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];e.apply(r,u)}return s.__emitterProxy=e,r.on(n,s,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((s,a)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&t.eventsListeners[r].splice(a,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,r;for(var s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return typeof a[0]=="string"||Array.isArray(a[0])?(e=a[0],t=a.slice(1,a.length),r=n):(e=a[0].events,t=a[0].data,r=a[0].context||n),t.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(f=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(p=>{p.apply(r,[f,...t])}),n.eventsListeners&&n.eventsListeners[f]&&n.eventsListeners[f].forEach(p=>{p.apply(r,t)})}),n}};function ib(){const n=this;let e,t;const r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(zi(r,"padding-left")||0,10)-parseInt(zi(r,"padding-right")||0,10),t=t-parseInt(zi(r,"padding-top")||0,10)-parseInt(zi(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function sb(){const n=this;function e(L,V){return parseFloat(L.getPropertyValue(n.getDirectionLabel(V))||0)}const t=n.params,{wrapperEl:r,slidesEl:s,size:a,rtlTranslate:u,wrongRTL:d}=n,f=n.virtual&&t.virtual.enabled,p=f?n.virtual.slides.length:n.slides.length,g=sr(s,`.${n.params.slideClass}, swiper-slide`),v=f?n.virtual.slides.length:g.length;let E=[];const C=[],S=[];let O=t.slidesOffsetBefore;typeof O=="function"&&(O=t.slidesOffsetBefore.call(n));let b=t.slidesOffsetAfter;typeof b=="function"&&(b=t.slidesOffsetAfter.call(n));const D=n.snapGrid.length,R=n.slidesGrid.length;let A=t.spaceBetween,F=-O,H=0,X=0;if(typeof a>"u")return;typeof A=="string"&&A.indexOf("%")>=0?A=parseFloat(A.replace("%",""))/100*a:typeof A=="string"&&(A=parseFloat(A)),n.virtualSize=-A,g.forEach(L=>{u?L.style.marginLeft="":L.style.marginRight="",L.style.marginBottom="",L.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(Al(r,"--swiper-centered-offset-before",""),Al(r,"--swiper-centered-offset-after",""));const M=t.grid&&t.grid.rows>1&&n.grid;M?n.grid.initSlides(g):n.grid&&n.grid.unsetSlides();let I;const P=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(L=>typeof t.breakpoints[L].slidesPerView<"u").length>0;for(let L=0;L<v;L+=1){I=0;let V;if(g[L]&&(V=g[L]),M&&n.grid.updateSlide(L,V,g),!(g[L]&&zi(V,"display")==="none")){if(t.slidesPerView==="auto"){P&&(g[L].style[n.getDirectionLabel("width")]="");const $=getComputedStyle(V),N=V.style.transform,ue=V.style.webkitTransform;if(N&&(V.style.transform="none"),ue&&(V.style.webkitTransform="none"),t.roundLengths)I=n.isHorizontal()?Lp(V,"width"):Lp(V,"height");else{const _e=e($,"width"),ve=e($,"padding-left"),Pe=e($,"padding-right"),re=e($,"margin-left"),le=e($,"margin-right"),oe=$.getPropertyValue("box-sizing");if(oe&&oe==="border-box")I=_e+re+le;else{const{clientWidth:W,offsetWidth:J}=V;I=_e+ve+Pe+re+le+(J-W)}}N&&(V.style.transform=N),ue&&(V.style.webkitTransform=ue),t.roundLengths&&(I=Math.floor(I))}else I=(a-(t.slidesPerView-1)*A)/t.slidesPerView,t.roundLengths&&(I=Math.floor(I)),g[L]&&(g[L].style[n.getDirectionLabel("width")]=`${I}px`);g[L]&&(g[L].swiperSlideSize=I),S.push(I),t.centeredSlides?(F=F+I/2+H/2+A,H===0&&L!==0&&(F=F-a/2-A),L===0&&(F=F-a/2-A),Math.abs(F)<1/1e3&&(F=0),t.roundLengths&&(F=Math.floor(F)),X%t.slidesPerGroup===0&&E.push(F),C.push(F)):(t.roundLengths&&(F=Math.floor(F)),(X-Math.min(n.params.slidesPerGroupSkip,X))%n.params.slidesPerGroup===0&&E.push(F),C.push(F),F=F+I+A),n.virtualSize+=I+A,H=I,X+=1}}if(n.virtualSize=Math.max(n.virtualSize,a)+b,u&&d&&(t.effect==="slide"||t.effect==="coverflow")&&(r.style.width=`${n.virtualSize+A}px`),t.setWrapperSize&&(r.style[n.getDirectionLabel("width")]=`${n.virtualSize+A}px`),M&&n.grid.updateWrapperSize(I,E),!t.centeredSlides){const L=[];for(let V=0;V<E.length;V+=1){let $=E[V];t.roundLengths&&($=Math.floor($)),E[V]<=n.virtualSize-a&&L.push($)}E=L,Math.floor(n.virtualSize-a)-Math.floor(E[E.length-1])>1&&E.push(n.virtualSize-a)}if(f&&t.loop){const L=S[0]+A;if(t.slidesPerGroup>1){const V=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),$=L*t.slidesPerGroup;for(let N=0;N<V;N+=1)E.push(E[E.length-1]+$)}for(let V=0;V<n.virtual.slidesBefore+n.virtual.slidesAfter;V+=1)t.slidesPerGroup===1&&E.push(E[E.length-1]+L),C.push(C[C.length-1]+L),n.virtualSize+=L}if(E.length===0&&(E=[0]),A!==0){const L=n.isHorizontal()&&u?"marginLeft":n.getDirectionLabel("marginRight");g.filter((V,$)=>!t.cssMode||t.loop?!0:$!==g.length-1).forEach(V=>{V.style[L]=`${A}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let L=0;S.forEach($=>{L+=$+(A||0)}),L-=A;const V=L>a?L-a:0;E=E.map($=>$<=0?-O:$>V?V+b:$)}if(t.centerInsufficientSlides){let L=0;S.forEach($=>{L+=$+(A||0)}),L-=A;const V=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(L+V<a){const $=(a-L-V)/2;E.forEach((N,ue)=>{E[ue]=N-$}),C.forEach((N,ue)=>{C[ue]=N+$})}}if(Object.assign(n,{slides:g,snapGrid:E,slidesGrid:C,slidesSizesGrid:S}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){Al(r,"--swiper-centered-offset-before",`${-E[0]}px`),Al(r,"--swiper-centered-offset-after",`${n.size/2-S[S.length-1]/2}px`);const L=-n.snapGrid[0],V=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map($=>$+L),n.slidesGrid=n.slidesGrid.map($=>$+V)}if(v!==p&&n.emit("slidesLengthChange"),E.length!==D&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),C.length!==R&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!f&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const L=`${t.containerModifierClass}backface-hidden`,V=n.el.classList.contains(L);v<=t.maxBackfaceHiddenSlides?V||n.el.classList.add(L):V&&n.el.classList.remove(L)}}function ob(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let s=0,a;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const u=d=>r?e.slides[e.getSlideIndexByData(d)]:e.slides[d];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(d=>{t.push(d)});else for(a=0;a<Math.ceil(e.params.slidesPerView);a+=1){const d=e.activeIndex+a;if(d>e.slides.length&&!r)break;t.push(u(d))}else t.push(u(e.activeIndex));for(a=0;a<t.length;a+=1)if(typeof t[a]<"u"){const d=t[a].offsetHeight;s=d>s?d:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function ab(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}const Tv=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function lb(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:r,rtlTranslate:s,snapGrid:a}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let u=-n;s&&(u=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let d=t.spaceBetween;typeof d=="string"&&d.indexOf("%")>=0?d=parseFloat(d.replace("%",""))/100*e.size:typeof d=="string"&&(d=parseFloat(d));for(let f=0;f<r.length;f+=1){const p=r[f];let g=p.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(g-=r[0].swiperSlideOffset);const v=(u+(t.centeredSlides?e.minTranslate():0)-g)/(p.swiperSlideSize+d),E=(u-a[0]+(t.centeredSlides?e.minTranslate():0)-g)/(p.swiperSlideSize+d),C=-(u-g),S=C+e.slidesSizesGrid[f],O=C>=0&&C<=e.size-e.slidesSizesGrid[f],b=C>=0&&C<e.size-1||S>1&&S<=e.size||C<=0&&S>=e.size;b&&(e.visibleSlides.push(p),e.visibleSlidesIndexes.push(f)),Tv(p,b,t.slideVisibleClass),Tv(p,O,t.slideFullyVisibleClass),p.progress=s?-v:v,p.originalProgress=s?-E:E}}function ub(n){const e=this;if(typeof n>"u"){const g=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*g||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:a,isEnd:u,progressLoop:d}=e;const f=a,p=u;if(r===0)s=0,a=!0,u=!0;else{s=(n-e.minTranslate())/r;const g=Math.abs(n-e.minTranslate())<1,v=Math.abs(n-e.maxTranslate())<1;a=g||s<=0,u=v||s>=1,g&&(s=0),v&&(s=1)}if(t.loop){const g=e.getSlideIndexByData(0),v=e.getSlideIndexByData(e.slides.length-1),E=e.slidesGrid[g],C=e.slidesGrid[v],S=e.slidesGrid[e.slidesGrid.length-1],O=Math.abs(n);O>=E?d=(O-E)/S:d=(O+S-C)/S,d>1&&(d-=1)}Object.assign(e,{progress:s,progressLoop:d,isBeginning:a,isEnd:u}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),a&&!f&&e.emit("reachBeginning toEdge"),u&&!p&&e.emit("reachEnd toEdge"),(f&&!a||p&&!u)&&e.emit("fromEdge"),e.emit("progress",s)}const np=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function cb(){const n=this,{slides:e,params:t,slidesEl:r,activeIndex:s}=n,a=n.virtual&&t.virtual.enabled,u=n.grid&&t.grid&&t.grid.rows>1,d=v=>sr(r,`.${t.slideClass}${v}, swiper-slide${v}`)[0];let f,p,g;if(a)if(t.loop){let v=s-n.virtual.slidesBefore;v<0&&(v=n.virtual.slides.length+v),v>=n.virtual.slides.length&&(v-=n.virtual.slides.length),f=d(`[data-swiper-slide-index="${v}"]`)}else f=d(`[data-swiper-slide-index="${s}"]`);else u?(f=e.find(v=>v.column===s),g=e.find(v=>v.column===s+1),p=e.find(v=>v.column===s-1)):f=e[s];f&&(u||(g=Xk(f,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!g&&(g=e[0]),p=Yk(f,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!p===0&&(p=e[e.length-1]))),e.forEach(v=>{np(v,v===f,t.slideActiveClass),np(v,v===g,t.slideNextClass),np(v,v===p,t.slidePrevClass)}),n.emitSlidesClasses()}const Bc=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let s=r.querySelector(`.${n.params.lazyPreloaderClass}`);!s&&n.isElement&&(r.shadowRoot?s=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(s=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},rp=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},Dp=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),s=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const u=s,d=[u-e];d.push(...Array.from({length:e}).map((f,p)=>u+r+p)),n.slides.forEach((f,p)=>{d.includes(f.column)&&rp(n,p)});return}const a=s+r-1;if(n.params.rewind||n.params.loop)for(let u=s-e;u<=a+e;u+=1){const d=(u%t+t)%t;(d<s||d>a)&&rp(n,d)}else for(let u=Math.max(s-e,0);u<=Math.min(a+e,t-1);u+=1)u!==s&&(u>a||u<s)&&rp(n,u)};function db(n){const{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate;let s;for(let a=0;a<e.length;a+=1)typeof e[a+1]<"u"?r>=e[a]&&r<e[a+1]-(e[a+1]-e[a])/2?s=a:r>=e[a]&&r<e[a+1]&&(s=a+1):r>=e[a]&&(s=a);return t.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function fb(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:s,activeIndex:a,realIndex:u,snapIndex:d}=e;let f=n,p;const g=C=>{let S=C-e.virtual.slidesBefore;return S<0&&(S=e.virtual.slides.length+S),S>=e.virtual.slides.length&&(S-=e.virtual.slides.length),S};if(typeof f>"u"&&(f=db(e)),r.indexOf(t)>=0)p=r.indexOf(t);else{const C=Math.min(s.slidesPerGroupSkip,f);p=C+Math.floor((f-C)/s.slidesPerGroup)}if(p>=r.length&&(p=r.length-1),f===a&&!e.params.loop){p!==d&&(e.snapIndex=p,e.emit("snapIndexChange"));return}if(f===a&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=g(f);return}const v=e.grid&&s.grid&&s.grid.rows>1;let E;if(e.virtual&&s.virtual.enabled&&s.loop)E=g(f);else if(v){const C=e.slides.find(O=>O.column===f);let S=parseInt(C.getAttribute("data-swiper-slide-index"),10);Number.isNaN(S)&&(S=Math.max(e.slides.indexOf(C),0)),E=Math.floor(S/s.grid.rows)}else if(e.slides[f]){const C=e.slides[f].getAttribute("data-swiper-slide-index");C?E=parseInt(C,10):E=f}else E=f;Object.assign(e,{previousSnapIndex:d,snapIndex:p,previousRealIndex:u,realIndex:E,previousIndex:a,activeIndex:f}),e.initialized&&Dp(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(u!==E&&e.emit("realIndexChange"),e.emit("slideChange"))}function hb(n,e){const t=this,r=t.params;let s=n.closest(`.${r.slideClass}, swiper-slide`);!s&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(d=>{!s&&d.matches&&d.matches(`.${r.slideClass}, swiper-slide`)&&(s=d)});let a=!1,u;if(s){for(let d=0;d<t.slides.length;d+=1)if(t.slides[d]===s){a=!0,u=d;break}}if(s&&a)t.clickedSlide=s,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=u;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var pb={updateSize:ib,updateSlides:sb,updateAutoHeight:ob,updateSlidesOffset:ab,updateSlidesProgress:lb,updateProgress:ub,updateSlidesClasses:cb,updateActiveIndex:fb,updateClickedSlide:hb};function mb(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:r,translate:s,wrapperEl:a}=e;if(t.virtualTranslate)return r?-s:s;if(t.cssMode)return s;let u=Gk(a,n);return u+=e.cssOverflowAdjustment(),r&&(u=-u),u||0}function gb(n,e){const t=this,{rtlTranslate:r,params:s,wrapperEl:a,progress:u}=t;let d=0,f=0;const p=0;t.isHorizontal()?d=r?-n:n:f=n,s.roundLengths&&(d=Math.floor(d),f=Math.floor(f)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?d:f,s.cssMode?a[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-d:-f:s.virtualTranslate||(t.isHorizontal()?d-=t.cssOverflowAdjustment():f-=t.cssOverflowAdjustment(),a.style.transform=`translate3d(${d}px, ${f}px, ${p}px)`);let g;const v=t.maxTranslate()-t.minTranslate();v===0?g=0:g=(n-t.minTranslate())/v,g!==u&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function yb(){return-this.snapGrid[0]}function _b(){return-this.snapGrid[this.snapGrid.length-1]}function vb(n,e,t,r,s){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=!0);const a=this,{params:u,wrapperEl:d}=a;if(a.animating&&u.preventInteractionOnTransition)return!1;const f=a.minTranslate(),p=a.maxTranslate();let g;if(r&&n>f?g=f:r&&n<p?g=p:g=n,a.updateProgress(g),u.cssMode){const v=a.isHorizontal();if(e===0)d[v?"scrollLeft":"scrollTop"]=-g;else{if(!a.support.smoothScroll)return QE({swiper:a,targetPosition:-g,side:v?"left":"top"}),!0;d.scrollTo({[v?"left":"top"]:-g,behavior:"smooth"})}return!0}return e===0?(a.setTransition(0),a.setTranslate(g),t&&(a.emit("beforeTransitionStart",e,s),a.emit("transitionEnd"))):(a.setTransition(e),a.setTranslate(g),t&&(a.emit("beforeTransitionStart",e,s),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(E){!a||a.destroyed||E.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,a.animating=!1,t&&a.emit("transitionEnd"))}),a.wrapperEl.addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd))),!0}var wb={getTranslate:mb,setTranslate:gb,minTranslate:yb,maxTranslate:_b,translateTo:vb};function Eb(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function eT(n){let{swiper:e,runCallbacks:t,direction:r,step:s}=n;const{activeIndex:a,previousIndex:u}=e;let d=r;if(d||(a>u?d="next":a<u?d="prev":d="reset"),e.emit(`transition${s}`),t&&a!==u){if(d==="reset"){e.emit(`slideResetTransition${s}`);return}e.emit(`slideChangeTransition${s}`),d==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`)}}function Tb(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),eT({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function Sb(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),eT({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var Ib={setTransition:Eb,transitionStart:Tb,transitionEnd:Sb};function Cb(n,e,t,r,s){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const a=this;let u=n;u<0&&(u=0);const{params:d,snapGrid:f,slidesGrid:p,previousIndex:g,activeIndex:v,rtlTranslate:E,wrapperEl:C,enabled:S}=a;if(!S&&!r&&!s||a.destroyed||a.animating&&d.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=a.params.speed);const O=Math.min(a.params.slidesPerGroupSkip,u);let b=O+Math.floor((u-O)/a.params.slidesPerGroup);b>=f.length&&(b=f.length-1);const D=-f[b];if(d.normalizeSlideIndex)for(let M=0;M<p.length;M+=1){const I=-Math.floor(D*100),P=Math.floor(p[M]*100),L=Math.floor(p[M+1]*100);typeof p[M+1]<"u"?I>=P&&I<L-(L-P)/2?u=M:I>=P&&I<L&&(u=M+1):I>=P&&(u=M)}if(a.initialized&&u!==v&&(!a.allowSlideNext&&(E?D>a.translate&&D>a.minTranslate():D<a.translate&&D<a.minTranslate())||!a.allowSlidePrev&&D>a.translate&&D>a.maxTranslate()&&(v||0)!==u))return!1;u!==(g||0)&&t&&a.emit("beforeSlideChangeStart"),a.updateProgress(D);let R;u>v?R="next":u<v?R="prev":R="reset";const A=a.virtual&&a.params.virtual.enabled;if(!(A&&s)&&(E&&-D===a.translate||!E&&D===a.translate))return a.updateActiveIndex(u),d.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),d.effect!=="slide"&&a.setTranslate(D),R!=="reset"&&(a.transitionStart(t,R),a.transitionEnd(t,R)),!1;if(d.cssMode){const M=a.isHorizontal(),I=E?D:-D;if(e===0)A&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),A&&!a._cssModeVirtualInitialSet&&a.params.initialSlide>0?(a._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{C[M?"scrollLeft":"scrollTop"]=I})):C[M?"scrollLeft":"scrollTop"]=I,A&&requestAnimationFrame(()=>{a.wrapperEl.style.scrollSnapType="",a._immediateVirtual=!1});else{if(!a.support.smoothScroll)return QE({swiper:a,targetPosition:I,side:M?"left":"top"}),!0;C.scrollTo({[M?"left":"top"]:I,behavior:"smooth"})}return!0}const X=ZE().isSafari;return A&&!s&&X&&a.isElement&&a.virtual.update(!1,!1,u),a.setTransition(e),a.setTranslate(D),a.updateActiveIndex(u),a.updateSlidesClasses(),a.emit("beforeTransitionStart",e,r),a.transitionStart(t,R),e===0?a.transitionEnd(t,R):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(I){!a||a.destroyed||I.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(t,R))}),a.wrapperEl.addEventListener("transitionend",a.onSlideToWrapperTransitionEnd)),!0}function Pb(n,e,t,r){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);const a=s.grid&&s.params.grid&&s.params.grid.rows>1;let u=n;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)u=u+s.virtual.slidesBefore;else{let d;if(a){const E=u*s.params.grid.rows;d=s.slides.find(C=>C.getAttribute("data-swiper-slide-index")*1===E).column}else d=s.getSlideIndexByData(u);const f=a?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:p}=s.params;let g=s.params.slidesPerView;g==="auto"?g=s.slidesPerViewDynamic():(g=Math.ceil(parseFloat(s.params.slidesPerView,10)),p&&g%2===0&&(g=g+1));let v=f-d<g;if(p&&(v=v||d<Math.ceil(g/2)),r&&p&&s.params.slidesPerView!=="auto"&&!a&&(v=!1),v){const E=p?d<s.activeIndex?"prev":"next":d-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:E,slideTo:!0,activeSlideIndex:E==="next"?d+1:d-f+1,slideRealIndex:E==="next"?s.realIndex:void 0})}if(a){const E=u*s.params.grid.rows;u=s.slides.find(C=>C.getAttribute("data-swiper-slide-index")*1===E).column}else u=s.getSlideIndexByData(u)}return requestAnimationFrame(()=>{s.slideTo(u,e,t,r)}),s}function xb(n,e,t){e===void 0&&(e=!0);const r=this,{enabled:s,params:a,animating:u}=r;if(!s||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let d=a.slidesPerGroup;a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(d=Math.max(r.slidesPerViewDynamic("current",!0),1));const f=r.activeIndex<a.slidesPerGroupSkip?1:d,p=r.virtual&&a.virtual.enabled;if(a.loop){if(u&&!p&&a.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&a.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+f,n,e,t)}),!0}return a.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+f,n,e,t)}function Rb(n,e,t){e===void 0&&(e=!0);const r=this,{params:s,snapGrid:a,slidesGrid:u,rtlTranslate:d,enabled:f,animating:p}=r;if(!f||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);const g=r.virtual&&s.virtual.enabled;if(s.loop){if(p&&!g&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const v=d?r.translate:-r.translate;function E(R){return R<0?-Math.floor(Math.abs(R)):Math.floor(R)}const C=E(v),S=a.map(R=>E(R)),O=s.freeMode&&s.freeMode.enabled;let b=a[S.indexOf(C)-1];if(typeof b>"u"&&(s.cssMode||O)){let R;a.forEach((A,F)=>{C>=A&&(R=F)}),typeof R<"u"&&(b=O?a[R]:a[R>0?R-1:R])}let D=0;if(typeof b<"u"&&(D=u.indexOf(b),D<0&&(D=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(D=D-r.slidesPerViewDynamic("previous",!0)+1,D=Math.max(D,0))),s.rewind&&r.isBeginning){const R=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(R,n,e,t)}else if(s.loop&&r.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(D,n,e,t)}),!0;return r.slideTo(D,n,e,t)}function Ab(n,e,t){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof n>"u"&&(n=r.params.speed),r.slideTo(r.activeIndex,n,e,t)}function kb(n,e,t,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const s=this;if(s.destroyed)return;typeof n>"u"&&(n=s.params.speed);let a=s.activeIndex;const u=Math.min(s.params.slidesPerGroupSkip,a),d=u+Math.floor((a-u)/s.params.slidesPerGroup),f=s.rtlTranslate?s.translate:-s.translate;if(f>=s.snapGrid[d]){const p=s.snapGrid[d],g=s.snapGrid[d+1];f-p>(g-p)*r&&(a+=s.params.slidesPerGroup)}else{const p=s.snapGrid[d-1],g=s.snapGrid[d];f-p<=(g-p)*r&&(a-=s.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,s.slidesGrid.length-1),s.slideTo(a,n,e,t)}function bb(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let s=n.clickedIndex,a;const u=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;a=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s<n.loopedSlides-r/2||s>n.slides.length-n.loopedSlides+r/2?(n.loopFix(),s=n.getSlideIndex(sr(t,`${u}[data-swiper-slide-index="${a}"]`)[0]),Op(()=>{n.slideTo(s)})):n.slideTo(s):s>n.slides.length-r?(n.loopFix(),s=n.getSlideIndex(sr(t,`${u}[data-swiper-slide-index="${a}"]`)[0]),Op(()=>{n.slideTo(s)})):n.slideTo(s)}else n.slideTo(s)}var Nb={slideTo:Cb,slideToLoop:Pb,slideNext:xb,slidePrev:Rb,slideReset:Ab,slideToClosest:kb,slideToClickedSlide:bb};function Ob(n){const e=this,{params:t,slidesEl:r}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;const s=()=>{sr(r,`.${t.slideClass}, swiper-slide`).forEach((v,E)=>{v.setAttribute("data-swiper-slide-index",E)})},a=e.grid&&t.grid&&t.grid.rows>1,u=t.slidesPerGroup*(a?t.grid.rows:1),d=e.slides.length%u!==0,f=a&&e.slides.length%t.grid.rows!==0,p=g=>{for(let v=0;v<g;v+=1){const E=e.isElement?ia("swiper-slide",[t.slideBlankClass]):ia("div",[t.slideClass,t.slideBlankClass]);e.slidesEl.append(E)}};if(d){if(t.loopAddBlankSlides){const g=u-e.slides.length%u;p(g),e.recalcSlides(),e.updateSlides()}else pd("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(f){if(t.loopAddBlankSlides){const g=t.grid.rows-e.slides.length%t.grid.rows;p(g),e.recalcSlides(),e.updateSlides()}else pd("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();e.loopFix({slideRealIndex:n,direction:t.centeredSlides?void 0:"next"})}function Lb(n){let{slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:s,activeSlideIndex:a,byController:u,byMousewheel:d}=n===void 0?{}:n;const f=this;if(!f.params.loop)return;f.emit("beforeLoopFix");const{slides:p,allowSlidePrev:g,allowSlideNext:v,slidesEl:E,params:C}=f,{centeredSlides:S}=C;if(f.allowSlidePrev=!0,f.allowSlideNext=!0,f.virtual&&C.virtual.enabled){t&&(!C.centeredSlides&&f.snapIndex===0?f.slideTo(f.virtual.slides.length,0,!1,!0):C.centeredSlides&&f.snapIndex<C.slidesPerView?f.slideTo(f.virtual.slides.length+f.snapIndex,0,!1,!0):f.snapIndex===f.snapGrid.length-1&&f.slideTo(f.virtual.slidesBefore,0,!1,!0)),f.allowSlidePrev=g,f.allowSlideNext=v,f.emit("loopFix");return}let O=C.slidesPerView;O==="auto"?O=f.slidesPerViewDynamic():(O=Math.ceil(parseFloat(C.slidesPerView,10)),S&&O%2===0&&(O=O+1));const b=C.slidesPerGroupAuto?O:C.slidesPerGroup;let D=b;D%b!==0&&(D+=b-D%b),D+=C.loopAdditionalSlides,f.loopedSlides=D;const R=f.grid&&C.grid&&C.grid.rows>1;p.length<O+D?pd("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):R&&C.grid.fill==="row"&&pd("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const A=[],F=[];let H=f.activeIndex;typeof a>"u"?a=f.getSlideIndex(p.find(N=>N.classList.contains(C.slideActiveClass))):H=a;const X=r==="next"||!r,M=r==="prev"||!r;let I=0,P=0;const L=R?Math.ceil(p.length/C.grid.rows):p.length,$=(R?p[a].column:a)+(S&&typeof s>"u"?-O/2+.5:0);if($<D){I=Math.max(D-$,b);for(let N=0;N<D-$;N+=1){const ue=N-Math.floor(N/L)*L;if(R){const _e=L-ue-1;for(let ve=p.length-1;ve>=0;ve-=1)p[ve].column===_e&&A.push(ve)}else A.push(L-ue-1)}}else if($+O>L-D){P=Math.max($-(L-D*2),b);for(let N=0;N<P;N+=1){const ue=N-Math.floor(N/L)*L;R?p.forEach((_e,ve)=>{_e.column===ue&&F.push(ve)}):F.push(ue)}}if(f.__preventObserver__=!0,requestAnimationFrame(()=>{f.__preventObserver__=!1}),M&&A.forEach(N=>{p[N].swiperLoopMoveDOM=!0,E.prepend(p[N]),p[N].swiperLoopMoveDOM=!1}),X&&F.forEach(N=>{p[N].swiperLoopMoveDOM=!0,E.append(p[N]),p[N].swiperLoopMoveDOM=!1}),f.recalcSlides(),C.slidesPerView==="auto"?f.updateSlides():R&&(A.length>0&&M||F.length>0&&X)&&f.slides.forEach((N,ue)=>{f.grid.updateSlide(ue,N,f.slides)}),C.watchSlidesProgress&&f.updateSlidesOffset(),t){if(A.length>0&&M){if(typeof e>"u"){const N=f.slidesGrid[H],_e=f.slidesGrid[H+I]-N;d?f.setTranslate(f.translate-_e):(f.slideTo(H+Math.ceil(I),0,!1,!0),s&&(f.touchEventsData.startTranslate=f.touchEventsData.startTranslate-_e,f.touchEventsData.currentTranslate=f.touchEventsData.currentTranslate-_e))}else if(s){const N=R?A.length/C.grid.rows:A.length;f.slideTo(f.activeIndex+N,0,!1,!0),f.touchEventsData.currentTranslate=f.translate}}else if(F.length>0&&X)if(typeof e>"u"){const N=f.slidesGrid[H],_e=f.slidesGrid[H-P]-N;d?f.setTranslate(f.translate-_e):(f.slideTo(H-P,0,!1,!0),s&&(f.touchEventsData.startTranslate=f.touchEventsData.startTranslate-_e,f.touchEventsData.currentTranslate=f.touchEventsData.currentTranslate-_e))}else{const N=R?F.length/C.grid.rows:F.length;f.slideTo(f.activeIndex-N,0,!1,!0)}}if(f.allowSlidePrev=g,f.allowSlideNext=v,f.controller&&f.controller.control&&!u){const N={slideRealIndex:e,direction:r,setTranslate:s,activeSlideIndex:a,byController:!0};Array.isArray(f.controller.control)?f.controller.control.forEach(ue=>{!ue.destroyed&&ue.params.loop&&ue.loopFix({...N,slideTo:ue.params.slidesPerView===C.slidesPerView?t:!1})}):f.controller.control instanceof f.constructor&&f.controller.control.params.loop&&f.controller.control.loopFix({...N,slideTo:f.controller.control.params.slidesPerView===C.slidesPerView?t:!1})}f.emit("loopFix")}function Db(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const r=[];n.slides.forEach(s=>{const a=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;r[a]=s}),n.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),r.forEach(s=>{t.append(s)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var Mb={loopCreate:Ob,loopFix:Lb,loopDestroy:Db};function Vb(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function jb(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var Fb={setGrabCursor:Vb,unsetGrabCursor:jb};function $b(n,e){e===void 0&&(e=this);function t(r){if(!r||r===rs()||r===Zt())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(n);return!s&&!r.getRootNode?null:s||t(r.getRootNode().host)}return t(e)}function Sv(n,e,t){const r=Zt(),{params:s}=n,a=s.edgeSwipeDetection,u=s.edgeSwipeThreshold;return a&&(t<=u||t>=r.innerWidth-u)?a==="prevent"?(e.preventDefault(),!0):!1:!0}function Ub(n){const e=this,t=rs();let r=n;r.originalEvent&&(r=r.originalEvent);const s=e.touchEventsData;if(r.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(s.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){Sv(e,r,r.targetTouches[0].pageX);return}const{params:a,touches:u,enabled:d}=e;if(!d||!a.simulateTouch&&r.pointerType==="mouse"||e.animating&&a.preventInteractionOnTransition)return;!e.animating&&a.cssMode&&a.loop&&e.loopFix();let f=r.target;if(a.touchEventsTarget==="wrapper"&&!Qk(f,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||s.isTouched&&s.isMoved)return;const p=!!a.noSwipingClass&&a.noSwipingClass!=="",g=r.composedPath?r.composedPath():r.path;p&&r.target&&r.target.shadowRoot&&g&&(f=g[0]);const v=a.noSwipingSelector?a.noSwipingSelector:`.${a.noSwipingClass}`,E=!!(r.target&&r.target.shadowRoot);if(a.noSwiping&&(E?$b(v,f):f.closest(v))){e.allowClick=!0;return}if(a.swipeHandler&&!f.closest(a.swipeHandler))return;u.currentX=r.pageX,u.currentY=r.pageY;const C=u.currentX,S=u.currentY;if(!Sv(e,r,C))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),u.startX=C,u.startY=S,s.touchStartTime=hd(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,a.threshold>0&&(s.allowThresholdMove=!1);let O=!0;f.matches(s.focusableElements)&&(O=!1,f.nodeName==="SELECT"&&(s.isTouched=!1)),t.activeElement&&t.activeElement.matches(s.focusableElements)&&t.activeElement!==f&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!f.matches(s.focusableElements))&&t.activeElement.blur();const b=O&&e.allowTouchMove&&a.touchStartPreventDefault;(a.touchStartForcePreventDefault||b)&&!f.isContentEditable&&r.preventDefault(),a.freeMode&&a.freeMode.enabled&&e.freeMode&&e.animating&&!a.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function zb(n){const e=rs(),t=this,r=t.touchEventsData,{params:s,touches:a,rtlTranslate:u,enabled:d}=t;if(!d||!s.simulateTouch&&n.pointerType==="mouse")return;let f=n;if(f.originalEvent&&(f=f.originalEvent),f.type==="pointermove"&&(r.touchId!==null||f.pointerId!==r.pointerId))return;let p;if(f.type==="touchmove"){if(p=[...f.changedTouches].find(H=>H.identifier===r.touchId),!p||p.identifier!==r.touchId)return}else p=f;if(!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",f);return}const g=p.pageX,v=p.pageY;if(f.preventedByNestedSwiper){a.startX=g,a.startY=v;return}if(!t.allowTouchMove){f.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(a,{startX:g,startY:v,currentX:g,currentY:v}),r.touchStartTime=hd());return}if(s.touchReleaseOnEdges&&!s.loop){if(t.isVertical()){if(v<a.startY&&t.translate<=t.maxTranslate()||v>a.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(g<a.startX&&t.translate<=t.maxTranslate()||g>a.startX&&t.translate>=t.minTranslate())return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==f.target&&f.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&f.target===e.activeElement&&f.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}r.allowTouchCallbacks&&t.emit("touchMove",f),a.previousX=a.currentX,a.previousY=a.currentY,a.currentX=g,a.currentY=v;const E=a.currentX-a.startX,C=a.currentY-a.startY;if(t.params.threshold&&Math.sqrt(E**2+C**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let H;t.isHorizontal()&&a.currentY===a.startY||t.isVertical()&&a.currentX===a.startX?r.isScrolling=!1:E*E+C*C>=25&&(H=Math.atan2(Math.abs(C),Math.abs(E))*180/Math.PI,r.isScrolling=t.isHorizontal()?H>s.touchAngle:90-H>s.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",f),typeof r.startMoving>"u"&&(a.currentX!==a.startX||a.currentY!==a.startY)&&(r.startMoving=!0),r.isScrolling||f.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!s.cssMode&&f.cancelable&&f.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&f.stopPropagation();let S=t.isHorizontal()?E:C,O=t.isHorizontal()?a.currentX-a.previousX:a.currentY-a.previousY;s.oneWayMovement&&(S=Math.abs(S)*(u?1:-1),O=Math.abs(O)*(u?1:-1)),a.diff=S,S*=s.touchRatio,u&&(S=-S,O=-O);const b=t.touchesDirection;t.swipeDirection=S>0?"prev":"next",t.touchesDirection=O>0?"prev":"next";const D=t.params.loop&&!s.cssMode,R=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(D&&R&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const H=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(H)}r.allowMomentumBounce=!1,s.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",f)}if(new Date().getTime(),s._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&b!==t.touchesDirection&&D&&R&&Math.abs(S)>=1){Object.assign(a,{startX:g,startY:v,currentX:g,currentY:v,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}t.emit("sliderMove",f),r.isMoved=!0,r.currentTranslate=S+r.startTranslate;let A=!0,F=s.resistanceRatio;if(s.touchReleaseOnEdges&&(F=0),S>0?(D&&R&&r.allowThresholdMove&&r.currentTranslate>(s.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(A=!1,s.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+S)**F))):S<0&&(D&&R&&r.allowThresholdMove&&r.currentTranslate<(s.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(s.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(A=!1,s.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-S)**F))),A&&(f.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(S)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,r.currentTranslate=r.startTranslate,a.diff=t.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&t.freeMode||s.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function Bb(n){const e=this,t=e.touchEventsData;let r=n;r.originalEvent&&(r=r.originalEvent);let s;if(r.type==="touchend"||r.type==="touchcancel"){if(s=[...r.changedTouches].find(H=>H.identifier===t.touchId),!s||s.identifier!==t.touchId)return}else{if(t.touchId!==null||r.pointerId!==t.pointerId)return;s=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:u,touches:d,rtlTranslate:f,slidesGrid:p,enabled:g}=e;if(!g||!u.simulateTouch&&r.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",r),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&u.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}u.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const v=hd(),E=v-t.touchStartTime;if(e.allowClick){const H=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(H&&H[0]||r.target,H),e.emit("tap click",r),E<300&&v-t.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(t.lastClickTime=hd(),Op(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||d.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let C;if(u.followFinger?C=f?e.translate:-e.translate:C=-t.currentTranslate,u.cssMode)return;if(u.freeMode&&u.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:C});return}const S=C>=-e.maxTranslate()&&!e.params.loop;let O=0,b=e.slidesSizesGrid[0];for(let H=0;H<p.length;H+=H<u.slidesPerGroupSkip?1:u.slidesPerGroup){const X=H<u.slidesPerGroupSkip-1?1:u.slidesPerGroup;typeof p[H+X]<"u"?(S||C>=p[H]&&C<p[H+X])&&(O=H,b=p[H+X]-p[H]):(S||C>=p[H])&&(O=H,b=p[p.length-1]-p[p.length-2])}let D=null,R=null;u.rewind&&(e.isBeginning?R=u.virtual&&u.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(D=0));const A=(C-p[O])/b,F=O<u.slidesPerGroupSkip-1?1:u.slidesPerGroup;if(E>u.longSwipesMs){if(!u.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(A>=u.longSwipesRatio?e.slideTo(u.rewind&&e.isEnd?D:O+F):e.slideTo(O)),e.swipeDirection==="prev"&&(A>1-u.longSwipesRatio?e.slideTo(O+F):R!==null&&A<0&&Math.abs(A)>u.longSwipesRatio?e.slideTo(R):e.slideTo(O))}else{if(!u.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(O+F):e.slideTo(O):(e.swipeDirection==="next"&&e.slideTo(D!==null?D:O+F),e.swipeDirection==="prev"&&e.slideTo(R!==null?R:O))}}function Iv(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:a}=n,u=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const d=u&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!d?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!u?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=s,n.allowSlideNext=r,n.params.watchOverflow&&a!==n.snapGrid&&n.checkOverflow()}function Hb(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function Wb(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let s;const a=n.maxTranslate()-n.minTranslate();a===0?s=0:s=(n.translate-n.minTranslate())/a,s!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function Gb(n){const e=this;Bc(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function qb(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const tT=(n,e)=>{const t=rs(),{params:r,el:s,wrapperEl:a,device:u}=n,d=!!r.nested,f=e==="on"?"addEventListener":"removeEventListener",p=e;!s||typeof s=="string"||(t[f]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:d}),s[f]("touchstart",n.onTouchStart,{passive:!1}),s[f]("pointerdown",n.onTouchStart,{passive:!1}),t[f]("touchmove",n.onTouchMove,{passive:!1,capture:d}),t[f]("pointermove",n.onTouchMove,{passive:!1,capture:d}),t[f]("touchend",n.onTouchEnd,{passive:!0}),t[f]("pointerup",n.onTouchEnd,{passive:!0}),t[f]("pointercancel",n.onTouchEnd,{passive:!0}),t[f]("touchcancel",n.onTouchEnd,{passive:!0}),t[f]("pointerout",n.onTouchEnd,{passive:!0}),t[f]("pointerleave",n.onTouchEnd,{passive:!0}),t[f]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[f]("click",n.onClick,!0),r.cssMode&&a[f]("scroll",n.onScroll),r.updateOnWindowResize?n[p](u.ios||u.android?"resize orientationchange observerUpdate":"resize observerUpdate",Iv,!0):n[p]("observerUpdate",Iv,!0),s[f]("load",n.onLoad,{capture:!0}))};function Kb(){const n=this,{params:e}=n;n.onTouchStart=Ub.bind(n),n.onTouchMove=zb.bind(n),n.onTouchEnd=Bb.bind(n),n.onDocumentTouchStart=qb.bind(n),e.cssMode&&(n.onScroll=Wb.bind(n)),n.onClick=Hb.bind(n),n.onLoad=Gb.bind(n),tT(n,"on")}function Qb(){tT(this,"off")}var Yb={attachEvents:Kb,detachEvents:Qb};const Cv=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function Xb(){const n=this,{realIndex:e,initialized:t,params:r,el:s}=n,a=r.breakpoints;if(!a||a&&Object.keys(a).length===0)return;const u=rs(),d=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",f=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?n.el:u.querySelector(r.breakpointsBase),p=n.getBreakpoint(a,d,f);if(!p||n.currentBreakpoint===p)return;const v=(p in a?a[p]:void 0)||n.originalParams,E=Cv(n,r),C=Cv(n,v),S=n.params.grabCursor,O=v.grabCursor,b=r.enabled;E&&!C?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!E&&C&&(s.classList.add(`${r.containerModifierClass}grid`),(v.grid.fill&&v.grid.fill==="column"||!v.grid.fill&&r.grid.fill==="column")&&s.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),S&&!O?n.unsetGrabCursor():!S&&O&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(X=>{if(typeof v[X]>"u")return;const M=r[X]&&r[X].enabled,I=v[X]&&v[X].enabled;M&&!I&&n[X].disable(),!M&&I&&n[X].enable()});const D=v.direction&&v.direction!==r.direction,R=r.loop&&(v.slidesPerView!==r.slidesPerView||D),A=r.loop;D&&t&&n.changeDirection(),vn(n.params,v);const F=n.params.enabled,H=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),b&&!F?n.disable():!b&&F&&n.enable(),n.currentBreakpoint=p,n.emit("_beforeBreakpoint",v),t&&(R?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!A&&H?(n.loopCreate(e),n.updateSlides()):A&&!H&&n.loopDestroy()),n.emit("breakpoint",v)}function Jb(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let r=!1;const s=Zt(),a=e==="window"?s.innerHeight:t.clientHeight,u=Object.keys(n).map(d=>{if(typeof d=="string"&&d.indexOf("@")===0){const f=parseFloat(d.substr(1));return{value:a*f,point:d}}return{value:d,point:d}});u.sort((d,f)=>parseInt(d.value,10)-parseInt(f.value,10));for(let d=0;d<u.length;d+=1){const{point:f,value:p}=u[d];e==="window"?s.matchMedia(`(min-width: ${p}px)`).matches&&(r=f):p<=t.clientWidth&&(r=f)}return r||"max"}var Zb={setBreakpoint:Xb,getBreakpoint:Jb};function e2(n,e){const t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&t.push(e+s)}):typeof r=="string"&&t.push(e+r)}),t}function t2(){const n=this,{classNames:e,params:t,rtl:r,el:s,device:a}=n,u=e2(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:a.android},{ios:a.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...u),s.classList.add(...e),n.emitContainerClasses()}function n2(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var r2={addClasses:t2,removeClasses:n2};function i2(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const s=n.slides.length-1,a=n.slidesGrid[s]+n.slidesSizesGrid[s]+r*2;n.isLocked=n.size>a}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var s2={checkOverflow:i2},Mp={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function o2(n,e){return function(r){r===void 0&&(r={});const s=Object.keys(r)[0],a=r[s];if(typeof a!="object"||a===null){vn(e,r);return}if(n[s]===!0&&(n[s]={enabled:!0}),s==="navigation"&&n[s]&&n[s].enabled&&!n[s].prevEl&&!n[s].nextEl&&(n[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&n[s]&&n[s].enabled&&!n[s].el&&(n[s].auto=!0),!(s in n&&"enabled"in a)){vn(e,r);return}typeof n[s]=="object"&&!("enabled"in n[s])&&(n[s].enabled=!0),n[s]||(n[s]={enabled:!1}),vn(e,r)}}const ip={eventsEmitter:rb,update:pb,translate:wb,transition:Ib,slide:Nb,loop:Mb,grabCursor:Fb,events:Yb,breakpoints:Zb,checkOverflow:s2,classes:r2},sp={};let Am=class Yr{constructor(){let e,t;for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?t=s[0]:[e,t]=s,t||(t={}),t=vn({},t),e&&!t.el&&(t.el=e);const u=rs();if(t.el&&typeof t.el=="string"&&u.querySelectorAll(t.el).length>1){const g=[];return u.querySelectorAll(t.el).forEach(v=>{const E=vn({},t,{el:v});g.push(new Yr(E))}),g}const d=this;d.__swiper__=!0,d.support=XE(),d.device=JE({userAgent:t.userAgent}),d.browser=ZE(),d.eventsListeners={},d.eventsAnyListeners=[],d.modules=[...d.__modules__],t.modules&&Array.isArray(t.modules)&&d.modules.push(...t.modules);const f={};d.modules.forEach(g=>{g({params:t,swiper:d,extendParams:o2(t,f),on:d.on.bind(d),once:d.once.bind(d),off:d.off.bind(d),emit:d.emit.bind(d)})});const p=vn({},Mp,f);return d.params=vn({},p,sp,t),d.originalParams=vn({},d.params),d.passedParams=vn({},t),d.params&&d.params.on&&Object.keys(d.params.on).forEach(g=>{d.on(g,d.params.on[g])}),d.params&&d.params.onAny&&d.onAny(d.params.onAny),Object.assign(d,{enabled:d.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return d.params.direction==="horizontal"},isVertical(){return d.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:d.params.allowSlideNext,allowSlidePrev:d.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:d.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:d.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),d.emit("_swiper"),d.params.init&&d.init(),d}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:r}=this,s=sr(t,`.${r.slideClass}, swiper-slide`),a=md(s[0]);return md(e)-a}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:t,params:r}=e;e.slides=sr(t,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),u=(r.maxTranslate()-s)*e+s;r.translateTo(u,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const s=e.getSlideClasses(r);t.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const r=this,{params:s,slides:a,slidesGrid:u,slidesSizesGrid:d,size:f,activeIndex:p}=r;let g=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let v=a[p]?Math.ceil(a[p].swiperSlideSize):0,E;for(let C=p+1;C<a.length;C+=1)a[C]&&!E&&(v+=Math.ceil(a[C].swiperSlideSize),g+=1,v>f&&(E=!0));for(let C=p-1;C>=0;C-=1)a[C]&&!E&&(v+=a[C].swiperSlideSize,g+=1,v>f&&(E=!0))}else if(e==="current")for(let v=p+1;v<a.length;v+=1)(t?u[v]+d[v]-u[p]<f:u[v]-u[p]<f)&&(g+=1);else for(let v=p-1;v>=0;v-=1)u[p]-u[v]<f&&(g+=1);return g}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(u=>{u.complete&&Bc(e,u)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const u=e.rtlTranslate?e.translate*-1:e.translate,d=Math.min(Math.max(u,e.maxTranslate()),e.minTranslate());e.setTranslate(d),e.updateActiveIndex(),e.updateSlidesClasses()}let a;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)s(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const u=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;a=e.slideTo(u.length-1,0,!1,!0)}else a=e.slideTo(e.activeIndex,0,!1,!0);a||s()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(a=>{e==="vertical"?a.style.width="":a.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const s=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let u=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(s()):sr(r,s())[0];return!u&&t.params.createElements&&(u=ia("div",t.params.wrapperClass),r.append(u),sr(r,`.${t.params.slideClass}`).forEach(d=>{u.append(d)})),Object.assign(t,{el:r,wrapperEl:u,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:u,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||zi(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||zi(r,"direction")==="rtl"),wrongRTL:zi(u,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();const s=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&s.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(a=>{a.complete?Bc(t,a):a.addEventListener("load",u=>{Bc(t,u.target)})}),Dp(t),t.initialized=!0,Dp(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const r=this,{params:s,el:a,wrapperEl:u,slides:d}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),t&&(r.removeClasses(),a&&typeof a!="string"&&a.removeAttribute("style"),u&&u.removeAttribute("style"),d&&d.length&&d.forEach(f=>{f.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),f.removeAttribute("style"),f.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(f=>{r.off(f)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),Hk(r)),r.destroyed=!0),null}static extendDefaults(e){vn(sp,e)}static get extendedDefaults(){return sp}static get defaults(){return Mp}static installModule(e){Yr.prototype.__modules__||(Yr.prototype.__modules__=[]);const t=Yr.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>Yr.installModule(t)),Yr):(Yr.installModule(e),Yr)}};Object.keys(ip).forEach(n=>{Object.keys(ip[n]).forEach(e=>{Am.prototype[e]=ip[n][e]})});Am.use([tb,nb]);const nT=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function zs(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function Xo(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:zs(e[r])&&zs(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:Xo(n[r],e[r]):n[r]=e[r]})}function rT(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function iT(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function sT(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function oT(n){n===void 0&&(n="");const e=n.split(" ").map(r=>r.trim()).filter(r=>!!r),t=[];return e.forEach(r=>{t.indexOf(r)<0&&t.push(r)}),t.join(" ")}function a2(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function l2(n){let{swiper:e,slides:t,passedParams:r,changedParams:s,nextEl:a,prevEl:u,scrollbarEl:d,paginationEl:f}=n;const p=s.filter(P=>P!=="children"&&P!=="direction"&&P!=="wrapperClass"),{params:g,pagination:v,navigation:E,scrollbar:C,virtual:S,thumbs:O}=e;let b,D,R,A,F,H,X,M;s.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&g.thumbs&&(!g.thumbs.swiper||g.thumbs.swiper.destroyed)&&(b=!0),s.includes("controller")&&r.controller&&r.controller.control&&g.controller&&!g.controller.control&&(D=!0),s.includes("pagination")&&r.pagination&&(r.pagination.el||f)&&(g.pagination||g.pagination===!1)&&v&&!v.el&&(R=!0),s.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||d)&&(g.scrollbar||g.scrollbar===!1)&&C&&!C.el&&(A=!0),s.includes("navigation")&&r.navigation&&(r.navigation.prevEl||u)&&(r.navigation.nextEl||a)&&(g.navigation||g.navigation===!1)&&E&&!E.prevEl&&!E.nextEl&&(F=!0);const I=P=>{e[P]&&(e[P].destroy(),P==="navigation"?(e.isElement&&(e[P].prevEl.remove(),e[P].nextEl.remove()),g[P].prevEl=void 0,g[P].nextEl=void 0,e[P].prevEl=void 0,e[P].nextEl=void 0):(e.isElement&&e[P].el.remove(),g[P].el=void 0,e[P].el=void 0))};s.includes("loop")&&e.isElement&&(g.loop&&!r.loop?H=!0:!g.loop&&r.loop?X=!0:M=!0),p.forEach(P=>{if(zs(g[P])&&zs(r[P]))Object.assign(g[P],r[P]),(P==="navigation"||P==="pagination"||P==="scrollbar")&&"enabled"in r[P]&&!r[P].enabled&&I(P);else{const L=r[P];(L===!0||L===!1)&&(P==="navigation"||P==="pagination"||P==="scrollbar")?L===!1&&I(P):g[P]=r[P]}}),p.includes("controller")&&!D&&e.controller&&e.controller.control&&g.controller&&g.controller.control&&(e.controller.control=g.controller.control),s.includes("children")&&t&&S&&g.virtual.enabled?(S.slides=t,S.update(!0)):s.includes("virtual")&&S&&g.virtual.enabled&&(t&&(S.slides=t),S.update(!0)),s.includes("children")&&t&&g.loop&&(M=!0),b&&O.init()&&O.update(!0),D&&(e.controller.control=g.controller.control),R&&(e.isElement&&(!f||typeof f=="string")&&(f=document.createElement("div"),f.classList.add("swiper-pagination"),f.part.add("pagination"),e.el.appendChild(f)),f&&(g.pagination.el=f),v.init(),v.render(),v.update()),A&&(e.isElement&&(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-scrollbar"),d.part.add("scrollbar"),e.el.appendChild(d)),d&&(g.scrollbar.el=d),C.init(),C.updateSize(),C.setTranslate()),F&&(e.isElement&&((!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-next"),a.innerHTML=e.hostEl.constructor.nextButtonSvg,a.part.add("button-next"),e.el.appendChild(a)),(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-button-prev"),u.innerHTML=e.hostEl.constructor.prevButtonSvg,u.part.add("button-prev"),e.el.appendChild(u))),a&&(g.navigation.nextEl=a),u&&(g.navigation.prevEl=u),E.init(),E.update()),s.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),s.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),s.includes("direction")&&e.changeDirection(r.direction,!1),(H||M)&&e.loopDestroy(),(X||M)&&e.loopCreate(),e.update()}function u2(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},r={},s={};Xo(t,Mp),t._emitClasses=!0,t.init=!1;const a={},u=nT.map(f=>f.replace(/_/,"")),d=Object.assign({},n);return Object.keys(d).forEach(f=>{typeof n[f]>"u"||(u.indexOf(f)>=0?zs(n[f])?(t[f]={},s[f]={},Xo(t[f],n[f]),Xo(s[f],n[f])):(t[f]=n[f],s[f]=n[f]):f.search(/on[A-Z]/)===0&&typeof n[f]=="function"?e?r[`${f[2].toLowerCase()}${f.substr(3)}`]=n[f]:t.on[`${f[2].toLowerCase()}${f.substr(3)}`]=n[f]:a[f]=n[f])}),["navigation","pagination","scrollbar"].forEach(f=>{t[f]===!0&&(t[f]={}),t[f]===!1&&delete t[f]}),{params:t,passedParams:s,rest:a,events:r}}function c2(n,e){let{el:t,nextEl:r,prevEl:s,paginationEl:a,scrollbarEl:u,swiper:d}=n;rT(e)&&r&&s&&(d.params.navigation.nextEl=r,d.originalParams.navigation.nextEl=r,d.params.navigation.prevEl=s,d.originalParams.navigation.prevEl=s),iT(e)&&a&&(d.params.pagination.el=a,d.originalParams.pagination.el=a),sT(e)&&u&&(d.params.scrollbar.el=u,d.originalParams.scrollbar.el=u),d.init(t)}function d2(n,e,t,r,s){const a=[];if(!e)return a;const u=f=>{a.indexOf(f)<0&&a.push(f)};if(t&&r){const f=r.map(s),p=t.map(s);f.join("")!==p.join("")&&u("children"),r.length!==t.length&&u("children")}return nT.filter(f=>f[0]==="_").map(f=>f.replace(/_/,"")).forEach(f=>{if(f in n&&f in e)if(zs(n[f])&&zs(e[f])){const p=Object.keys(n[f]),g=Object.keys(e[f]);p.length!==g.length?u(f):(p.forEach(v=>{n[f][v]!==e[f][v]&&u(f)}),g.forEach(v=>{n[f][v]!==e[f][v]&&u(f)}))}else n[f]!==e[f]&&u(f)}),a}const f2=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function gd(){return gd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},gd.apply(this,arguments)}function aT(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function lT(n){const e=[];return Be.Children.toArray(n).forEach(t=>{aT(t)?e.push(t):t.props&&t.props.children&&lT(t.props.children).forEach(r=>e.push(r))}),e}function h2(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Be.Children.toArray(n).forEach(r=>{if(aT(r))e.push(r);else if(r.props&&r.props.slot&&t[r.props.slot])t[r.props.slot].push(r);else if(r.props&&r.props.children){const s=lT(r.props.children);s.length>0?s.forEach(a=>e.push(a)):t["container-end"].push(r)}else t["container-end"].push(r)}),{slides:e,slots:t}}function p2(n,e,t){if(!t)return null;const r=g=>{let v=g;return g<0?v=e.length+g:v>=e.length&&(v=v-e.length),v},s=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:a,to:u}=t,d=n.params.loop?-e.length:0,f=n.params.loop?e.length*2:e.length,p=[];for(let g=d;g<f;g+=1)g>=a&&g<=u&&p.push(e[r(g)]);return p.map((g,v)=>Be.cloneElement(g,{swiper:n,style:s,key:g.props.virtualIndex||g.key||`slide-${v}`}))}function Dl(n,e){return typeof window>"u"?z.useEffect(n,e):z.useLayoutEffect(n,e)}const Pv=z.createContext(null),m2=z.createContext(null),km=z.forwardRef(function(n,e){let{className:t,tag:r="div",wrapperTag:s="div",children:a,onSwiper:u,...d}=n===void 0?{}:n,f=!1;const[p,g]=z.useState("swiper"),[v,E]=z.useState(null),[C,S]=z.useState(!1),O=z.useRef(!1),b=z.useRef(null),D=z.useRef(null),R=z.useRef(null),A=z.useRef(null),F=z.useRef(null),H=z.useRef(null),X=z.useRef(null),M=z.useRef(null),{params:I,passedParams:P,rest:L,events:V}=u2(d),{slides:$,slots:N}=h2(a),ue=()=>{S(!C)};Object.assign(I.on,{_containerClasses(le,oe){g(oe)}});const _e=()=>{Object.assign(I.on,V),f=!0;const le={...I};if(delete le.wrapperClass,D.current=new Am(le),D.current.virtual&&D.current.params.virtual.enabled){D.current.virtual.slides=$;const oe={cache:!1,slides:$,renderExternal:E,renderExternalUpdate:!1};Xo(D.current.params.virtual,oe),Xo(D.current.originalParams.virtual,oe)}};b.current||_e(),D.current&&D.current.on("_beforeBreakpoint",ue);const ve=()=>{f||!V||!D.current||Object.keys(V).forEach(le=>{D.current.on(le,V[le])})},Pe=()=>{!V||!D.current||Object.keys(V).forEach(le=>{D.current.off(le,V[le])})};z.useEffect(()=>()=>{D.current&&D.current.off("_beforeBreakpoint",ue)}),z.useEffect(()=>{!O.current&&D.current&&(D.current.emitSlidesClasses(),O.current=!0)}),Dl(()=>{if(e&&(e.current=b.current),!!b.current)return D.current.destroyed&&_e(),c2({el:b.current,nextEl:F.current,prevEl:H.current,paginationEl:X.current,scrollbarEl:M.current,swiper:D.current},I),u&&!D.current.destroyed&&u(D.current),()=>{D.current&&!D.current.destroyed&&D.current.destroy(!0,!1)}},[]),Dl(()=>{ve();const le=d2(P,R.current,$,A.current,oe=>oe.key);return R.current=P,A.current=$,le.length&&D.current&&!D.current.destroyed&&l2({swiper:D.current,slides:$,passedParams:P,changedParams:le,nextEl:F.current,prevEl:H.current,scrollbarEl:M.current,paginationEl:X.current}),()=>{Pe()}}),Dl(()=>{f2(D.current)},[v]);function re(){return I.virtual?p2(D.current,$,v):$.map((le,oe)=>Be.cloneElement(le,{swiper:D.current,swiperSlideIndex:oe}))}return Be.createElement(r,gd({ref:b,className:oT(`${p}${t?` ${t}`:""}`)},L),Be.createElement(m2.Provider,{value:D.current},N["container-start"],Be.createElement(s,{className:a2(I.wrapperClass)},N["wrapper-start"],re(),N["wrapper-end"]),rT(I)&&Be.createElement(Be.Fragment,null,Be.createElement("div",{ref:H,className:"swiper-button-prev"}),Be.createElement("div",{ref:F,className:"swiper-button-next"})),sT(I)&&Be.createElement("div",{ref:M,className:"swiper-scrollbar"}),iT(I)&&Be.createElement("div",{ref:X,className:"swiper-pagination"}),N["container-end"]))});km.displayName="Swiper";const bm=z.forwardRef(function(n,e){let{tag:t="div",children:r,className:s="",swiper:a,zoom:u,lazy:d,virtualIndex:f,swiperSlideIndex:p,...g}=n===void 0?{}:n;const v=z.useRef(null),[E,C]=z.useState("swiper-slide"),[S,O]=z.useState(!1);function b(F,H,X){H===v.current&&C(X)}Dl(()=>{if(typeof p<"u"&&(v.current.swiperSlideIndex=p),e&&(e.current=v.current),!(!v.current||!a)){if(a.destroyed){E!=="swiper-slide"&&C("swiper-slide");return}return a.on("_slideClass",b),()=>{a&&a.off("_slideClass",b)}}}),Dl(()=>{a&&v.current&&!a.destroyed&&C(a.getSlideClasses(v.current))},[a]);const D={isActive:E.indexOf("swiper-slide-active")>=0,isVisible:E.indexOf("swiper-slide-visible")>=0,isPrev:E.indexOf("swiper-slide-prev")>=0,isNext:E.indexOf("swiper-slide-next")>=0},R=()=>typeof r=="function"?r(D):r,A=()=>{O(!0)};return Be.createElement(t,gd({ref:v,className:oT(`${E}${s?` ${s}`:""}`),"data-swiper-slide-index":f,onLoad:A},g),u&&Be.createElement(Pv.Provider,{value:D},Be.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof u=="number"?u:void 0},R(),d&&!S&&Be.createElement("div",{className:"swiper-lazy-preloader"}))),!u&&Be.createElement(Pv.Provider,{value:D},R(),d&&!S&&Be.createElement("div",{className:"swiper-lazy-preloader"})))});bm.displayName="SwiperSlide";function uT(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;t({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});let a;const u=rs();e.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};const d=u.createElement("div");function f(S,O){const b=e.params.virtual;if(b.cache&&e.virtual.cache[O])return e.virtual.cache[O];let D;return b.renderSlide?(D=b.renderSlide.call(e,S,O),typeof D=="string"&&(d.innerHTML=D,D=d.children[0])):e.isElement?D=ia("swiper-slide"):D=ia("div",e.params.slideClass),D.setAttribute("data-swiper-slide-index",O),b.renderSlide||(D.innerHTML=S),b.cache&&(e.virtual.cache[O]=D),D}function p(S,O,b){const{slidesPerView:D,slidesPerGroup:R,centeredSlides:A,loop:F,initialSlide:H}=e.params;if(O&&!F&&H>0)return;const{addSlidesBefore:X,addSlidesAfter:M}=e.params.virtual,{from:I,to:P,slides:L,slidesGrid:V,offset:$}=e.virtual;e.params.cssMode||e.updateActiveIndex();const N=typeof b>"u"?e.activeIndex||0:b;let ue;e.rtlTranslate?ue="right":ue=e.isHorizontal()?"left":"top";let _e,ve;A?(_e=Math.floor(D/2)+R+M,ve=Math.floor(D/2)+R+X):(_e=D+(R-1)+M,ve=(F?D:R)+X);let Pe=N-ve,re=N+_e;F||(Pe=Math.max(Pe,0),re=Math.min(re,L.length-1));let le=(e.slidesGrid[Pe]||0)-(e.slidesGrid[0]||0);F&&N>=ve?(Pe-=ve,A||(le+=e.slidesGrid[0])):F&&N<ve&&(Pe=-ve,A&&(le+=e.slidesGrid[0])),Object.assign(e.virtual,{from:Pe,to:re,offset:le,slidesGrid:e.slidesGrid,slidesBefore:ve,slidesAfter:_e});function oe(){e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),s("virtualUpdate")}if(I===Pe&&P===re&&!S){e.slidesGrid!==V&&le!==$&&e.slides.forEach(ce=>{ce.style[ue]=`${le-Math.abs(e.cssOverflowAdjustment())}px`}),e.updateProgress(),s("virtualUpdate");return}if(e.params.virtual.renderExternal){e.params.virtual.renderExternal.call(e,{offset:le,from:Pe,to:re,slides:function(){const we=[];for(let Oe=Pe;Oe<=re;Oe+=1)we.push(L[Oe]);return we}()}),e.params.virtual.renderExternalUpdate?oe():s("virtualUpdate");return}const W=[],J=[],ge=ce=>{let we=ce;return ce<0?we=L.length+ce:we>=L.length&&(we=we-L.length),we};if(S)e.slides.filter(ce=>ce.matches(`.${e.params.slideClass}, swiper-slide`)).forEach(ce=>{ce.remove()});else for(let ce=I;ce<=P;ce+=1)if(ce<Pe||ce>re){const we=ge(ce);e.slides.filter(Oe=>Oe.matches(`.${e.params.slideClass}[data-swiper-slide-index="${we}"], swiper-slide[data-swiper-slide-index="${we}"]`)).forEach(Oe=>{Oe.remove()})}const be=F?-L.length:0,Ne=F?L.length*2:L.length;for(let ce=be;ce<Ne;ce+=1)if(ce>=Pe&&ce<=re){const we=ge(ce);typeof P>"u"||S?J.push(we):(ce>P&&J.push(we),ce<I&&W.push(we))}if(J.forEach(ce=>{e.slidesEl.append(f(L[ce],ce))}),F)for(let ce=W.length-1;ce>=0;ce-=1){const we=W[ce];e.slidesEl.prepend(f(L[we],we))}else W.sort((ce,we)=>we-ce),W.forEach(ce=>{e.slidesEl.prepend(f(L[ce],ce))});sr(e.slidesEl,".swiper-slide, swiper-slide").forEach(ce=>{ce.style[ue]=`${le-Math.abs(e.cssOverflowAdjustment())}px`}),oe()}function g(S){if(typeof S=="object"&&"length"in S)for(let O=0;O<S.length;O+=1)S[O]&&e.virtual.slides.push(S[O]);else e.virtual.slides.push(S);p(!0)}function v(S){const O=e.activeIndex;let b=O+1,D=1;if(Array.isArray(S)){for(let R=0;R<S.length;R+=1)S[R]&&e.virtual.slides.unshift(S[R]);b=O+S.length,D=S.length}else e.virtual.slides.unshift(S);if(e.params.virtual.cache){const R=e.virtual.cache,A={};Object.keys(R).forEach(F=>{const H=R[F],X=H.getAttribute("data-swiper-slide-index");X&&H.setAttribute("data-swiper-slide-index",parseInt(X,10)+D),A[parseInt(F,10)+D]=H}),e.virtual.cache=A}p(!0),e.slideTo(b,0)}function E(S){if(typeof S>"u"||S===null)return;let O=e.activeIndex;if(Array.isArray(S))for(let b=S.length-1;b>=0;b-=1)e.params.virtual.cache&&(delete e.virtual.cache[S[b]],Object.keys(e.virtual.cache).forEach(D=>{D>S&&(e.virtual.cache[D-1]=e.virtual.cache[D],e.virtual.cache[D-1].setAttribute("data-swiper-slide-index",D-1),delete e.virtual.cache[D])})),e.virtual.slides.splice(S[b],1),S[b]<O&&(O-=1),O=Math.max(O,0);else e.params.virtual.cache&&(delete e.virtual.cache[S],Object.keys(e.virtual.cache).forEach(b=>{b>S&&(e.virtual.cache[b-1]=e.virtual.cache[b],e.virtual.cache[b-1].setAttribute("data-swiper-slide-index",b-1),delete e.virtual.cache[b])})),e.virtual.slides.splice(S,1),S<O&&(O-=1),O=Math.max(O,0);p(!0),e.slideTo(O,0)}function C(){e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),p(!0),e.slideTo(0,0)}r("beforeInit",()=>{if(!e.params.virtual.enabled)return;let S;if(typeof e.passedParams.virtual.slides>"u"){const O=[...e.slidesEl.children].filter(b=>b.matches(`.${e.params.slideClass}, swiper-slide`));O.length&&(e.virtual.slides=[...O],S=!0,O.forEach((b,D)=>{b.setAttribute("data-swiper-slide-index",D),e.virtual.cache[D]=b,b.remove()}))}S||(e.virtual.slides=e.params.virtual.slides),e.classNames.push(`${e.params.containerModifierClass}virtual`),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0,p(!1,!0)}),r("setTranslate",()=>{e.params.virtual.enabled&&(e.params.cssMode&&!e._immediateVirtual?(clearTimeout(a),a=setTimeout(()=>{p()},100)):p())}),r("init update resize",()=>{e.params.virtual.enabled&&e.params.cssMode&&Al(e.wrapperEl,"--swiper-virtual-size",`${e.virtualSize}px`)}),Object.assign(e.virtual,{appendSlide:g,prependSlide:v,removeSlide:E,removeAllSlides:C,update:p})}function cT(n,e,t,r){return n.params.createElements&&Object.keys(r).forEach(s=>{if(!t[s]&&t.auto===!0){let a=sr(n.el,`.${r[s]}`)[0];a||(a=ia("div",r[s]),a.className=r[s],n.el.append(a)),t[s]=a,e[s]=a}}),t}function dT(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function a(S){let O;return S&&typeof S=="string"&&e.isElement&&(O=e.el.querySelector(S)||e.hostEl.querySelector(S),O)?O:(S&&(typeof S=="string"&&(O=[...document.querySelectorAll(S)]),e.params.uniqueNavElements&&typeof S=="string"&&O&&O.length>1&&e.el.querySelectorAll(S).length===1?O=e.el.querySelector(S):O&&O.length===1&&(O=O[0])),S&&!O?S:O)}function u(S,O){const b=e.params.navigation;S=At(S),S.forEach(D=>{D&&(D.classList[O?"add":"remove"](...b.disabledClass.split(" ")),D.tagName==="BUTTON"&&(D.disabled=O),e.params.watchOverflow&&e.enabled&&D.classList[e.isLocked?"add":"remove"](b.lockClass))})}function d(){const{nextEl:S,prevEl:O}=e.navigation;if(e.params.loop){u(O,!1),u(S,!1);return}u(O,e.isBeginning&&!e.params.rewind),u(S,e.isEnd&&!e.params.rewind)}function f(S){S.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),s("navigationPrev"))}function p(S){S.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),s("navigationNext"))}function g(){const S=e.params.navigation;if(e.params.navigation=cT(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(S.nextEl||S.prevEl))return;let O=a(S.nextEl),b=a(S.prevEl);Object.assign(e.navigation,{nextEl:O,prevEl:b}),O=At(O),b=At(b);const D=(R,A)=>{R&&R.addEventListener("click",A==="next"?p:f),!e.enabled&&R&&R.classList.add(...S.lockClass.split(" "))};O.forEach(R=>D(R,"next")),b.forEach(R=>D(R,"prev"))}function v(){let{nextEl:S,prevEl:O}=e.navigation;S=At(S),O=At(O);const b=(D,R)=>{D.removeEventListener("click",R==="next"?p:f),D.classList.remove(...e.params.navigation.disabledClass.split(" "))};S.forEach(D=>b(D,"next")),O.forEach(D=>b(D,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?C():(g(),d())}),r("toEdge fromEdge lock unlock",()=>{d()}),r("destroy",()=>{v()}),r("enable disable",()=>{let{nextEl:S,prevEl:O}=e.navigation;if(S=At(S),O=At(O),e.enabled){d();return}[...S,...O].filter(b=>!!b).forEach(b=>b.classList.add(e.params.navigation.lockClass))}),r("click",(S,O)=>{let{nextEl:b,prevEl:D}=e.navigation;b=At(b),D=At(D);const R=O.target;let A=D.includes(R)||b.includes(R);if(e.isElement&&!A){const F=O.path||O.composedPath&&O.composedPath();F&&(A=F.find(H=>b.includes(H)||D.includes(H)))}if(e.params.navigation.hideOnClick&&!A){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===R||e.pagination.el.contains(R)))return;let F;b.length?F=b[0].classList.contains(e.params.navigation.hiddenClass):D.length&&(F=D[0].classList.contains(e.params.navigation.hiddenClass)),s(F===!0?"navigationShow":"navigationHide"),[...b,...D].filter(H=>!!H).forEach(H=>H.classList.toggle(e.params.navigation.hiddenClass))}});const E=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),g(),d()},C=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),v()};Object.assign(e.navigation,{enable:E,disable:C,update:d,init:g,destroy:v})}function Tl(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function fT(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;const a="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:R=>R,formatFractionTotal:R=>R,bulletClass:`${a}-bullet`,bulletActiveClass:`${a}-bullet-active`,modifierClass:`${a}-`,currentClass:`${a}-current`,totalClass:`${a}-total`,hiddenClass:`${a}-hidden`,progressbarFillClass:`${a}-progressbar-fill`,progressbarOppositeClass:`${a}-progressbar-opposite`,clickableClass:`${a}-clickable`,lockClass:`${a}-lock`,horizontalClass:`${a}-horizontal`,verticalClass:`${a}-vertical`,paginationDisabledClass:`${a}-disabled`}}),e.pagination={el:null,bullets:[]};let u,d=0;function f(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function p(R,A){const{bulletActiveClass:F}=e.params.pagination;R&&(R=R[`${A==="prev"?"previous":"next"}ElementSibling`],R&&(R.classList.add(`${F}-${A}`),R=R[`${A==="prev"?"previous":"next"}ElementSibling`],R&&R.classList.add(`${F}-${A}-${A}`)))}function g(R,A,F){if(R=R%F,A=A%F,A===R+1)return"next";if(A===R-1)return"previous"}function v(R){const A=R.target.closest(Tl(e.params.pagination.bulletClass));if(!A)return;R.preventDefault();const F=md(A)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===F)return;const H=g(e.realIndex,F,e.slides.length);H==="next"?e.slideNext():H==="previous"?e.slidePrev():e.slideToLoop(F)}else e.slideTo(F)}function E(){const R=e.rtl,A=e.params.pagination;if(f())return;let F=e.pagination.el;F=At(F);let H,X;const M=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,I=e.params.loop?Math.ceil(M/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(X=e.previousRealIndex||0,H=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(H=e.snapIndex,X=e.previousSnapIndex):(X=e.previousIndex||0,H=e.activeIndex||0),A.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const P=e.pagination.bullets;let L,V,$;if(A.dynamicBullets&&(u=Lp(P[0],e.isHorizontal()?"width":"height"),F.forEach(N=>{N.style[e.isHorizontal()?"width":"height"]=`${u*(A.dynamicMainBullets+4)}px`}),A.dynamicMainBullets>1&&X!==void 0&&(d+=H-(X||0),d>A.dynamicMainBullets-1?d=A.dynamicMainBullets-1:d<0&&(d=0)),L=Math.max(H-d,0),V=L+(Math.min(P.length,A.dynamicMainBullets)-1),$=(V+L)/2),P.forEach(N=>{const ue=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(_e=>`${A.bulletActiveClass}${_e}`)].map(_e=>typeof _e=="string"&&_e.includes(" ")?_e.split(" "):_e).flat();N.classList.remove(...ue)}),F.length>1)P.forEach(N=>{const ue=md(N);ue===H?N.classList.add(...A.bulletActiveClass.split(" ")):e.isElement&&N.setAttribute("part","bullet"),A.dynamicBullets&&(ue>=L&&ue<=V&&N.classList.add(...`${A.bulletActiveClass}-main`.split(" ")),ue===L&&p(N,"prev"),ue===V&&p(N,"next"))});else{const N=P[H];if(N&&N.classList.add(...A.bulletActiveClass.split(" ")),e.isElement&&P.forEach((ue,_e)=>{ue.setAttribute("part",_e===H?"bullet-active":"bullet")}),A.dynamicBullets){const ue=P[L],_e=P[V];for(let ve=L;ve<=V;ve+=1)P[ve]&&P[ve].classList.add(...`${A.bulletActiveClass}-main`.split(" "));p(ue,"prev"),p(_e,"next")}}if(A.dynamicBullets){const N=Math.min(P.length,A.dynamicMainBullets+4),ue=(u*N-u)/2-$*u,_e=R?"right":"left";P.forEach(ve=>{ve.style[e.isHorizontal()?_e:"top"]=`${ue}px`})}}F.forEach((P,L)=>{if(A.type==="fraction"&&(P.querySelectorAll(Tl(A.currentClass)).forEach(V=>{V.textContent=A.formatFractionCurrent(H+1)}),P.querySelectorAll(Tl(A.totalClass)).forEach(V=>{V.textContent=A.formatFractionTotal(I)})),A.type==="progressbar"){let V;A.progressbarOpposite?V=e.isHorizontal()?"vertical":"horizontal":V=e.isHorizontal()?"horizontal":"vertical";const $=(H+1)/I;let N=1,ue=1;V==="horizontal"?N=$:ue=$,P.querySelectorAll(Tl(A.progressbarFillClass)).forEach(_e=>{_e.style.transform=`translate3d(0,0,0) scaleX(${N}) scaleY(${ue})`,_e.style.transitionDuration=`${e.params.speed}ms`})}A.type==="custom"&&A.renderCustom?(P.innerHTML=A.renderCustom(e,H+1,I),L===0&&s("paginationRender",P)):(L===0&&s("paginationRender",P),s("paginationUpdate",P)),e.params.watchOverflow&&e.enabled&&P.classList[e.isLocked?"add":"remove"](A.lockClass)})}function C(){const R=e.params.pagination;if(f())return;const A=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let F=e.pagination.el;F=At(F);let H="";if(R.type==="bullets"){let X=e.params.loop?Math.ceil(A/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&X>A&&(X=A);for(let M=0;M<X;M+=1)R.renderBullet?H+=R.renderBullet.call(e,M,R.bulletClass):H+=`<${R.bulletElement} ${e.isElement?'part="bullet"':""} class="${R.bulletClass}"></${R.bulletElement}>`}R.type==="fraction"&&(R.renderFraction?H=R.renderFraction.call(e,R.currentClass,R.totalClass):H=`<span class="${R.currentClass}"></span> / <span class="${R.totalClass}"></span>`),R.type==="progressbar"&&(R.renderProgressbar?H=R.renderProgressbar.call(e,R.progressbarFillClass):H=`<span class="${R.progressbarFillClass}"></span>`),e.pagination.bullets=[],F.forEach(X=>{R.type!=="custom"&&(X.innerHTML=H||""),R.type==="bullets"&&e.pagination.bullets.push(...X.querySelectorAll(Tl(R.bulletClass)))}),R.type!=="custom"&&s("paginationRender",F[0])}function S(){e.params.pagination=cT(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const R=e.params.pagination;if(!R.el)return;let A;typeof R.el=="string"&&e.isElement&&(A=e.el.querySelector(R.el)),!A&&typeof R.el=="string"&&(A=[...document.querySelectorAll(R.el)]),A||(A=R.el),!(!A||A.length===0)&&(e.params.uniqueNavElements&&typeof R.el=="string"&&Array.isArray(A)&&A.length>1&&(A=[...e.el.querySelectorAll(R.el)],A.length>1&&(A=A.find(F=>YE(F,".swiper")[0]===e.el))),Array.isArray(A)&&A.length===1&&(A=A[0]),Object.assign(e.pagination,{el:A}),A=At(A),A.forEach(F=>{R.type==="bullets"&&R.clickable&&F.classList.add(...(R.clickableClass||"").split(" ")),F.classList.add(R.modifierClass+R.type),F.classList.add(e.isHorizontal()?R.horizontalClass:R.verticalClass),R.type==="bullets"&&R.dynamicBullets&&(F.classList.add(`${R.modifierClass}${R.type}-dynamic`),d=0,R.dynamicMainBullets<1&&(R.dynamicMainBullets=1)),R.type==="progressbar"&&R.progressbarOpposite&&F.classList.add(R.progressbarOppositeClass),R.clickable&&F.addEventListener("click",v),e.enabled||F.classList.add(R.lockClass)}))}function O(){const R=e.params.pagination;if(f())return;let A=e.pagination.el;A&&(A=At(A),A.forEach(F=>{F.classList.remove(R.hiddenClass),F.classList.remove(R.modifierClass+R.type),F.classList.remove(e.isHorizontal()?R.horizontalClass:R.verticalClass),R.clickable&&(F.classList.remove(...(R.clickableClass||"").split(" ")),F.removeEventListener("click",v))})),e.pagination.bullets&&e.pagination.bullets.forEach(F=>F.classList.remove(...R.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const R=e.params.pagination;let{el:A}=e.pagination;A=At(A),A.forEach(F=>{F.classList.remove(R.horizontalClass,R.verticalClass),F.classList.add(e.isHorizontal()?R.horizontalClass:R.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?D():(S(),C(),E())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&E()}),r("snapIndexChange",()=>{E()}),r("snapGridLengthChange",()=>{C(),E()}),r("destroy",()=>{O()}),r("enable disable",()=>{let{el:R}=e.pagination;R&&(R=At(R),R.forEach(A=>A.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{E()}),r("click",(R,A)=>{const F=A.target,H=At(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&H&&H.length>0&&!F.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&F===e.navigation.nextEl||e.navigation.prevEl&&F===e.navigation.prevEl))return;const X=H[0].classList.contains(e.params.pagination.hiddenClass);s(X===!0?"paginationShow":"paginationHide"),H.forEach(M=>M.classList.toggle(e.params.pagination.hiddenClass))}});const b=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:R}=e.pagination;R&&(R=At(R),R.forEach(A=>A.classList.remove(e.params.pagination.paginationDisabledClass))),S(),C(),E()},D=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:R}=e.pagination;R&&(R=At(R),R.forEach(A=>A.classList.add(e.params.pagination.paginationDisabledClass))),O()};Object.assign(e.pagination,{enable:b,disable:D,render:C,update:E,init:S,destroy:O})}const Jo=Jw("images/fetchImages",async(n,{rejectWithValue:e})=>{try{return await(await fetch("https://api.unsplash.com/photos?page=2&&per_page=30&client_id=Y5sNf_2ibXSXDmY9kK3XWrVaDqIianhpaC7Fs3LZfqc")).json()}catch(t){return t instanceof Error?e(t.message):e("Неизвестная ошибка")}}),g2="_wrapper_1rhgl_11",y2="_prevButton_1rhgl_16",_2="_nextButton_1rhgl_17",qo={wrapper:g2,prevButton:y2,nextButton:_2},v2="_card_15f1v_11",w2="_image_15f1v_22",E2="_block_15f1v_37",T2="_title_15f1v_44",S2="_description_15f1v_49",I2="_user_15f1v_58",C2="_wrap_15f1v_67",P2="_icon_15f1v_73",x2="_content_15f1v_86",R2="_name_15f1v_92",A2="_data_15f1v_98",k2="_favorite_15f1v_104",Dn={card:v2,image:w2,block:E2,title:T2,description:S2,user:I2,wrap:C2,icon:P2,content:x2,name:R2,data:A2,favorite:k2},b2={favorites:[],loading:!1,error:null},N2=ga({name:"favorites",initialState:b2,reducers:{addToFavorites:(n,e)=>{const t=e.payload;n.favorites.push(t)},removeFavorites:(n,e)=>{const t=e.payload;return{...n,favorites:n.favorites.filter(r=>r.id!==t.id)}}}}),{actions:xv,reducer:O2}=N2,L2={isOpen:!1,message:"",error:!1},D2=ga({name:"modal",initialState:L2,reducers:{modalOpen:(n,e)=>{n.isOpen=!0,n.message=e.payload},modalClosed:n=>{n.isOpen=!1,n.message=""},setError:(n,e)=>{n.error=e.payload}}}),{actions:Sr,reducer:M2}=D2,$d=({card:n})=>{const e=Sn(),{favorites:t}=rt(a=>a.favorites),r=t.some(a=>a.id===n.id),s=()=>{r?(e(xv.removeFavorites(n)),e(Sr.modalOpen("Delete from favorites!"))):(e(xv.addToFavorites(n)),e(Sr.modalOpen("Added to favorites!")))};return x.jsxs("div",{className:Dn.card,children:[x.jsx(Xe,{to:`/card/${n.id}`,className:Dn.image,children:x.jsx("img",{src:n.urls.regular,alt:""})}),x.jsxs("div",{className:Dn.block,children:[x.jsx(Xe,{to:`/card/${n.id}`,className:`${Dn.title} ${Ye.h5}`,children:n.alt_description}),x.jsx("div",{className:`${Dn.description} ${Ye.p}`,children:n.description}),x.jsxs("div",{className:Dn.user,children:[x.jsxs("div",{className:Dn.wrap,children:[x.jsx(Xe,{to:`/author-page/${n.id}`,className:Dn.icon,children:x.jsx("img",{src:n.user.profile_image.large,alt:""})}),x.jsxs("div",{className:Dn.content,children:[x.jsx(Xe,{to:`/author-page/${n.id}`,className:Dn.name,children:n.user.username}),x.jsx("div",{className:Dn.data,children:n.created_at})]})]}),x.jsx("button",{onClick:s,className:Dn.favorite,children:x.jsx(GE,{size:20,color:r?"#F81539":""})})]})]})]})},V2=()=>{const{images:n}=rt(t=>t.images),e=Sn();return z.useEffect(()=>{e(Jo())},[e]),x.jsx("div",{className:qo.wrapper,children:x.jsx(km,{modules:[uT,dT,fT],spaceBetween:20,slidesPerView:4,className:qo.sliderPosts,navigation:{prevEl:`.${qo.prevButton}`,nextEl:`.${qo.nextButton}`},children:n.map((t,r)=>x.jsx(bm,{virtualIndex:r,children:x.jsx($d,{card:t},r)},r))})})};function Nm(n){return dn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"},child:[]}]})(n)}function hT(n){return dn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z",opacity:".87"},child:[]},{tag:"path",attr:{d:"M17.51 3.87 15.73 2.1 5.84 12l9.9 9.9 1.77-1.77L9.38 12l8.13-8.13z"},child:[]}]})(n)}const j2=()=>x.jsxs("div",{className:Rl.wrap,children:[x.jsxs("div",{className:Rl.top,children:[x.jsx("div",{className:`${Rl.title} ${Ye.h4}`,children:"popular posts"}),x.jsxs("div",{className:Rl.navigation,children:[x.jsx("button",{className:qo.prevButton,children:x.jsx(hT,{})}),x.jsx("button",{className:qo.nextButton,children:x.jsx(Nm,{})})]})]}),x.jsx(V2,{})]}),F2="_card_1vg62_12",$2="_content_1vg62_21",U2="_wrap_1vg62_33",z2="_image_1vg62_42",B2="_imageSlide_1vg62_55",H2="_title_1vg62_68",W2="_description_1vg62_75",Mn={card:F2,content:$2,wrap:U2,image:z2,imageSlide:B2,title:H2,description:W2},G2=({card:n})=>x.jsxs("div",{className:Mn.card,children:[x.jsx("div",{className:Mn.image,children:x.jsx("img",{src:n.urls.regular,alt:""})}),x.jsx("div",{className:Mn.content,children:x.jsxs("div",{className:Mn.wrap,children:[x.jsx(Xe,{to:`/card/${n.id}`,className:`${Mn.title} ${Ye.h4}`,children:n.alt_description}),x.jsx("div",{className:`${Mn.description} ${Ye.p}`,children:n.description})]})})]}),q2="_cards_qqr27_11",K2="_list_qqr27_15",Rv={cards:q2,list:K2},Q2=()=>{const{images:n}=rt(t=>t.images),e=Sn();return z.useEffect(()=>{e(Jo())},[e]),x.jsx("div",{className:Rv.cards,children:x.jsx("div",{className:Rv.list,children:n.slice(0,2).map((t,r)=>x.jsx(G2,{card:t},r))})})},Y2="_wrapper_9n1nm_11",X2="_pagination_9n1nm_19",J2="_bullet_9n1nm_35",Z2="_bulletActive_9n1nm_43",eN="_prevButton_9n1nm_49",tN="_nextButton_9n1nm_50",Er={wrapper:Y2,pagination:X2,"swiper-pagination-bullet":"_swiper-pagination-bullet_9n1nm_28",bullet:J2,bulletActive:Z2,prevButton:eN,nextButton:tN,"swiper-button-disabled":"_swiper-button-disabled_9n1nm_64"},nN=({card:n})=>x.jsxs("div",{className:Mn.card,children:[x.jsx("div",{className:Mn.imageSlide,children:x.jsx("img",{src:n.urls.regular,alt:""})}),x.jsx("div",{className:Mn.content,children:x.jsxs("div",{className:Mn.wrap,children:[x.jsx(Xe,{to:`/card/${n.id}`,className:`${Mn.title} ${Ye.h3}`,children:n.alt_description}),x.jsx("div",{className:`${Mn.description} ${Ye.p}`,children:n.description})]})})]}),rN=()=>{const{images:n}=rt(t=>t.images),e=Sn();return z.useEffect(()=>{e(Jo())},[e]),x.jsx("div",{className:Er.wrapper,children:x.jsxs(km,{modules:[uT,dT,fT],spaceBetween:20,slidesPerView:1,className:Er.sliderCards,pagination:{clickable:!0,el:`.${Er.pagination}`,renderBullet:(t,r)=>`<span class="${r} ${Er.bullet}"></span>`,bulletActiveClass:`${Er.bulletActive}`},navigation:{prevEl:`.${Er.prevButton}`,nextEl:`.${Er.nextButton}`},children:[n.slice(2,7).map((t,r)=>x.jsx(bm,{virtualIndex:r,children:x.jsx(nN,{card:t},r)},r)),x.jsx("button",{className:Er.prevButton,children:x.jsx(hT,{})}),x.jsx("button",{className:Er.nextButton,children:x.jsx(Nm,{})}),x.jsx("div",{className:Er.pagination})]})})},iN="_section_arpln_11",Av={section:iN},sN="_list_1wfte_11",oN="_bottom_1wfte_18",aN="_button_1wfte_24",op={list:sN,bottom:oN,button:aN},lN=()=>{const{images:n}=rt(s=>s.images),[e,t]=z.useState(8),r=()=>{t(s=>s+8)};return x.jsxs("div",{className:Rl.wrap,children:[x.jsx("div",{className:Ye.h4,children:"All Posts"}),x.jsx("div",{className:op.list,children:n.slice(0,e).map((s,a)=>x.jsx($d,{card:s},a))}),x.jsx("div",{className:op.bottom,children:x.jsx("button",{onClick:r,className:op.button,children:"showmore"})})]})},uN=()=>x.jsx("div",{className:Av.main,children:x.jsxs("div",{className:"container",children:[x.jsxs("div",{className:Av.section,children:[x.jsx(Q2,{}),x.jsx(rN,{})]}),x.jsx(j2,{}),x.jsx(lN,{})]})}),cN="_h1_x9tp3_11",dN="_h2_x9tp3_23",fN="_h3_x9tp3_29",hN="_h4_x9tp3_41",pN="_h5_x9tp3_53",mN="_info_x9tp3_53",gN="_h6_x9tp3_65",yN="_subtitle_x9tp3_71",_N="_p_x9tp3_76",vN="_list_x9tp3_81",kv={h1:cN,h2:dN,h3:fN,h4:hN,h5:pN,info:mN,h6:gN,subtitle:yN,p:_N,list:vN},wN="_h1_6awv1_11",EN="_h2_6awv1_23",TN="_h3_6awv1_29",SN="_h4_6awv1_41",IN="_h5_6awv1_53",CN="_h6_6awv1_65",PN="_subtitle_6awv1_71",xN="_p_6awv1_76",RN="_wrap_6awv1_81",AN="_item_6awv1_88",kN="_link_6awv1_94",bN="_active_6awv1_98",Sl={h1:wN,h2:EN,h3:TN,h4:SN,h5:IN,h6:CN,subtitle:PN,p:xN,wrap:RN,item:AN,link:kN,active:bN},va=({items:n=[]})=>x.jsx("div",{children:x.jsx("ul",{className:Sl.wrap,children:n.map((e,t)=>x.jsxs("li",{className:Sl.item,children:[e.link?x.jsx(Xe,{className:`${Sl.link} ${Ye.h5}`,to:e.link,children:e.name}):x.jsx("span",{className:`${Sl.link} ${Ye.h5} ${Sl.active}`,children:e.name}),t<n.length-1&&x.jsx(Nm,{size:14})]},t))})}),NN=()=>{const{favorites:n}=rt(t=>t.favorites),e=[{name:"Home",link:"/"},{name:"Favorites"}];return x.jsxs("div",{children:[x.jsx(va,{items:e}),n.length>0?x.jsx("div",{className:kv.list,children:n.map((t,r)=>x.jsx($d,{card:t},r))}):x.jsx("div",{className:kv.info,children:"nothing in favorites!"})]})},ON=()=>{const{isOpen:n,message:e}=rt(t=>t.modal);return x.jsxs("div",{className:"wrapper",children:[x.jsx(qE,{}),x.jsx("main",{children:x.jsx("div",{className:"container",children:x.jsx(om,{})})}),x.jsx(xm,{active:n,message:e})]})},LN="_h1_1shp7_11",DN="_h2_1shp7_23",MN="_h3_1shp7_29",VN="_h4_1shp7_41",jN="_h5_1shp7_53",FN="_link_1shp7_53",$N="_h6_1shp7_65",UN="_total_1shp7_65",zN="_subtitle_1shp7_71",BN="_p_1shp7_76",HN="_card_1shp7_81",WN="_content_1shp7_86",GN="_wrap_1shp7_90",qN="_image_1shp7_96",KN="_info_1shp7_112",QN="_item_1shp7_120",YN="_sidebar_1shp7_128",XN="_block_1shp7_135",JN="_line_1shp7_144",ZN="_list_1shp7_149",eO="_avatar_1shp7_155",tO="_links_1shp7_171",nO="_inner_1shp7_176",rO="_follow_1shp7_191",lt={h1:LN,h2:DN,h3:MN,h4:VN,h5:jN,link:FN,h6:$N,total:UN,subtitle:zN,p:BN,card:HN,content:WN,wrap:GN,image:qN,info:KN,item:QN,sidebar:YN,block:XN,line:JN,list:ZN,avatar:eO,links:tO,inner:nO,follow:rO};function iO(n){return dn({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 0 0-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4A106.62 106.62 0 0 0 471 99.9c-52 0-98 35-111.8 85.1l-85.9 311H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h601.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7-.2-12.6-2-25.1-5.6-37.1zM184 852V568h81v284h-81zm636.4-353l-21.9 19 13.9 25.4a56.2 56.2 0 0 1 6.9 27.3c0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 0 1 6.9 27.3c0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 0 1 6.9 27.3c0 22.4-13.2 42.6-33.6 51.8H329V564.8l99.5-360.5a44.1 44.1 0 0 1 42.2-32.3c7.6 0 15.1 2.2 21.1 6.7 9.9 7.4 15.2 18.6 14.6 30.5l-9.6 198.4h314.4C829 418.5 840 436.9 840 456c0 16.5-7.2 32.1-19.6 43z"},child:[]}]})(n)}function sO(n){return dn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Folder_On"},child:[{tag:"path",attr:{d:"M19.435,19.94H4.565a2.5,2.5,0,0,1-2.5-2.5V6.56a2.5,2.5,0,0,1,2.5-2.5h5.27A2.5,2.5,0,0,1,12.292,6.1l.042.222a.5.5,0,0,0,.491.408h6.61a2.5,2.5,0,0,1,2.5,2.5v8.21A2.5,2.5,0,0,1,19.435,19.94ZM4.565,5.06a1.5,1.5,0,0,0-1.5,1.5V17.44a1.5,1.5,0,0,0,1.5,1.5h14.87a1.5,1.5,0,0,0,1.5-1.5V9.23a1.5,1.5,0,0,0-1.5-1.5h-6.61a1.5,1.5,0,0,1-1.474-1.225l-.042-.221A1.5,1.5,0,0,0,9.835,5.06Z"},child:[]}]}]})(n)}const oO="_card_bruws_11",aO="_content_bruws_16",lO="_image_bruws_22",ap={card:oO,content:aO,image:lO},uO=({card:n})=>x.jsxs("div",{className:ap.card,children:[x.jsx(Xe,{to:`/card/${n.id}`,className:ap.image,children:x.jsx("img",{src:n.urls.regular,alt:""})}),x.jsxs("div",{className:ap.content,children:[x.jsx(Xe,{to:`/card/${n.id}`,className:Ye.h5,children:n.alt_description}),x.jsxs("div",{className:Ye.h6,children:[n.likes," likes"]})]})]},n.id),cO={authors:[],loading:!1,error:null},dO=ga({name:"follow-author",initialState:cO,reducers:{addToSub:(n,e)=>{const t=e.payload;n.authors.push(t)},removeSub:(n,e)=>{const t=e.payload;return{...n,authors:n.authors.filter(r=>r.id!==t.id)}}}}),{actions:bv,reducer:fO}=dO,Ud=(n,e)=>n.authors.authors.some(t=>t.id===e),Om=n=>(e,t)=>{const r=t();Ud(r,n.id)?(e(bv.removeSub(n)),e(Sr.modalOpen("Unsubscribe!"))):(e(bv.addToSub(n)),e(Sr.modalOpen("Subscribe!")))},hO=()=>{const e=li().pathname.split("/").pop()||"",{images:t}=rt(p=>p.images),{id:r}=Rw(),s=t.find(p=>p.id===r),a=t.find(p=>p.id===e),u=[{name:"Home",link:"/"},{name:a?`${a.alt_description}`:""}],d=Sn(),f=rt(p=>Ud(p,s.id));return x.jsxs("div",{children:[x.jsx(va,{items:u}),s?x.jsxs("div",{className:lt.card,children:[x.jsx("div",{className:lt.content,children:x.jsxs("div",{className:lt.wrap,children:[x.jsx("div",{className:Ye.h1,children:s.alt_description}),x.jsx("div",{className:lt.image,children:x.jsx("img",{src:s.urls.regular,alt:""})}),x.jsxs("div",{className:lt.info,children:[x.jsxs("div",{className:lt.item,children:[x.jsx(rC,{}),s.created_at]}),x.jsxs("div",{className:lt.item,children:[x.jsx(iO,{size:20}),"likes:",s.likes]}),x.jsxs("div",{className:lt.item,children:[x.jsx(sO,{size:20}),Object.keys(s.topic_submissions)]})]})]})}),x.jsxs("div",{className:lt.sidebar,children:[x.jsxs("div",{className:lt.links,children:[x.jsx("a",{href:"#",className:lt.link,children:"share"}),x.jsx("a",{href:"#",className:lt.link,children:"marking"}),x.jsx("a",{href:"#",className:lt.link,children:"comment"})]}),x.jsx("div",{className:lt.block,children:x.jsxs("div",{className:lt.line,children:[x.jsx(Xe,{to:`/author-page/${s.id}`,className:lt.avatar,children:x.jsx("img",{src:s.user.profile_image.large,alt:""})}),x.jsxs("div",{className:lt.inner,children:[x.jsx(Xe,{to:`/author-page/${s.id}`,className:Ye.h5,children:s.user.username}),x.jsxs("div",{className:lt.total,children:[s.user.total_photos," photos"]}),x.jsx("button",{onClick:()=>d(Om(s)),type:"button",className:lt.follow,children:f?"unsubscribe":"subscribe"})]})]})}),x.jsxs("div",{className:lt.block,children:[x.jsx("div",{className:Ye.h4,children:"top post"}),x.jsx("div",{className:lt.list,children:[...t].sort((p,g)=>g.likes-p.likes).slice(0,5).map(p=>x.jsx(uO,{card:p},p.id))})]})]})]}):""]})},pO="_form_8powf_11",mO="_input_8powf_17",gO="_error_8powf_41",yO="_button_8powf_62",Vi={form:pO,input:mO,error:gO,button:yO},pT=({title:n,handleClick:e})=>{const[t,r]=z.useState(""),[s,a]=z.useState(""),{error:u}=rt(d=>d.modal);return x.jsxs("div",{className:Vi.form,children:[x.jsx("div",{className:u?`${Vi.input} ${Vi.error}`:Vi.input,children:x.jsx("input",{type:"email",value:t,onChange:d=>r(d.target.value),placeholder:"email"})}),x.jsx("div",{className:u?`${Vi.input} ${Vi.error}`:Vi.input,children:x.jsx("input",{type:"password",value:s,onChange:d=>a(d.target.value),placeholder:"password"})}),x.jsx("button",{className:Vi.button,onClick:()=>e(t,s),children:n})]})},_O=()=>{const n=Sn(),e=ma(),t=({email:s,password:a})=>{n(!s||!a?Sr.modalOpen("Empty fields!"):Sr.modalOpen("Incorrect password or login!")),n(Sr.setError(!0))},r=(s,a)=>{const u=ra();pA(u,s,a).then(({user:d})=>{console.log(d),n(pm.setUser({email:d.email,id:d.uid,token:d.accessToken})),e("/"),n(Sr.setError(!1))}).catch(()=>t({email:s,password:a}))};return x.jsx("div",{children:x.jsx(pT,{title:"Login",handleClick:r})})},vO="_login_v6t8g_11",wO="_form_v6t8g_18",EO="_link_v6t8g_33",Zo={login:vO,form:wO,link:EO},TO=()=>x.jsx("div",{className:Zo.login,children:x.jsxs("div",{className:Zo.form,children:[x.jsx("h1",{className:Ye.h1,children:"Login"}),x.jsx(_O,{}),x.jsxs("div",{className:Zo.link,children:["No account? ",x.jsx(Xe,{to:"/register",children:"register"})]})]})}),SO=()=>{const n=Sn(),e=ma(),t=(r,s)=>{const a=ra();console.log(a),hA(a,r,s).then(({user:u})=>{console.log(u),n(pm.setUser({email:u.email,id:u.uid,token:u.accessToken})),e("/")}).catch(console.error)};return x.jsx("div",{children:x.jsx(pT,{title:"register",handleClick:t})})},IO=()=>x.jsx("div",{className:Zo.login,children:x.jsxs("div",{className:Zo.form,children:[x.jsx("h1",{className:Ye.h1,children:"Register"}),x.jsx(SO,{}),x.jsxs("div",{className:Zo.link,children:["Have an account? ",x.jsx(Xe,{to:"/login",children:"Login"})]})]})}),CO=()=>{const{isOpen:n,message:e}=rt(t=>t.modal);return x.jsxs("div",{className:"wrapper",children:[x.jsx("main",{children:x.jsx("div",{className:"container",children:x.jsx(om,{})})}),x.jsx(xm,{active:n,message:e})]})},PO="_top_1f8kl_11",xO="_banner_1f8kl_20",RO="_avatar_1f8kl_32",AO="_image_1f8kl_38",kO="_row_1f8kl_51",bO="_block_1f8kl_58",NO="_name_1f8kl_64",OO="_email_1f8kl_70",LO="_edit_1f8kl_75",DO="_menu_1f8kl_91",MO="_link_1f8kl_97",VO="_content_1f8kl_104",jO="_list_1f8kl_108",Jt={top:PO,banner:xO,avatar:RO,image:AO,row:kO,block:bO,name:NO,email:OO,edit:LO,menu:DO,link:MO,content:VO,list:jO};var Nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qi,mT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,I){function P(){}P.prototype=I.prototype,M.D=I.prototype,M.prototype=new P,M.prototype.constructor=M,M.C=function(L,V,$){for(var N=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)N[ue-2]=arguments[ue];return I.prototype[V].apply(L,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(M,I,P){P||(P=0);var L=Array(16);if(typeof I=="string")for(var V=0;16>V;++V)L[V]=I.charCodeAt(P++)|I.charCodeAt(P++)<<8|I.charCodeAt(P++)<<16|I.charCodeAt(P++)<<24;else for(V=0;16>V;++V)L[V]=I[P++]|I[P++]<<8|I[P++]<<16|I[P++]<<24;I=M.g[0],P=M.g[1],V=M.g[2];var $=M.g[3],N=I+($^P&(V^$))+L[0]+3614090360&4294967295;I=P+(N<<7&4294967295|N>>>25),N=$+(V^I&(P^V))+L[1]+3905402710&4294967295,$=I+(N<<12&4294967295|N>>>20),N=V+(P^$&(I^P))+L[2]+606105819&4294967295,V=$+(N<<17&4294967295|N>>>15),N=P+(I^V&($^I))+L[3]+3250441966&4294967295,P=V+(N<<22&4294967295|N>>>10),N=I+($^P&(V^$))+L[4]+4118548399&4294967295,I=P+(N<<7&4294967295|N>>>25),N=$+(V^I&(P^V))+L[5]+1200080426&4294967295,$=I+(N<<12&4294967295|N>>>20),N=V+(P^$&(I^P))+L[6]+2821735955&4294967295,V=$+(N<<17&4294967295|N>>>15),N=P+(I^V&($^I))+L[7]+4249261313&4294967295,P=V+(N<<22&4294967295|N>>>10),N=I+($^P&(V^$))+L[8]+1770035416&4294967295,I=P+(N<<7&4294967295|N>>>25),N=$+(V^I&(P^V))+L[9]+2336552879&4294967295,$=I+(N<<12&4294967295|N>>>20),N=V+(P^$&(I^P))+L[10]+4294925233&4294967295,V=$+(N<<17&4294967295|N>>>15),N=P+(I^V&($^I))+L[11]+2304563134&4294967295,P=V+(N<<22&4294967295|N>>>10),N=I+($^P&(V^$))+L[12]+1804603682&4294967295,I=P+(N<<7&4294967295|N>>>25),N=$+(V^I&(P^V))+L[13]+4254626195&4294967295,$=I+(N<<12&4294967295|N>>>20),N=V+(P^$&(I^P))+L[14]+2792965006&4294967295,V=$+(N<<17&4294967295|N>>>15),N=P+(I^V&($^I))+L[15]+1236535329&4294967295,P=V+(N<<22&4294967295|N>>>10),N=I+(V^$&(P^V))+L[1]+4129170786&4294967295,I=P+(N<<5&4294967295|N>>>27),N=$+(P^V&(I^P))+L[6]+3225465664&4294967295,$=I+(N<<9&4294967295|N>>>23),N=V+(I^P&($^I))+L[11]+643717713&4294967295,V=$+(N<<14&4294967295|N>>>18),N=P+($^I&(V^$))+L[0]+3921069994&4294967295,P=V+(N<<20&4294967295|N>>>12),N=I+(V^$&(P^V))+L[5]+3593408605&4294967295,I=P+(N<<5&4294967295|N>>>27),N=$+(P^V&(I^P))+L[10]+38016083&4294967295,$=I+(N<<9&4294967295|N>>>23),N=V+(I^P&($^I))+L[15]+3634488961&4294967295,V=$+(N<<14&4294967295|N>>>18),N=P+($^I&(V^$))+L[4]+3889429448&4294967295,P=V+(N<<20&4294967295|N>>>12),N=I+(V^$&(P^V))+L[9]+568446438&4294967295,I=P+(N<<5&4294967295|N>>>27),N=$+(P^V&(I^P))+L[14]+3275163606&4294967295,$=I+(N<<9&4294967295|N>>>23),N=V+(I^P&($^I))+L[3]+4107603335&4294967295,V=$+(N<<14&4294967295|N>>>18),N=P+($^I&(V^$))+L[8]+1163531501&4294967295,P=V+(N<<20&4294967295|N>>>12),N=I+(V^$&(P^V))+L[13]+2850285829&4294967295,I=P+(N<<5&4294967295|N>>>27),N=$+(P^V&(I^P))+L[2]+4243563512&4294967295,$=I+(N<<9&4294967295|N>>>23),N=V+(I^P&($^I))+L[7]+1735328473&4294967295,V=$+(N<<14&4294967295|N>>>18),N=P+($^I&(V^$))+L[12]+2368359562&4294967295,P=V+(N<<20&4294967295|N>>>12),N=I+(P^V^$)+L[5]+4294588738&4294967295,I=P+(N<<4&4294967295|N>>>28),N=$+(I^P^V)+L[8]+2272392833&4294967295,$=I+(N<<11&4294967295|N>>>21),N=V+($^I^P)+L[11]+1839030562&4294967295,V=$+(N<<16&4294967295|N>>>16),N=P+(V^$^I)+L[14]+4259657740&4294967295,P=V+(N<<23&4294967295|N>>>9),N=I+(P^V^$)+L[1]+2763975236&4294967295,I=P+(N<<4&4294967295|N>>>28),N=$+(I^P^V)+L[4]+1272893353&4294967295,$=I+(N<<11&4294967295|N>>>21),N=V+($^I^P)+L[7]+4139469664&4294967295,V=$+(N<<16&4294967295|N>>>16),N=P+(V^$^I)+L[10]+3200236656&4294967295,P=V+(N<<23&4294967295|N>>>9),N=I+(P^V^$)+L[13]+681279174&4294967295,I=P+(N<<4&4294967295|N>>>28),N=$+(I^P^V)+L[0]+3936430074&4294967295,$=I+(N<<11&4294967295|N>>>21),N=V+($^I^P)+L[3]+3572445317&4294967295,V=$+(N<<16&4294967295|N>>>16),N=P+(V^$^I)+L[6]+76029189&4294967295,P=V+(N<<23&4294967295|N>>>9),N=I+(P^V^$)+L[9]+3654602809&4294967295,I=P+(N<<4&4294967295|N>>>28),N=$+(I^P^V)+L[12]+3873151461&4294967295,$=I+(N<<11&4294967295|N>>>21),N=V+($^I^P)+L[15]+530742520&4294967295,V=$+(N<<16&4294967295|N>>>16),N=P+(V^$^I)+L[2]+3299628645&4294967295,P=V+(N<<23&4294967295|N>>>9),N=I+(V^(P|~$))+L[0]+4096336452&4294967295,I=P+(N<<6&4294967295|N>>>26),N=$+(P^(I|~V))+L[7]+1126891415&4294967295,$=I+(N<<10&4294967295|N>>>22),N=V+(I^($|~P))+L[14]+2878612391&4294967295,V=$+(N<<15&4294967295|N>>>17),N=P+($^(V|~I))+L[5]+4237533241&4294967295,P=V+(N<<21&4294967295|N>>>11),N=I+(V^(P|~$))+L[12]+1700485571&4294967295,I=P+(N<<6&4294967295|N>>>26),N=$+(P^(I|~V))+L[3]+2399980690&4294967295,$=I+(N<<10&4294967295|N>>>22),N=V+(I^($|~P))+L[10]+4293915773&4294967295,V=$+(N<<15&4294967295|N>>>17),N=P+($^(V|~I))+L[1]+2240044497&4294967295,P=V+(N<<21&4294967295|N>>>11),N=I+(V^(P|~$))+L[8]+1873313359&4294967295,I=P+(N<<6&4294967295|N>>>26),N=$+(P^(I|~V))+L[15]+4264355552&4294967295,$=I+(N<<10&4294967295|N>>>22),N=V+(I^($|~P))+L[6]+2734768916&4294967295,V=$+(N<<15&4294967295|N>>>17),N=P+($^(V|~I))+L[13]+1309151649&4294967295,P=V+(N<<21&4294967295|N>>>11),N=I+(V^(P|~$))+L[4]+4149444226&4294967295,I=P+(N<<6&4294967295|N>>>26),N=$+(P^(I|~V))+L[11]+3174756917&4294967295,$=I+(N<<10&4294967295|N>>>22),N=V+(I^($|~P))+L[2]+718787259&4294967295,V=$+(N<<15&4294967295|N>>>17),N=P+($^(V|~I))+L[9]+3951481745&4294967295,M.g[0]=M.g[0]+I&4294967295,M.g[1]=M.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+$&4294967295}r.prototype.u=function(M,I){I===void 0&&(I=M.length);for(var P=I-this.blockSize,L=this.B,V=this.h,$=0;$<I;){if(V==0)for(;$<=P;)s(this,M,$),$+=this.blockSize;if(typeof M=="string"){for(;$<I;)if(L[V++]=M.charCodeAt($++),V==this.blockSize){s(this,L),V=0;break}}else for(;$<I;)if(L[V++]=M[$++],V==this.blockSize){s(this,L),V=0;break}}this.h=V,this.o+=I},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var I=1;I<M.length-8;++I)M[I]=0;var P=8*this.o;for(I=M.length-8;I<M.length;++I)M[I]=P&255,P/=256;for(this.u(M),M=Array(16),I=P=0;4>I;++I)for(var L=0;32>L;L+=8)M[P++]=this.g[I]>>>L&255;return M};function a(M,I){var P=d;return Object.prototype.hasOwnProperty.call(P,M)?P[M]:P[M]=I(M)}function u(M,I){this.h=I;for(var P=[],L=!0,V=M.length-1;0<=V;V--){var $=M[V]|0;L&&$==I||(P[V]=$,L=!1)}this.g=P}var d={};function f(M){return-128<=M&&128>M?a(M,function(I){return new u([I|0],0>I?-1:0)}):new u([M|0],0>M?-1:0)}function p(M){if(isNaN(M)||!isFinite(M))return v;if(0>M)return b(p(-M));for(var I=[],P=1,L=0;M>=P;L++)I[L]=M/P|0,P*=4294967296;return new u(I,0)}function g(M,I){if(M.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(M.charAt(0)=="-")return b(g(M.substring(1),I));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=p(Math.pow(I,8)),L=v,V=0;V<M.length;V+=8){var $=Math.min(8,M.length-V),N=parseInt(M.substring(V,V+$),I);8>$?($=p(Math.pow(I,$)),L=L.j($).add(p(N))):(L=L.j(P),L=L.add(p(N)))}return L}var v=f(0),E=f(1),C=f(16777216);n=u.prototype,n.m=function(){if(O(this))return-b(this).m();for(var M=0,I=1,P=0;P<this.g.length;P++){var L=this.i(P);M+=(0<=L?L:4294967296+L)*I,I*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(S(this))return"0";if(O(this))return"-"+b(this).toString(M);for(var I=p(Math.pow(M,6)),P=this,L="";;){var V=F(P,I).g;P=D(P,V.j(I));var $=((0<P.g.length?P.g[0]:P.h)>>>0).toString(M);if(P=V,S(P))return $+L;for(;6>$.length;)$="0"+$;L=$+L}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function S(M){if(M.h!=0)return!1;for(var I=0;I<M.g.length;I++)if(M.g[I]!=0)return!1;return!0}function O(M){return M.h==-1}n.l=function(M){return M=D(this,M),O(M)?-1:S(M)?0:1};function b(M){for(var I=M.g.length,P=[],L=0;L<I;L++)P[L]=~M.g[L];return new u(P,~M.h).add(E)}n.abs=function(){return O(this)?b(this):this},n.add=function(M){for(var I=Math.max(this.g.length,M.g.length),P=[],L=0,V=0;V<=I;V++){var $=L+(this.i(V)&65535)+(M.i(V)&65535),N=($>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);L=N>>>16,$&=65535,N&=65535,P[V]=N<<16|$}return new u(P,P[P.length-1]&-2147483648?-1:0)};function D(M,I){return M.add(b(I))}n.j=function(M){if(S(this)||S(M))return v;if(O(this))return O(M)?b(this).j(b(M)):b(b(this).j(M));if(O(M))return b(this.j(b(M)));if(0>this.l(C)&&0>M.l(C))return p(this.m()*M.m());for(var I=this.g.length+M.g.length,P=[],L=0;L<2*I;L++)P[L]=0;for(L=0;L<this.g.length;L++)for(var V=0;V<M.g.length;V++){var $=this.i(L)>>>16,N=this.i(L)&65535,ue=M.i(V)>>>16,_e=M.i(V)&65535;P[2*L+2*V]+=N*_e,R(P,2*L+2*V),P[2*L+2*V+1]+=$*_e,R(P,2*L+2*V+1),P[2*L+2*V+1]+=N*ue,R(P,2*L+2*V+1),P[2*L+2*V+2]+=$*ue,R(P,2*L+2*V+2)}for(L=0;L<I;L++)P[L]=P[2*L+1]<<16|P[2*L];for(L=I;L<2*I;L++)P[L]=0;return new u(P,0)};function R(M,I){for(;(M[I]&65535)!=M[I];)M[I+1]+=M[I]>>>16,M[I]&=65535,I++}function A(M,I){this.g=M,this.h=I}function F(M,I){if(S(I))throw Error("division by zero");if(S(M))return new A(v,v);if(O(M))return I=F(b(M),I),new A(b(I.g),b(I.h));if(O(I))return I=F(M,b(I)),new A(b(I.g),I.h);if(30<M.g.length){if(O(M)||O(I))throw Error("slowDivide_ only works with positive integers.");for(var P=E,L=I;0>=L.l(M);)P=H(P),L=H(L);var V=X(P,1),$=X(L,1);for(L=X(L,2),P=X(P,2);!S(L);){var N=$.add(L);0>=N.l(M)&&(V=V.add(P),$=N),L=X(L,1),P=X(P,1)}return I=D(M,V.j(I)),new A(V,I)}for(V=v;0<=M.l(I);){for(P=Math.max(1,Math.floor(M.m()/I.m())),L=Math.ceil(Math.log(P)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),$=p(P),N=$.j(I);O(N)||0<N.l(M);)P-=L,$=p(P),N=$.j(I);S($)&&($=E),V=V.add($),M=D(M,N)}return new A(V,M)}n.A=function(M){return F(this,M).h},n.and=function(M){for(var I=Math.max(this.g.length,M.g.length),P=[],L=0;L<I;L++)P[L]=this.i(L)&M.i(L);return new u(P,this.h&M.h)},n.or=function(M){for(var I=Math.max(this.g.length,M.g.length),P=[],L=0;L<I;L++)P[L]=this.i(L)|M.i(L);return new u(P,this.h|M.h)},n.xor=function(M){for(var I=Math.max(this.g.length,M.g.length),P=[],L=0;L<I;L++)P[L]=this.i(L)^M.i(L);return new u(P,this.h^M.h)};function H(M){for(var I=M.g.length+1,P=[],L=0;L<I;L++)P[L]=M.i(L)<<1|M.i(L-1)>>>31;return new u(P,M.h)}function X(M,I){var P=I>>5;I%=32;for(var L=M.g.length-P,V=[],$=0;$<L;$++)V[$]=0<I?M.i($+P)>>>I|M.i($+P+1)<<32-I:M.i($+P);return new u(V,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,mT=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=g,qi=u}).apply(typeof Nv<"u"?Nv:typeof self<"u"?self:typeof window<"u"?window:{});var bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gT,kl,yT,Hc,Vp,_T,vT,wT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,w){return c==Array.prototype||c==Object.prototype||(c[y]=w.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof bc=="object"&&bc];for(var y=0;y<c.length;++y){var w=c[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=t(this);function s(c,y){if(y)e:{var w=r;c=c.split(".");for(var k=0;k<c.length-1;k++){var G=c[k];if(!(G in w))break e;w=w[G]}c=c[c.length-1],k=w[c],y=y(k),y!=k&&y!=null&&e(w,c,{configurable:!0,writable:!0,value:y})}}function a(c,y){c instanceof String&&(c+="");var w=0,k=!1,G={next:function(){if(!k&&w<c.length){var Y=w++;return{value:y(Y,c[Y]),done:!1}}return k=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}s("Array.prototype.values",function(c){return c||function(){return a(this,function(y,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,w){return c.call.apply(c.bind,arguments)}function v(c,y,w){if(!c)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,k),c.apply(y,G)}}return function(){return c.apply(y,arguments)}}function E(c,y,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,E.apply(null,arguments)}function C(c,y){var w=Array.prototype.slice.call(arguments,1);return function(){var k=w.slice();return k.push.apply(k,arguments),c.apply(this,k)}}function S(c,y){function w(){}w.prototype=y.prototype,c.aa=y.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(k,G,Y){for(var ae=Array(arguments.length-2),We=2;We<arguments.length;We++)ae[We-2]=arguments[We];return y.prototype[G].apply(k,ae)}}function O(c){const y=c.length;if(0<y){const w=Array(y);for(let k=0;k<y;k++)w[k]=c[k];return w}return[]}function b(c,y){for(let w=1;w<arguments.length;w++){const k=arguments[w];if(f(k)){const G=c.length||0,Y=k.length||0;c.length=G+Y;for(let ae=0;ae<Y;ae++)c[G+ae]=k[ae]}else c.push(k)}}class D{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function R(c){return/^[\s\xa0]*$/.test(c)}function A(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function F(c){return F[" "](c),c}F[" "]=function(){};var H=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function X(c,y,w){for(const k in c)y.call(w,c[k],k,c)}function M(c,y){for(const w in c)y.call(void 0,c[w],w,c)}function I(c){const y={};for(const w in c)y[w]=c[w];return y}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(c,y){let w,k;for(let G=1;G<arguments.length;G++){k=arguments[G];for(w in k)c[w]=k[w];for(let Y=0;Y<P.length;Y++)w=P[Y],Object.prototype.hasOwnProperty.call(k,w)&&(c[w]=k[w])}}function V(c){var y=1;c=c.split(":");const w=[];for(;0<y&&c.length;)w.push(c.shift()),y--;return c.length&&w.push(c.join(":")),w}function $(c){d.setTimeout(()=>{throw c},0)}function N(){var c=le;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ue{constructor(){this.h=this.g=null}add(y,w){const k=_e.get();k.set(y,w),this.h?this.h.next=k:this.g=k,this.h=k}}var _e=new D(()=>new ve,c=>c.reset());class ve{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Pe,re=!1,le=new ue,oe=()=>{const c=d.Promise.resolve(void 0);Pe=()=>{c.then(W)}};var W=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(w){$(w)}var y=_e;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}re=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};d.addEventListener("test",w,y),d.removeEventListener("test",w,y)}catch{}return c}();function Ne(c,y){if(ge.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,k=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(H){e:{try{F(y.nodeName);var G=!0;break e}catch{}G=!1}G||(y=null)}}else w=="mouseover"?y=c.fromElement:w=="mouseout"&&(y=c.toElement);this.relatedTarget=y,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ce[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ne.aa.h.call(this)}}S(Ne,ge);var ce={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function qe(c,y,w,k,G){this.listener=c,this.proxy=null,this.src=y,this.type=w,this.capture=!!k,this.ha=G,this.key=++Oe,this.da=this.fa=!1}function It(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Nr(c){this.src=c,this.g={},this.h=0}Nr.prototype.add=function(c,y,w,k,G){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var ae=ci(c,y,k,G);return-1<ae?(y=c[ae],w||(y.fa=!1)):(y=new qe(y,this.src,Y,!!k,G),y.fa=w,c.push(y)),y};function Qs(c,y){var w=y.type;if(w in c.g){var k=c.g[w],G=Array.prototype.indexOf.call(k,y,void 0),Y;(Y=0<=G)&&Array.prototype.splice.call(k,G,1),Y&&(It(y),c.g[w].length==0&&(delete c.g[w],c.h--))}}function ci(c,y,w,k){for(var G=0;G<c.length;++G){var Y=c[G];if(!Y.da&&Y.listener==y&&Y.capture==!!w&&Y.ha==k)return G}return-1}var is="closure_lm_"+(1e6*Math.random()|0),Ys={};function Ia(c,y,w,k,G){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)Ia(c,y[Y],w,k,G);return null}return w=xa(w),c&&c[we]?c.K(y,w,p(k)?!!k.capture:!1,G):Ca(c,y,w,!1,k,G)}function Ca(c,y,w,k,G,Y){if(!y)throw Error("Invalid event type");var ae=p(G)?!!G.capture:!!G,We=Js(c);if(We||(c[is]=We=new Nr(c)),w=We.add(y,w,k,ae,Y),w.proxy)return w;if(k=du(),w.proxy=k,k.src=c,k.listener=w,c.addEventListener)be||(G=ae),G===void 0&&(G=!1),c.addEventListener(y.toString(),k,G);else if(c.attachEvent)c.attachEvent(Lr(y.toString()),k);else if(c.addListener&&c.removeListener)c.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return w}function du(){function c(w){return y.call(c.src,c.listener,w)}const y=Pa;return c}function Xs(c,y,w,k,G){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Xs(c,y[Y],w,k,G);else k=p(k)?!!k.capture:!!k,w=xa(w),c&&c[we]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],w=ci(Y,w,k,G),-1<w&&(It(Y[w]),Array.prototype.splice.call(Y,w,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=Js(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ci(y,w,k,G)),(w=-1<c?y[c]:null)&&Or(w))}function Or(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[we])Qs(y.i,c);else{var w=c.type,k=c.proxy;y.removeEventListener?y.removeEventListener(w,k,c.capture):y.detachEvent?y.detachEvent(Lr(w),k):y.addListener&&y.removeListener&&y.removeListener(k),(w=Js(y))?(Qs(w,c),w.h==0&&(w.src=null,y[is]=null)):It(c)}}}function Lr(c){return c in Ys?Ys[c]:Ys[c]="on"+c}function Pa(c,y){if(c.da)c=!0;else{y=new Ne(y,this);var w=c.listener,k=c.ha||c.src;c.fa&&Or(c),c=w.call(k,y)}return c}function Js(c){return c=c[is],c instanceof Nr?c:null}var Zs="__closure_events_fn_"+(1e9*Math.random()>>>0);function xa(c){return typeof c=="function"?c:(c[Zs]||(c[Zs]=function(y){return c.handleEvent(y)}),c[Zs])}function gt(){J.call(this),this.i=new Nr(this),this.M=this,this.F=null}S(gt,J),gt.prototype[we]=!0,gt.prototype.removeEventListener=function(c,y,w,k){Xs(this,c,y,w,k)};function yt(c,y){var w,k=c.F;if(k)for(w=[];k;k=k.F)w.push(k);if(c=c.M,k=y.type||y,typeof y=="string")y=new ge(y,c);else if(y instanceof ge)y.target=y.target||c;else{var G=y;y=new ge(k,c),L(y,G)}if(G=!0,w)for(var Y=w.length-1;0<=Y;Y--){var ae=y.g=w[Y];G=Dr(ae,k,!0,y)&&G}if(ae=y.g=c,G=Dr(ae,k,!0,y)&&G,G=Dr(ae,k,!1,y)&&G,w)for(Y=0;Y<w.length;Y++)ae=y.g=w[Y],G=Dr(ae,k,!1,y)&&G}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var w=c.g[y],k=0;k<w.length;k++)It(w[k]);delete c.g[y],c.h--}}this.F=null},gt.prototype.K=function(c,y,w,k){return this.i.add(String(c),y,!1,w,k)},gt.prototype.L=function(c,y,w,k){return this.i.add(String(c),y,!0,w,k)};function Dr(c,y,w,k){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var G=!0,Y=0;Y<y.length;++Y){var ae=y[Y];if(ae&&!ae.da&&ae.capture==w){var We=ae.listener,_t=ae.ha||ae.src;ae.fa&&Qs(c.i,ae),G=We.call(_t,k)!==!1&&G}}return G&&!k.defaultPrevented}function Ra(c,y,w){if(typeof c=="function")w&&(c=E(c,w));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function di(c){c.g=Ra(()=>{c.g=null,c.i&&(c.i=!1,di(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ss extends J{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:di(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function os(c){J.call(this),this.h=c,this.g={}}S(os,J);var Aa=[];function ka(c){X(c.g,function(y,w){this.g.hasOwnProperty(w)&&Or(y)},c),c.g={}}os.prototype.N=function(){os.aa.N.call(this),ka(this)},os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ba=d.JSON.stringify,Na=d.JSON.parse,Oa=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function as(){}as.prototype.h=null;function eo(c){return c.h||(c.h=c.i())}function to(){}var In={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cr(){ge.call(this,"d")}S(cr,ge);function no(){ge.call(this,"c")}S(no,ge);var dr={},La=null;function ls(){return La=La||new gt}dr.La="serverreachability";function Da(c){ge.call(this,dr.La,c)}S(Da,ge);function Mr(c){const y=ls();yt(y,new Da(y))}dr.STAT_EVENT="statevent";function Ma(c,y){ge.call(this,dr.STAT_EVENT,c),this.stat=y}S(Ma,ge);function ct(c){const y=ls();yt(y,new Ma(y,c))}dr.Ma="timingevent";function ro(c,y){ge.call(this,dr.Ma,c),this.size=y}S(ro,ge);function $n(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function us(){this.g=!0}us.prototype.xa=function(){this.g=!1};function cs(c,y,w,k,G,Y){c.info(function(){if(c.g)if(Y)for(var ae="",We=Y.split("&"),_t=0;_t<We.length;_t++){var Fe=We[_t].split("=");if(1<Fe.length){var Ct=Fe[0];Fe=Fe[1];var ht=Ct.split("_");ae=2<=ht.length&&ht[1]=="type"?ae+(Ct+"="+Fe+"&"):ae+(Ct+"=redacted&")}}else ae=null;else ae=Y;return"XMLHTTP REQ ("+k+") [attempt "+G+"]: "+y+`
`+w+`
`+ae})}function io(c,y,w,k,G,Y,ae){c.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+G+"]: "+y+`
`+w+`
`+Y+" "+ae})}function Un(c,y,w,k){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+rf(c,w)+(k?" "+k:"")})}function Va(c,y){c.info(function(){return"TIMEOUT: "+y})}us.prototype.info=function(){};function rf(c,y){if(!c.g)return y;if(!y)return null;try{var w=JSON.parse(y);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var k=w[c];if(!(2>k.length)){var G=k[1];if(Array.isArray(G)&&!(1>G.length)){var Y=G[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ae=1;ae<G.length;ae++)G[ae]=""}}}}return ba(w)}catch{return y}}var so={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zn;function ds(){}S(ds,as),ds.prototype.g=function(){return new XMLHttpRequest},ds.prototype.i=function(){return{}},zn=new ds;function Bn(c,y,w,k){this.j=c,this.i=y,this.l=w,this.R=k||1,this.U=new os(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new hu}function hu(){this.i=null,this.g="",this.h=!1}var ja={},oo={};function ao(c,y,w){c.L=1,c.v=gi(hn(y)),c.m=w,c.P=!0,Fa(c,null)}function Fa(c,y){c.F=Date.now(),Ke(c),c.A=hn(c.v);var w=c.A,k=c.R;Array.isArray(k)||(k=[String(k)]),_i(w.i,"t",k),c.C=0,w=c.j.J,c.h=new hu,c.g=bu(c.j,w?y:null,!c.m),0<c.O&&(c.M=new ss(E(c.Y,c,c.g),c.O)),y=c.U,w=c.g,k=c.ca;var G="readystatechange";Array.isArray(G)||(G&&(Aa[0]=G.toString()),G=Aa);for(var Y=0;Y<G.length;Y++){var ae=Ia(w,G[Y],k||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Mr(),cs(c.i,c.u,c.A,c.l,c.R,c.m)}Bn.prototype.ca=function(c){c=c.target;const y=this.M;y&&tn(c)==3?y.j():this.Y(c)},Bn.prototype.Y=function(c){try{if(c==this.g)e:{const ht=tn(this.g);var y=this.g.Ba();const xn=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||Wa(this.g)))){this.J||ht!=4||y==7||(y==8||0>=xn?Mr(3):Mr(2)),fs(this);var w=this.g.Z();this.X=w;t:if(pu(this)){var k=Wa(this.g);c="";var G=k.length,Y=tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cn(this),fi(this);var ae="";break t}this.h.i=new d.TextDecoder}for(y=0;y<G;y++)this.h.h=!0,c+=this.h.i.decode(k[y],{stream:!(Y&&y==G-1)});k.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=w==200,io(this.i,this.u,this.A,this.l,this.R,ht,w),this.o){if(this.T&&!this.K){t:{if(this.g){var We,_t=this.g;if((We=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(We)){var Fe=We;break t}}Fe=null}if(w=Fe)Un(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$a(this,w);else{this.o=!1,this.s=3,ct(12),Cn(this),fi(this);break e}}if(this.P){w=!0;let mn;for(;!this.J&&this.C<ae.length;)if(mn=sf(this,ae),mn==oo){ht==4&&(this.s=4,ct(14),w=!1),Un(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==ja){this.s=4,ct(15),Un(this.i,this.l,ae,"[Invalid Chunk]"),w=!1;break}else Un(this.i,this.l,mn,null),$a(this,mn);if(pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||ae.length!=0||this.h.h||(this.s=1,ct(16),w=!1),this.o=this.o&&w,!w)Un(this.i,this.l,ae,"[Invalid Chunked Response]"),Cn(this),fi(this);else if(0<ae.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),qa(Ct),Ct.M=!0,ct(11))}}else Un(this.i,this.l,ae,null),$a(this,ae);ht==4&&Cn(this),this.o&&!this.J&&(ht==4?vo(this.j,this):(this.o=!1,Ke(this)))}else po(this.g),w==400&&0<ae.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),Cn(this),fi(this)}}}catch{}finally{}};function pu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function sf(c,y){var w=c.C,k=y.indexOf(`
`,w);return k==-1?oo:(w=Number(y.substring(w,k)),isNaN(w)?ja:(k+=1,k+w>y.length?oo:(y=y.slice(k,k+w),c.C=k+w,y)))}Bn.prototype.cancel=function(){this.J=!0,Cn(this)};function Ke(c){c.S=Date.now()+c.I,mu(c,c.I)}function mu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=$n(E(c.ba,c),y)}function fs(c){c.B&&(d.clearTimeout(c.B),c.B=null)}Bn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Va(this.i,this.A),this.L!=2&&(Mr(),ct(17)),Cn(this),this.s=2,fi(this)):mu(this,this.S-c)};function fi(c){c.j.G==0||c.J||vo(c.j,c)}function Cn(c){fs(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ka(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function $a(c,y){try{var w=c.j;if(w.G!=0&&(w.g==c||Kt(w.h,c))){if(!c.K&&Kt(w.h,c)&&w.G==3){try{var k=w.Da.g.parse(y)}catch{k=null}if(Array.isArray(k)&&k.length==3){var G=k;if(G[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)_o(w),Kn(w);else break e;yo(w),ct(18)}}else w.za=G[1],0<w.za-w.T&&37500>G[2]&&w.F&&w.v==0&&!w.C&&(w.C=$n(E(w.Za,w),6e3));if(1>=yu(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Ur(w,11)}else if((c.K||w.g==c)&&_o(w),!R(y))for(G=w.Da.g.parse(y),y=0;y<G.length;y++){let Fe=G[y];if(w.T=Fe[0],Fe=Fe[1],w.G==2)if(Fe[0]=="c"){w.K=Fe[1],w.ia=Fe[2];const Ct=Fe[3];Ct!=null&&(w.la=Ct,w.j.info("VER="+w.la));const ht=Fe[4];ht!=null&&(w.Aa=ht,w.j.info("SVER="+w.Aa));const xn=Fe[5];xn!=null&&typeof xn=="number"&&0<xn&&(k=1.5*xn,w.L=k,w.j.info("backChannelRequestTimeoutMs_="+k)),k=w;const mn=c.g;if(mn){const vs=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vs){var Y=k.h;Y.g||vs.indexOf("spdy")==-1&&vs.indexOf("quic")==-1&&vs.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Ua(Y,Y.h),Y.h=null))}if(k.D){const Eo=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Eo&&(k.ya=Eo,Ge(k.I,k.D,Eo))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),k=w;var ae=c;if(k.qa=ku(k,k.J?k.ia:null,k.W),ae.K){_u(k.h,ae);var We=ae,_t=k.L;_t&&(We.I=_t),We.B&&(fs(We),Ke(We)),k.g=ae}else _s(k);0<w.i.length&&mr(w)}else Fe[0]!="stop"&&Fe[0]!="close"||Ur(w,7);else w.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Ur(w,7):Nt(w):Fe[0]!="noop"&&w.l&&w.l.ta(Fe),w.v=0)}}Mr(4)}catch{}}var gu=class{constructor(c,y){this.g=c,this.map=y}};function hs(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function yu(c){return c.h?1:c.g?c.g.size:0}function Kt(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ua(c,y){c.g?c.g.add(y):c.h=y}function _u(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}hs.prototype.cancel=function(){if(this.i=vu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function vu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const w of c.g.values())y=y.concat(w.D);return y}return O(c.i)}function lo(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var y=[],w=c.length,k=0;k<w;k++)y.push(c[k]);return y}y=[],w=0;for(k in c)y[w++]=c[k];return y}function uo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var y=[];c=c.length;for(var w=0;w<c;w++)y.push(w);return y}y=[],w=0;for(const k in c)y[w++]=k;return y}}}function hi(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var w=uo(c),k=lo(c),G=k.length,Y=0;Y<G;Y++)y.call(void 0,k[Y],w&&w[Y],c)}var ps=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function of(c,y){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var k=c[w].indexOf("="),G=null;if(0<=k){var Y=c[w].substring(0,k);G=c[w].substring(k+1)}else Y=c[w];y(Y,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Vr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Vr){this.h=c.h,ms(this,c.j),this.o=c.o,this.g=c.g,pi(this,c.s),this.l=c.l;var y=c.i,w=new fr;w.i=y.i,y.g&&(w.g=new Map(y.g),w.h=y.h),mi(this,w),this.m=c.m}else c&&(y=String(c).match(ps))?(this.h=!1,ms(this,y[1]||"",!0),this.o=Ve(y[2]||""),this.g=Ve(y[3]||"",!0),pi(this,y[4]),this.l=Ve(y[5]||"",!0),mi(this,y[6]||"",!0),this.m=Ve(y[7]||"")):(this.h=!1,this.i=new fr(null,this.h))}Vr.prototype.toString=function(){var c=[],y=this.j;y&&c.push(yi(y,co,!0),":");var w=this.g;return(w||y=="file")&&(c.push("//"),(y=this.o)&&c.push(yi(y,co,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(yi(w,w.charAt(0)=="/"?Tu:Eu,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",yi(w,za)),c.join("")};function hn(c){return new Vr(c)}function ms(c,y,w){c.j=w?Ve(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function pi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function mi(c,y,w){y instanceof fr?(c.i=y,hr(c.i,c.h)):(w||(y=yi(y,Su)),c.i=new fr(y,c.h))}function Ge(c,y,w){c.i.set(y,w)}function gi(c){return Ge(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ve(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function yi(c,y,w){return typeof c=="string"?(c=encodeURI(c).replace(y,wu),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function wu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var co=/[#\/\?@]/g,Eu=/[#\?:]/g,Tu=/[#\?]/g,Su=/[#\?@]/g,za=/#/g;function fr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function bt(c){c.g||(c.g=new Map,c.h=0,c.i&&of(c.i,function(y,w){c.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}n=fr.prototype,n.add=function(c,y){bt(this),this.i=null,c=Pn(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(y),this.h+=1,this};function Hn(c,y){bt(c),y=Pn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Wn(c,y){return bt(c),y=Pn(c,y),c.g.has(y)}n.forEach=function(c,y){bt(this),this.g.forEach(function(w,k){w.forEach(function(G){c.call(y,G,k,this)},this)},this)},n.na=function(){bt(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),w=[];for(let k=0;k<y.length;k++){const G=c[k];for(let Y=0;Y<G.length;Y++)w.push(y[k])}return w},n.V=function(c){bt(this);let y=[];if(typeof c=="string")Wn(this,c)&&(y=y.concat(this.g.get(Pn(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)y=y.concat(c[w])}return y},n.set=function(c,y){return bt(this),this.i=null,c=Pn(this,c),Wn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function _i(c,y,w){Hn(c,y),0<w.length&&(c.i=null,c.g.set(Pn(c,y),O(w)),c.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var w=0;w<y.length;w++){var k=y[w];const Y=encodeURIComponent(String(k)),ae=this.V(k);for(k=0;k<ae.length;k++){var G=Y;ae[k]!==""&&(G+="="+encodeURIComponent(String(ae[k]))),c.push(G)}}return this.i=c.join("&")};function Pn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function hr(c,y){y&&!c.j&&(bt(c),c.i=null,c.g.forEach(function(w,k){var G=k.toLowerCase();k!=G&&(Hn(this,k),_i(this,G,w))},c)),c.j=y}function af(c,y){const w=new us;if(d.Image){const k=new Image;k.onload=C(en,w,"TestLoadImage: loaded",!0,y,k),k.onerror=C(en,w,"TestLoadImage: error",!1,y,k),k.onabort=C(en,w,"TestLoadImage: abort",!1,y,k),k.ontimeout=C(en,w,"TestLoadImage: timeout",!1,y,k),d.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=c}else y(!1)}function Iu(c,y){const w=new us,k=new AbortController,G=setTimeout(()=>{k.abort(),en(w,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:k.signal}).then(Y=>{clearTimeout(G),Y.ok?en(w,"TestPingServer: ok",!0,y):en(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(G),en(w,"TestPingServer: error",!1,y)})}function en(c,y,w,k,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),k(w)}catch{}}function lf(){this.g=new Oa}function Cu(c,y,w){const k=w||"";try{hi(c,function(G,Y){let ae=G;p(G)&&(ae=ba(G)),y.push(k+Y+"="+encodeURIComponent(ae))})}catch(G){throw y.push(k+"type="+encodeURIComponent("_badmap")),G}}function jr(c){this.l=c.Ub||null,this.j=c.eb||!1}S(jr,as),jr.prototype.g=function(){return new gs(this.l,this.j)},jr.prototype.i=function(c){return function(){return c}}({});function gs(c,y){gt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(gs,gt),n=gs.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,qn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Gn(this):qn(this),this.readyState==3&&Pu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Gn(this))},n.Qa=function(c){this.g&&(this.response=c,Gn(this))},n.ga=function(){this.g&&Gn(this)};function Gn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,qn(c)}n.setRequestHeader=function(c,y){this.u.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=y.next();return c.join(`\r
`)};function qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(gs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Fr(c){let y="";return X(c,function(w,k){y+=k,y+=":",y+=w,y+=`\r
`}),y}function vi(c,y,w){e:{for(k in w){var k=!1;break e}k=!0}k||(w=Fr(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):Ge(c,y,w))}function et(c){gt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(et,gt);var uf=/^https?$/i,Ba=["POST","PUT"];n=et.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,y,w,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zn.g(),this.v=this.o?eo(this.o):eo(zn),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){ys(this,Y);return}if(c=w||"",w=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var G in k)w.set(G,k[G]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const Y of k.keys())w.set(Y,k.get(Y));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(w.keys()).find(Y=>Y.toLowerCase()=="content-type"),G=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ba,y,void 0))||k||G||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ae]of w)this.g.setRequestHeader(Y,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ho(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){ys(this,Y)}};function ys(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,fo(c),pn(c)}function fo(c){c.A||(c.A=!0,yt(c,"complete"),yt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,yt(this,"complete"),yt(this,"abort"),pn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pn(this,!0)),et.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ha(this):this.bb())},n.bb=function(){Ha(this)};function Ha(c){if(c.h&&typeof u<"u"&&(!c.v[1]||tn(c)!=4||c.Z()!=2)){if(c.u&&tn(c)==4)Ra(c.Ea,0,c);else if(yt(c,"readystatechange"),tn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var k;if(k=ae===0){var G=String(c.D).match(ps)[1]||null;!G&&d.self&&d.self.location&&(G=d.self.location.protocol.slice(0,-1)),k=!uf.test(G?G.toLowerCase():"")}w=k}if(w)yt(c,"complete"),yt(c,"success");else{c.m=6;try{var Y=2<tn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",fo(c)}}finally{pn(c)}}}}function pn(c,y){if(c.g){ho(c);const w=c.g,k=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||yt(c,"ready");try{w.onreadystatechange=k}catch{}}}function ho(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function tn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<tn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Na(y)}};function Wa(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function po(c){const y={};c=(c.g&&2<=tn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<c.length;k++){if(R(c[k]))continue;var w=V(c[k]);const G=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const Y=y[G]||[];y[G]=Y,Y.push(w)}M(y,function(k){return k.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pr(c,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||y}function Ga(c){this.Aa=0,this.i=[],this.j=new us,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pr("baseRetryDelayMs",5e3,c),this.cb=pr("retryDelaySeedMs",1e4,c),this.Wa=pr("forwardChannelMaxRetries",2,c),this.wa=pr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new hs(c&&c.concurrentRequestLimit),this.Da=new lf,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ga.prototype,n.la=8,n.G=1,n.connect=function(c,y,w,k){ct(0),this.W=c,this.H=y||{},w&&k!==void 0&&(this.H.OSID=w,this.H.OAID=k),this.F=this.X,this.I=ku(this,null,this.W),mr(this)};function Nt(c){if(mo(c),c.G==3){var y=c.U++,w=hn(c.I);if(Ge(w,"SID",c.K),Ge(w,"RID",y),Ge(w,"TYPE","terminate"),$r(c,w),y=new Bn(c,c.j,y),y.L=2,y.v=gi(hn(w)),w=!1,d.navigator&&d.navigator.sendBeacon)try{w=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!w&&d.Image&&(new Image().src=y.v,w=!0),w||(y.g=bu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ke(y)}Au(c)}function Kn(c){c.g&&(qa(c),c.g.cancel(),c.g=null)}function mo(c){Kn(c),c.u&&(d.clearTimeout(c.u),c.u=null),_o(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function mr(c){if(!fn(c.h)&&!c.s){c.s=!0;var y=c.Ga;Pe||oe(),re||(Pe(),re=!0),le.add(y,c),c.B=0}}function cf(c,y){return yu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=$n(E(c.Ga,c,y),Ru(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const G=new Bn(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=I(Y),L(Y,this.S)):Y=this.S),this.m!==null||this.O||(G.H=Y,Y=null),this.P)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var k=this.i[w];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(y+=k,4096<y){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=wi(this,G,y),w=hn(this.I),Ge(w,"RID",c),Ge(w,"CVER",22),this.D&&Ge(w,"X-HTTP-Session-Id",this.D),$r(this,w),Y&&(this.O?y="headers="+encodeURIComponent(String(Fr(Y)))+"&"+y:this.m&&vi(w,this.m,Y)),Ua(this.h,G),this.Ua&&Ge(w,"TYPE","init"),this.P?(Ge(w,"$req",y),Ge(w,"SID","null"),G.T=!0,ao(G,w,null)):ao(G,w,y),this.G=2}}else this.G==3&&(c?go(this,c):this.i.length==0||fn(this.h)||go(this))};function go(c,y){var w;y?w=y.l:w=c.U++;const k=hn(c.I);Ge(k,"SID",c.K),Ge(k,"RID",w),Ge(k,"AID",c.T),$r(c,k),c.m&&c.o&&vi(k,c.m,c.o),w=new Bn(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),y&&(c.i=y.D.concat(c.i)),y=wi(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ua(c.h,w),ao(w,k,y)}function $r(c,y){c.H&&X(c.H,function(w,k){Ge(y,k,w)}),c.l&&hi({},function(w,k){Ge(y,k,w)})}function wi(c,y,w){w=Math.min(c.i.length,w);var k=c.l?E(c.l.Na,c.l,c):null;e:{var G=c.i;let Y=-1;for(;;){const ae=["count="+w];Y==-1?0<w?(Y=G[0].g,ae.push("ofs="+Y)):Y=0:ae.push("ofs="+Y);let We=!0;for(let _t=0;_t<w;_t++){let Fe=G[_t].g;const Ct=G[_t].map;if(Fe-=Y,0>Fe)Y=Math.max(0,G[_t].g-100),We=!1;else try{Cu(Ct,ae,"req"+Fe+"_")}catch{k&&k(Ct)}}if(We){k=ae.join("&");break e}}}return c=c.i.splice(0,w),y.D=c,k}function _s(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;Pe||oe(),re||(Pe(),re=!0),le.add(y,c),c.v=0}}function yo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=$n(E(c.Fa,c),Ru(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=$n(E(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),Kn(this),xu(this))};function qa(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function xu(c){c.g=new Bn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=hn(c.qa);Ge(y,"RID","rpc"),Ge(y,"SID",c.K),Ge(y,"AID",c.T),Ge(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ge(y,"TO",c.ja),Ge(y,"TYPE","xmlhttp"),$r(c,y),c.m&&c.o&&vi(y,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=gi(hn(y)),w.m=null,w.P=!0,Fa(w,c)}n.Za=function(){this.C!=null&&(this.C=null,Kn(this),yo(this),ct(19))};function _o(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function vo(c,y){var w=null;if(c.g==y){_o(c),qa(c),c.g=null;var k=2}else if(Kt(c.h,y))w=y.D,_u(c.h,y),k=1;else return;if(c.G!=0){if(y.o)if(k==1){w=y.m?y.m.length:0,y=Date.now()-y.F;var G=c.B;k=ls(),yt(k,new ro(k,w)),mr(c)}else _s(c);else if(G=y.s,G==3||G==0&&0<y.X||!(k==1&&cf(c,y)||k==2&&yo(c)))switch(w&&0<w.length&&(y=c.h,y.i=y.i.concat(w)),G){case 1:Ur(c,5);break;case 4:Ur(c,10);break;case 3:Ur(c,6);break;default:Ur(c,2)}}}function Ru(c,y){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*y}function Ur(c,y){if(c.j.info("Error code "+y),y==2){var w=E(c.fb,c),k=c.Xa;const G=!k;k=new Vr(k||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ms(k,"https"),gi(k),G?af(k.toString(),w):Iu(k.toString(),w)}else ct(2);c.G=0,c.l&&c.l.sa(y),Au(c),mo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function Au(c){if(c.G=0,c.ka=[],c.l){const y=vu(c.h);(y.length!=0||c.i.length!=0)&&(b(c.ka,y),b(c.ka,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.ra()}}function ku(c,y,w){var k=w instanceof Vr?hn(w):new Vr(w);if(k.g!="")y&&(k.g=y+"."+k.g),pi(k,k.s);else{var G=d.location;k=G.protocol,y=y?y+"."+G.hostname:G.hostname,G=+G.port;var Y=new Vr(null);k&&ms(Y,k),y&&(Y.g=y),G&&pi(Y,G),w&&(Y.l=w),k=Y}return w=c.D,y=c.ya,w&&y&&Ge(k,w,y),Ge(k,"VER",c.la),$r(c,k),k}function bu(c,y,w){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new et(new jr({eb:w})):new et(c.pa),y.Ha(c.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ka(){}n=Ka.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function wo(){}wo.prototype.g=function(c,y){return new Qt(c,y)};function Qt(c,y){gt.call(this),this.g=new Ga(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!R(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!R(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new gr(this)}S(Qt,gt),Qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){Nt(this.g)},Qt.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=ba(c),c=w);y.i.push(new gu(y.Ya++,c)),y.G==3&&mr(y)},Qt.prototype.N=function(){this.g.l=null,delete this.j,Nt(this.g),delete this.g,Qt.aa.N.call(this)};function Nu(c){cr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const w in y){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}S(Nu,cr);function Ou(){no.call(this),this.status=1}S(Ou,no);function gr(c){this.g=c}S(gr,Ka),gr.prototype.ua=function(){yt(this.g,"a")},gr.prototype.ta=function(c){yt(this.g,new Nu(c))},gr.prototype.sa=function(c){yt(this.g,new Ou)},gr.prototype.ra=function(){yt(this.g,"b")},wo.prototype.createWebChannel=wo.prototype.g,Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,wT=function(){return new wo},vT=function(){return ls()},_T=dr,Vp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},so.NO_ERROR=0,so.TIMEOUT=8,so.HTTP_ERROR=6,Hc=so,fu.COMPLETE="complete",yT=fu,to.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",gt.prototype.listen=gt.prototype.K,kl=to,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,gT=et}).apply(typeof bc<"u"?bc:typeof self<"u"?self:typeof window<"u"?window:{});const Ov="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wa="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new mm("@firebase/firestore");function zo(){return Bs.logLevel}function fe(n,...e){if(Bs.logLevel<=De.DEBUG){const t=e.map(Lm);Bs.debug(`Firestore (${wa}): ${n}`,...t)}}function oi(n,...e){if(Bs.logLevel<=De.ERROR){const t=e.map(Lm);Bs.error(`Firestore (${wa}): ${n}`,...t)}}function sa(n,...e){if(Bs.logLevel<=De.WARN){const t=e.map(Lm);Bs.warn(`Firestore (${wa}): ${n}`,...t)}}function Lm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(n="Unexpected state"){const e=`FIRESTORE (${wa}) INTERNAL ASSERTION FAILED: `+n;throw oi(e),new Error(e)}function He(n,e){n||Re()}function ke(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends ui{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wt.UNAUTHENTICATED))}shutdown(){}}class $O{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class UO{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){He(this.o===void 0);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ki,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},d=f=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ki)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string"),new ET(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string"),new Wt(e)}}class zO{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class BO{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new zO(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WO{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){He(this.o===void 0);const r=a=>{a.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,fe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(He(typeof t.token=="string"),this.R=t.token,new HO(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=GO(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%e.length))}return r}}function je(n,e){return n<e?-1:n>e?1:0}function oa(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Tt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Se(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Se(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Se(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Tt(0,0))}static max(){return new Ae(new Tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Re(),r===void 0?r=e.length-t:r>e.length-t&&Re(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Tr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Tr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=Tr.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Tr.isNumericId(e),s=Tr.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Tr.extractNumericId(e).compare(Tr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qi.fromString(e.substring(4,e.length-2))}}class ut extends Tr{construct(e,t,r){return new ut(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new ut(t)}static emptyPath(){return new ut([])}}const qO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends Tr{construct(e,t,r){return new Vt(e,t,r)}static isValidIdentifier(e){return qO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Vt(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new Se(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new Se(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Se(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else d==="`"?(u=!u,s++):d!=="."||u?(r+=d,s++):(a(),s++)}if(a(),u)throw new Se(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(t)}static emptyPath(){return new Vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(ut.fromString(e))}static fromName(e){return new Ie(ut.fromString(e).popFirst(5))}static empty(){return new Ie(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ut.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new ut(e.slice()))}}function KO(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Ae.fromTimestamp(r===1e9?new Tt(t+1,0):new Tt(t,r));return new Xi(s,Ie.empty(),e)}function QO(n){return new Xi(n.readTime,n.key,-1)}class Xi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Xi(Ae.min(),Ie.empty(),-1)}static max(){return new Xi(Ae.max(),Ie.empty(),-1)}}function YO(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ie.comparator(n.documentKey,e.documentKey),t!==0?t:je(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ea(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==XO)throw n;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.reject(t)}static resolve(e){return new Z((t,r)=>{t(e)})}static reject(e){return new Z((t,r)=>{r(e)})}static waitFor(e){return new Z((t,r)=>{let s=0,a=0,u=!1;e.forEach(d=>{++s,d.next(()=>{++a,u&&a===s&&t()},f=>r(f))}),u=!0,a===s&&t()})}static or(e){let t=Z.resolve(!1);for(const r of e)t=t.next(s=>s?Z.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new Z((r,s)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next(g=>{u[p]=g,++d,d===a&&r(u)},g=>s(g))}})}static doWhile(e,t){return new Z((r,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):r()};a()})}}function ZO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ta(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}zd.oe=-1;function Bd(n){return n==null}function yd(n){return n===0&&1/n==-1/0}function eL(n){return typeof n=="number"&&Number.isInteger(n)&&!yd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Lv(e)),e=nL(n.get(t),e);return Lv(e)}function nL(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function Lv(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ws(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ST(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,t){this.comparator=e,this.root=t||Mt.EMPTY}insert(e,t){return new ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Mt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nc(this.root,e,this.comparator,!0)}}class Nc{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mt{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Mt.RED,this.left=s??Mt.EMPTY,this.right=a??Mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Mt(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Mt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}Mt.EMPTY=null,Mt.RED=!0,Mt.BLACK=!1;Mt.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,t,r,s,a){return this}insert(e,t,r){return new Mt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Mv(this.data.getIterator())}getIteratorFrom(e){return new Mv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof St)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new St(this.comparator);return t.data=e,t}}class Mv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new or([])}unionWith(e){let t=new St(Vt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new or(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return oa(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new IT("Invalid base64 string: "+a):a}}(e);return new jt(t)}static fromUint8Array(e){const t=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const rL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(n){if(He(!!n),typeof n=="string"){let e=0;const t=rL.exec(n);if(He(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ft(n.seconds),nanos:ft(n.nanos)}}function ft(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Zi(n){return typeof n=="string"?jt.fromBase64String(n):jt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Hd(n){const e=n.mapValue.fields.__previous_value__;return Dm(e)?Hd(e):e}function Wl(n){const e=Ji(n.mapValue.fields.__local_write_time__.timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e,t,r,s,a,u,d,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=p}}class Gl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Gl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function es(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Dm(n)?4:oL(n)?9007199254740991:sL(n)?10:11:Re()}function Ar(n,e){if(n===e)return!0;const t=es(n);if(t!==es(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Wl(n).isEqual(Wl(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=Ji(s.timestampValue),d=Ji(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return Zi(s.bytesValue).isEqual(Zi(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return ft(s.geoPointValue.latitude)===ft(a.geoPointValue.latitude)&&ft(s.geoPointValue.longitude)===ft(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return ft(s.integerValue)===ft(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=ft(s.doubleValue),d=ft(a.doubleValue);return u===d?yd(u)===yd(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return oa(n.arrayValue.values||[],e.arrayValue.values||[],Ar);case 10:case 11:return function(s,a){const u=s.mapValue.fields||{},d=a.mapValue.fields||{};if(Dv(u)!==Dv(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Ar(u[f],d[f])))return!1;return!0}(n,e);default:return Re()}}function ql(n,e){return(n.values||[]).find(t=>Ar(t,e))!==void 0}function aa(n,e){if(n===e)return 0;const t=es(n),r=es(e);if(t!==r)return je(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return je(n.booleanValue,e.booleanValue);case 2:return function(a,u){const d=ft(a.integerValue||a.doubleValue),f=ft(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return Vv(n.timestampValue,e.timestampValue);case 4:return Vv(Wl(n),Wl(e));case 5:return je(n.stringValue,e.stringValue);case 6:return function(a,u){const d=Zi(a),f=Zi(u);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const d=a.split("/"),f=u.split("/");for(let p=0;p<d.length&&p<f.length;p++){const g=je(d[p],f[p]);if(g!==0)return g}return je(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const d=je(ft(a.latitude),ft(u.latitude));return d!==0?d:je(ft(a.longitude),ft(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return jv(n.arrayValue,e.arrayValue);case 10:return function(a,u){var d,f,p,g;const v=a.fields||{},E=u.fields||{},C=(d=v.value)===null||d===void 0?void 0:d.arrayValue,S=(f=E.value)===null||f===void 0?void 0:f.arrayValue,O=je(((p=C==null?void 0:C.values)===null||p===void 0?void 0:p.length)||0,((g=S==null?void 0:S.values)===null||g===void 0?void 0:g.length)||0);return O!==0?O:jv(C,S)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Oc.mapValue&&u===Oc.mapValue)return 0;if(a===Oc.mapValue)return 1;if(u===Oc.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),p=u.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let v=0;v<f.length&&v<g.length;++v){const E=je(f[v],g[v]);if(E!==0)return E;const C=aa(d[f[v]],p[g[v]]);if(C!==0)return C}return je(f.length,g.length)}(n.mapValue,e.mapValue);default:throw Re()}}function Vv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return je(n,e);const t=Ji(n),r=Ji(e),s=je(t.seconds,r.seconds);return s!==0?s:je(t.nanos,r.nanos)}function jv(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=aa(t[s],r[s]);if(a)return a}return je(t.length,r.length)}function la(n){return jp(n)}function jp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ji(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Zi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ie.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=jp(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${jp(t.fields[u])}`;return s+"}"}(n.mapValue):Re()}function Wc(n){switch(es(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hd(n);return e?16+Wc(e):16;case 5:return 2*n.stringValue.length;case 6:return Zi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+Wc(a),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return Ws(r.fields,(a,u)=>{s+=a.length+Wc(u)}),s}(n.mapValue);default:throw Re()}}function Fp(n){return!!n&&"integerValue"in n}function Mm(n){return!!n&&"arrayValue"in n}function Fv(n){return!!n&&"nullValue"in n}function $v(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Gc(n){return!!n&&"mapValue"in n}function sL(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ml(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ws(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ml(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ml(n.arrayValue.values[t]);return e}return Object.assign({},n)}function oL(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Gc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ml(t)}setAll(e){let t=Vt.emptyPath(),r={},s=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=d.popLast()}u?r[d.lastSegment()]=Ml(u):s.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());Gc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ar(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Gc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Ws(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new Vn(Ml(this.value))}}function CT(n){const e=[];return Ws(n.fields,(t,r)=>{const s=new Vt([t]);if(Gc(r)){const a=CT(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,t,r,s,a,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Gt(e,0,Ae.min(),Ae.min(),Ae.min(),Vn.empty(),0)}static newFoundDocument(e,t,r,s){return new Gt(e,1,t,Ae.min(),r,s,0)}static newNoDocument(e,t){return new Gt(e,2,t,Ae.min(),Ae.min(),Vn.empty(),0)}static newUnknownDocument(e,t){return new Gt(e,3,t,Ae.min(),Ae.min(),Vn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,t){this.position=e,this.inclusive=t}}function Uv(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],u=n.position[s];if(a.field.isKeyField()?r=Ie.comparator(Ie.fromName(u.referenceValue),t.key):r=aa(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function zv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ar(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,t="asc"){this.field=e,this.dir=t}}function aL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{}class Et extends PT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new uL(e,t,r):t==="array-contains"?new fL(e,r):t==="in"?new hL(e,r):t==="not-in"?new pL(e,r):t==="array-contains-any"?new mL(e,r):new Et(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new cL(e,r):new dL(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(aa(t,this.value)):t!==null&&es(this.value)===es(t)&&this.matchesComparison(aa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kr extends PT{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new kr(e,t)}matches(e){return xT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function xT(n){return n.op==="and"}function RT(n){return lL(n)&&xT(n)}function lL(n){for(const e of n.filters)if(e instanceof kr)return!1;return!0}function $p(n){if(n instanceof Et)return n.field.canonicalString()+n.op.toString()+la(n.value);if(RT(n))return n.filters.map(e=>$p(e)).join(",");{const e=n.filters.map(t=>$p(t)).join(",");return`${n.op}(${e})`}}function AT(n,e){return n instanceof Et?function(r,s){return s instanceof Et&&r.op===s.op&&r.field.isEqual(s.field)&&Ar(r.value,s.value)}(n,e):n instanceof kr?function(r,s){return s instanceof kr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,u,d)=>a&&AT(u,s.filters[d]),!0):!1}(n,e):void Re()}function kT(n){return n instanceof Et?function(t){return`${t.field.canonicalString()} ${t.op} ${la(t.value)}`}(n):n instanceof kr?function(t){return t.op.toString()+" {"+t.getFilters().map(kT).join(" ,")+"}"}(n):"Filter"}class uL extends Et{constructor(e,t,r){super(e,t,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const t=Ie.comparator(e.key,this.key);return this.matchesComparison(t)}}class cL extends Et{constructor(e,t){super(e,"in",t),this.keys=bT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class dL extends Et{constructor(e,t){super(e,"not-in",t),this.keys=bT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function bT(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ie.fromName(r.referenceValue))}class fL extends Et{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Mm(t)&&ql(t.arrayValue,this.value)}}class hL extends Et{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ql(this.value.arrayValue,t)}}class pL extends Et{constructor(e,t){super(e,"not-in",t)}matches(e){if(ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!ql(this.value.arrayValue,t)}}class mL extends Et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Mm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ql(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e,t=null,r=[],s=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=d,this.ue=null}}function Bv(n,e=null,t=[],r=[],s=null,a=null,u=null){return new gL(n,e,t,r,s,a,u)}function Vm(n){const e=ke(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>$p(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Bd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>la(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>la(r)).join(",")),e.ue=t}return e.ue}function jm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!aL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!AT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!zv(n.startAt,e.startAt)&&zv(n.endAt,e.endAt)}function Up(n){return Ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,t=null,r=[],s=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function yL(n,e,t,r,s,a,u,d){return new Wd(n,e,t,r,s,a,u,d)}function Fm(n){return new Wd(n)}function Hv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function _L(n){return n.collectionGroup!==null}function Vl(n){const e=ke(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new St(Vt.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new vd(a,r))}),t.has(Vt.keyField().canonicalString())||e.ce.push(new vd(Vt.keyField(),r))}return e.ce}function xr(n){const e=ke(n);return e.le||(e.le=vL(e,Vl(n))),e.le}function vL(n,e){if(n.limitType==="F")return Bv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new vd(s.field,a)});const t=n.endAt?new _d(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new _d(n.startAt.position,n.startAt.inclusive):null;return Bv(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function zp(n,e,t){return new Wd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Gd(n,e){return jm(xr(n),xr(e))&&n.limitType===e.limitType}function NT(n){return`${Vm(xr(n))}|lt:${n.limitType}`}function Bo(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>kT(s)).join(", ")}]`),Bd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>la(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>la(s)).join(",")),`Target(${r})`}(xr(n))}; limitType=${n.limitType})`}function qd(n,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ie.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,s){for(const a of Vl(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,d,f){const p=Uv(u,d,f);return u.inclusive?p<=0:p<0}(r.startAt,Vl(r),s)||r.endAt&&!function(u,d,f){const p=Uv(u,d,f);return u.inclusive?p>=0:p>0}(r.endAt,Vl(r),s))}(n,e)}function wL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function OT(n){return(e,t)=>{let r=!1;for(const s of Vl(n)){const a=EL(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function EL(n,e,t){const r=n.field.isKeyField()?Ie.comparator(e.key,t.key):function(a,u,d){const f=u.data.field(a),p=d.data.field(a);return f!==null&&p!==null?aa(f,p):Re()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ws(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return ST(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL=new ot(Ie.comparator);function ai(){return TL}const LT=new ot(Ie.comparator);function bl(...n){let e=LT;for(const t of n)e=e.insert(t.key,t);return e}function DT(n){let e=LT;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ds(){return jl()}function MT(){return jl()}function jl(){return new Gs(n=>n.toString(),(n,e)=>n.isEqual(e))}const SL=new ot(Ie.comparator),IL=new St(Ie.comparator);function Me(...n){let e=IL;for(const t of n)e=e.add(t);return e}const CL=new St(je);function PL(){return CL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yd(e)?"-0":e}}function VT(n){return{integerValue:""+n}}function xL(n,e){return eL(e)?VT(e):$m(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(){this._=void 0}}function RL(n,e,t){return n instanceof wd?function(s,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Dm(a)&&(a=Hd(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):n instanceof Kl?FT(n,e):n instanceof Ql?$T(n,e):function(s,a){const u=jT(s,a),d=Wv(u)+Wv(s.Pe);return Fp(u)&&Fp(s.Pe)?VT(d):$m(s.serializer,d)}(n,e)}function AL(n,e,t){return n instanceof Kl?FT(n,e):n instanceof Ql?$T(n,e):t}function jT(n,e){return n instanceof Ed?function(r){return Fp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class wd extends Kd{}class Kl extends Kd{constructor(e){super(),this.elements=e}}function FT(n,e){const t=UT(e);for(const r of n.elements)t.some(s=>Ar(s,r))||t.push(r);return{arrayValue:{values:t}}}class Ql extends Kd{constructor(e){super(),this.elements=e}}function $T(n,e){let t=UT(e);for(const r of n.elements)t=t.filter(s=>!Ar(s,r));return{arrayValue:{values:t}}}class Ed extends Kd{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Wv(n){return ft(n.integerValue||n.doubleValue)}function UT(n){return Mm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function kL(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Kl&&s instanceof Kl||r instanceof Ql&&s instanceof Ql?oa(r.elements,s.elements,Ar):r instanceof Ed&&s instanceof Ed?Ar(r.Pe,s.Pe):r instanceof wd&&s instanceof wd}(n.transform,e.transform)}class bL{constructor(e,t){this.version=e,this.transformResults=t}}class ni{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Qd{}function zT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new HT(n.key,ni.none()):new ou(n.key,n.data,ni.none());{const t=n.data,r=Vn.empty();let s=new St(Vt.comparator);for(let a of e.fields)if(!s.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new qs(n.key,r,new or(s.toArray()),ni.none())}}function NL(n,e,t){n instanceof ou?function(s,a,u){const d=s.value.clone(),f=qv(s.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof qs?function(s,a,u){if(!qc(s.precondition,a))return void a.convertToUnknownDocument(u.version);const d=qv(s.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(BT(s)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Fl(n,e,t,r){return n instanceof ou?function(a,u,d,f){if(!qc(a.precondition,u))return d;const p=a.value.clone(),g=Kv(a.fieldTransforms,f,u);return p.setAll(g),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof qs?function(a,u,d,f){if(!qc(a.precondition,u))return d;const p=Kv(a.fieldTransforms,f,u),g=u.data;return g.setAll(BT(a)),g.setAll(p),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(a,u,d){return qc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function OL(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=jT(r.transform,s||null);a!=null&&(t===null&&(t=Vn.empty()),t.set(r.field,a))}return t||null}function Gv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&oa(r,s,(a,u)=>kL(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ou extends Qd{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class qs extends Qd{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function BT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function qv(n,e,t){const r=new Map;He(n.length===t.length);for(let s=0;s<t.length;s++){const a=n[s],u=a.transform,d=e.data.field(a.field);r.set(a.field,AL(u,d,t[s]))}return r}function Kv(n,e,t){const r=new Map;for(const s of n){const a=s.transform,u=t.data.field(s.field);r.set(s.field,RL(a,u,e))}return r}class HT extends Qd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LL extends Qd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&NL(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Fl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Fl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=MT();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(s.key)?null:d;const f=zT(u,d);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Ae.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&oa(this.mutations,e.mutations,(t,r)=>Gv(t,r))&&oa(this.baseMutations,e.baseMutations,(t,r)=>Gv(t,r))}}class Um{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){He(e.mutations.length===r.length);let s=function(){return SL}();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new Um(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,$e;function jL(n){switch(n){default:return Re();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function WT(n){if(n===void 0)return oi("GRPC error has no .code"),ie.UNKNOWN;switch(n){case mt.OK:return ie.OK;case mt.CANCELLED:return ie.CANCELLED;case mt.UNKNOWN:return ie.UNKNOWN;case mt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case mt.INTERNAL:return ie.INTERNAL;case mt.UNAVAILABLE:return ie.UNAVAILABLE;case mt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case mt.NOT_FOUND:return ie.NOT_FOUND;case mt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case mt.ABORTED:return ie.ABORTED;case mt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case mt.DATA_LOSS:return ie.DATA_LOSS;default:return Re()}}($e=mt||(mt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L=new qi([4294967295,4294967295],0);function Qv(n){const e=FL().encode(n),t=new mT;return t.update(e),new Uint8Array(t.digest())}function Yv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new qi([t,r],0),new qi([s,a],0)]}class zm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Nl(`Invalid padding: ${t}`);if(r<0)throw new Nl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=qi.fromNumber(this.Te)}de(e,t,r){let s=e.add(t.multiply(qi.fromNumber(r)));return s.compare($L)===1&&(s=new qi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Qv(e),[r,s]=Yv(t);for(let a=0;a<this.hashCount;a++){const u=this.de(r,s,a);if(!this.Ee(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new zm(a,s,t);return r.forEach(d=>u.insert(d)),u}insert(e){if(this.Te===0)return;const t=Qv(e),[r,s]=Yv(t);for(let a=0;a<this.hashCount;a++){const u=this.de(r,s,a);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Yd(Ae.min(),s,new ot(je),ai(),Me())}}class au{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new au(r,t,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,t,r,s){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=s}}class GT{constructor(e,t){this.targetId=e,this.me=t}}class qT{constructor(e,t,r=jt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class Xv{constructor(){this.fe=0,this.ge=Jv(),this.pe=jt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Me(),t=Me(),r=Me();return this.ge.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Re()}}),new au(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=Jv()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,He(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class UL{constructor(e){this.Be=e,this.Le=new Map,this.ke=ai(),this.qe=Lc(),this.Qe=Lc(),this.Ke=new ot(je)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:Re()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((r,s)=>{this.je(s)&&t(s)})}Je(e){const t=e.targetId,r=e.me.count,s=this.Ye(t);if(s){const a=s.target;if(Up(a))if(r===0){const u=new Ie(a.path);this.We(t,u,Gt.newNoDocument(u,Ae.min()))}else He(r===1);else{const u=this.Ze(t);if(u!==r){const d=this.Xe(e),f=d?this.et(d,e,u):1;if(f!==0){this.He(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,p)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let u,d;try{u=Zi(r).toUint8Array()}catch(f){if(f instanceof IT)return sa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new zm(u,s,a)}catch(f){return sa(f instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.Te===0?null:d}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Be.getRemoteKeysForTarget(t);let s=0;return r.forEach(a=>{const u=this.Be.nt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.We(t,a,null),s++)}),s}it(e){const t=new Map;this.Le.forEach((a,u)=>{const d=this.Ye(u);if(d){if(a.current&&Up(d.target)){const f=new Ie(d.target.path);this.st(f).has(u)||this.ot(u,f)||this.We(u,f,Gt.newNoDocument(f,e))}a.be&&(t.set(u,a.ve()),a.Ce())}});let r=Me();this.Qe.forEach((a,u)=>{let d=!0;u.forEachWhile(f=>{const p=this.Ye(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(e));const s=new Yd(e,t,this.Ke,this.ke,r);return this.ke=ai(),this.qe=Lc(),this.Qe=Lc(),this.Ke=new ot(je),s}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const s=this.ze(e);this.ot(e,t)?s.Fe(t,1):s.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new Xv,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new St(je),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new St(je),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new Xv),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function Lc(){return new ot(Ie.comparator)}function Jv(){return new ot(Ie.comparator)}const zL={asc:"ASCENDING",desc:"DESCENDING"},BL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HL={and:"AND",or:"OR"};class WL{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Bp(n,e){return n.useProto3Json||Bd(e)?e:{value:e}}function Td(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function GL(n,e){return Td(n,e.toTimestamp())}function Rr(n){return He(!!n),Ae.fromTimestamp(function(t){const r=Ji(t);return new Tt(r.seconds,r.nanos)}(n))}function Bm(n,e){return Hp(n,e).canonicalString()}function Hp(n,e){const t=function(s){return new ut(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function QT(n){const e=ut.fromString(n);return He(eS(e)),e}function Wp(n,e){return Bm(n.databaseId,e.path)}function lp(n,e){const t=QT(e);if(t.get(1)!==n.databaseId.projectId)throw new Se(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Se(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ie(XT(t))}function YT(n,e){return Bm(n.databaseId,e)}function qL(n){const e=QT(n);return e.length===4?ut.emptyPath():XT(e)}function Gp(n){return new ut(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function XT(n){return He(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Zv(n,e,t){return{name:Wp(n,e),fields:t.value.mapValue.fields}}function KL(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(He(g===void 0||typeof g=="string"),jt.fromBase64String(g||"")):(He(g===void 0||g instanceof Buffer||g instanceof Uint8Array),jt.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(p){const g=p.code===void 0?ie.UNKNOWN:WT(p.code);return new Se(g,p.message||"")}(u);t=new qT(r,s,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=lp(n,r.document.name),a=Rr(r.document.updateTime),u=r.document.createTime?Rr(r.document.createTime):Ae.min(),d=new Vn({mapValue:{fields:r.document.fields}}),f=Gt.newFoundDocument(s,a,u,d),p=r.targetIds||[],g=r.removedTargetIds||[];t=new Kc(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=lp(n,r.document),a=r.readTime?Rr(r.readTime):Ae.min(),u=Gt.newNoDocument(s,a),d=r.removedTargetIds||[];t=new Kc([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=lp(n,r.document),a=r.removedTargetIds||[];t=new Kc([],a,s,null)}else{if(!("filter"in e))return Re();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new VL(s,a),d=r.targetId;t=new GT(d,u)}}return t}function QL(n,e){let t;if(e instanceof ou)t={update:Zv(n,e.key,e.value)};else if(e instanceof HT)t={delete:Wp(n,e.key)};else if(e instanceof qs)t={update:Zv(n,e.key,e.data),updateMask:iD(e.fieldMask)};else{if(!(e instanceof LL))return Re();t={verify:Wp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const d=u.transform;if(d instanceof wd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Kl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ql)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Ed)return{fieldPath:u.field.canonicalString(),increment:d.Pe};throw Re()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:GL(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Re()}(n,e.precondition)),t}function YL(n,e){return n&&n.length>0?(He(e!==void 0),n.map(t=>function(s,a){let u=s.updateTime?Rr(s.updateTime):Rr(a);return u.isEqual(Ae.min())&&(u=Rr(a)),new bL(u,s.transformResults||[])}(t,e))):[]}function XL(n,e){return{documents:[YT(n,e.path)]}}function JL(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=YT(n,s);const a=function(p){if(p.length!==0)return ZT(kr.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(p){if(p.length!==0)return p.map(g=>function(E){return{field:Ho(E.field),direction:tD(E.dir)}}(g))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=Bp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ct:t,parent:s}}function ZL(n){let e=qL(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){He(r===1);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=function(v){const E=JT(v);return E instanceof kr&&RT(E)?E.getFilters():[E]}(t.where));let u=[];t.orderBy&&(u=function(v){return v.map(E=>function(S){return new vd(Wo(S.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(E))}(t.orderBy));let d=null;t.limit&&(d=function(v){let E;return E=typeof v=="object"?v.value:v,Bd(E)?null:E}(t.limit));let f=null;t.startAt&&(f=function(v){const E=!!v.before,C=v.values||[];return new _d(C,E)}(t.startAt));let p=null;return t.endAt&&(p=function(v){const E=!v.before,C=v.values||[];return new _d(C,E)}(t.endAt)),yL(e,s,u,a,d,"F",f,p)}function eD(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function JT(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Wo(t.unaryFilter.field);return Et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Wo(t.unaryFilter.field);return Et.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Wo(t.unaryFilter.field);return Et.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Wo(t.unaryFilter.field);return Et.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(n):n.fieldFilter!==void 0?function(t){return Et.create(Wo(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return kr.create(t.compositeFilter.filters.map(r=>JT(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Re()}}(t.compositeFilter.op))}(n):Re()}function tD(n){return zL[n]}function nD(n){return BL[n]}function rD(n){return HL[n]}function Ho(n){return{fieldPath:n.canonicalString()}}function Wo(n){return Vt.fromServerFormat(n.fieldPath)}function ZT(n){return n instanceof Et?function(t){if(t.op==="=="){if($v(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NAN"}};if(Fv(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($v(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NOT_NAN"}};if(Fv(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ho(t.field),op:nD(t.op),value:t.value}}}(n):n instanceof kr?function(t){const r=t.getFilters().map(s=>ZT(s));return r.length===1?r[0]:{compositeFilter:{op:rD(t.op),filters:r}}}(n):Re()}function iD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function eS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,t,r,s,a=Ae.min(),u=Ae.min(),d=jt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e){this.ht=e}}function oD(n){const e=ZL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?zp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(){this.ln=new lD}addToCollectionParentIndex(e,t){return this.ln.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(Xi.min())}updateCollectionGroup(e,t,r){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class lD{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new St(ut.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new St(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(41943040,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new ua(0)}static Qn(){return new ua(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw([n,e],[t,r]){const s=je(n,t);return s===0?je(e,r):s}class uD{constructor(e){this.Gn=e,this.buffer=new St(tw),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();tw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class cD{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){fe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ta(t)?fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Ea(t)}await this.Yn(3e5)})}}class dD{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(zd.oe);const r=new uD(t);return this.Zn.forEachTarget(e,s=>r.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>r.Hn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(ew)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ew):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,s,a,u,d,f,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,u=Date.now(),this.nthSequenceNumber(e,s))).next(v=>(r=v,d=Date.now(),this.removeTargets(e,r,t))).next(v=>(a=v,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(p=Date.now(),zo()<=De.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${s} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${v} documents in `+(p-f)+`ms
Total Duration: ${p-g}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:v})))}}function fD(n,e){return new dD(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this.changes=new Gs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&Fl(r.mutation,s,or.empty(),Tt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Me()){const s=Ds();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let u=bl();return a.forEach((d,f)=>{u=u.insert(d,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Ds();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Me()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,r,s){let a=ai();const u=jl(),d=function(){return jl()}();return t.forEach((f,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof qs)?a=a.insert(p.key,p):g!==void 0?(u.set(p.key,g.mutation.getFieldMask()),Fl(g.mutation,p,g.mutation.getFieldMask(),Tt.now())):u.set(p.key,or.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,g)=>u.set(p,g)),t.forEach((p,g)=>{var v;return d.set(p,new pD(g,(v=u.get(p))!==null&&v!==void 0?v:null))}),d))}recalculateAndSaveOverlays(e,t){const r=jl();let s=new ot((u,d)=>u-d),a=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let g=r.get(f)||or.empty();g=d.applyToLocalView(p,g),r.set(f,g);const v=(s.get(d.batchId)||Me()).add(f);s=s.insert(d.batchId,v)})}).next(()=>{const u=[],d=s.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),p=f.key,g=f.value,v=MT();g.forEach(E=>{if(!a.has(E)){const C=zT(t.get(E),r.get(E));C!==null&&v.set(E,C),a=a.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,v))}return Z.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return Ie.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_L(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):Z.resolve(Ds());let d=-1,f=a;return u.next(p=>Z.forEach(p,(g,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),a.get(g)?Z.resolve():this.remoteDocumentCache.getEntry(e,g).next(E=>{f=f.insert(g,E)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,Me())).next(g=>({batchId:d,changes:DT(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ie(t)).next(r=>{let s=bl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let u=bl();return this.indexManager.getCollectionParents(e,a).next(d=>Z.forEach(d,f=>{const p=function(v,E){return new Wd(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(g=>{g.forEach((v,E)=>{u=u.insert(v,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s))).next(u=>{a.forEach((f,p)=>{const g=p.getKey();u.get(g)===null&&(u=u.insert(g,Gt.newInvalidDocument(g)))});let d=bl();return u.forEach((f,p)=>{const g=a.get(f);g!==void 0&&Fl(g.mutation,p,or.empty(),Tt.now()),qd(t,p)&&(d=d.insert(f,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Z.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Rr(s.createTime)}}(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(s){return{name:s.name,query:oD(s.bundledQuery),readTime:Rr(s.readTime)}}(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.overlays=new ot(Ie.comparator),this.dr=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ds();return Z.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.Tt(e,t,a)}),Z.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.dr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.dr.delete(r)),Z.resolve()}getOverlaysForCollection(e,t,r){const s=Ds(),a=t.length+1,u=new Ie(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return Z.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new ot((p,g)=>p-g);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=Ds(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const d=Ds(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,g)=>d.set(p,g)),!(d.size()>=s)););return Z.resolve(d)}Tt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.dr.get(s.largestBatchId).delete(r.key);this.dr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new ML(t,r));let a=this.dr.get(t);a===void 0&&(a=Me(),this.dr.set(t,a)),this.dr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(){this.Er=new St(kt.Ar),this.Rr=new St(kt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const r=new kt(e,t);this.Er=this.Er.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new kt(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new Ie(new ut([])),r=new kt(t,e),s=new kt(t,e+1),a=[];return this.Rr.forEachInRange([r,s],u=>{this.gr(u),a.push(u.key)}),a}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Ie(new ut([])),r=new kt(t,e),s=new kt(t,e+1);let a=Me();return this.Rr.forEachInRange([r,s],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new kt(e,0),r=this.Er.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class kt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Ie.comparator(e.key,t.key)||je(e.br,t.br)}static Vr(e,t){return je(e.br,t.br)||Ie.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new St(kt.Ar)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new DL(a,t,r,s);this.mutationQueue.push(u);for(const d of s)this.vr=this.vr.add(new kt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Z.resolve(u)}lookupMutationBatch(e,t){return Z.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Fr(r),a=s<0?0:s;return Z.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new kt(t,0),s=new kt(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([r,s],u=>{const d=this.Cr(u.br);a.push(d)}),Z.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new St(je);return t.forEach(s=>{const a=new kt(s,0),u=new kt(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,u],d=>{r=r.add(d.br)})}),Z.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;Ie.isDocumentKey(a)||(a=a.child(""));const u=new kt(new Ie(a),0);let d=new St(je);return this.vr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(d=d.add(f.br)),!0)},u),Z.resolve(this.Mr(d))}Mr(e){const t=[];return e.forEach(r=>{const s=this.Cr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){He(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return Z.forEach(t.mutations,s=>{const a=new kt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=r})}Bn(e){}containsKey(e,t){const r=new kt(t,0),s=this.vr.firstAfterOrEqual(r);return Z.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.Nr=e,this.docs=function(){return new ot(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,u=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Z.resolve(r?r.document.mutableCopy():Gt.newInvalidDocument(t))}getEntries(e,t){let r=ai();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Gt.newInvalidDocument(s))}),Z.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=ai();const u=t.path,d=new Ie(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||YO(QO(g),r)<=0||(s.has(g.key)||qd(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return Z.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Re()}Br(e,t){return Z.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new ED(this)}getSize(e){return Z.resolve(this.size)}}class ED extends hD{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.hr.addEntry(e,s)):this.hr.removeEntry(r)}),Z.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.persistence=e,this.Lr=new Gs(t=>Vm(t),jm),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.kr=0,this.qr=new Hm,this.targetCount=0,this.Qr=ua.qn()}forEachTarget(e,t){return this.Lr.forEach((r,s)=>t(s)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),Z.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new ua(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.Un(t),Z.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.Lr.forEach((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.Lr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),Z.waitFor(a).next(()=>s)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const r=this.Lr.get(t)||null;return Z.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),Z.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),Z.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return Z.resolve(r)}containsKey(e,t){return Z.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,t){this.Kr={},this.overlays={},this.$r=new zd(0),this.Ur=!1,this.Ur=!0,this.Wr=new _D,this.referenceDelegate=e(this),this.Gr=new TD(this),this.indexManager=new aD,this.remoteDocumentCache=function(s){return new wD(s)}(r=>this.referenceDelegate.zr(r)),this.serializer=new sD(t),this.jr=new gD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new vD(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){fe("MemoryPersistence","Starting transaction:",e);const s=new SD(this.$r.next());return this.referenceDelegate.Hr(),r(s).next(a=>this.referenceDelegate.Jr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Yr(e,t){return Z.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class SD extends JO{constructor(e){super(),this.currentSequenceNumber=e}}class Wm{constructor(e){this.persistence=e,this.Zr=new Hm,this.Xr=null}static ei(e){return new Wm(e)}get ti(){if(this.Xr)return this.Xr;throw Re()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),Z.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Z.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(s=>this.ti.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.ti.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ti,r=>{const s=Ie.fromPath(r);return this.ni(e,s).next(a=>{a||t.removeEntry(s,Ae.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return Z.or([()=>Z.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Sd{constructor(e,t){this.persistence=e,this.ri=new Gs(r=>tL(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=fD(this,t)}static ei(e,t){return new Sd(e,t)}Hr(){}Jr(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return Z.forEach(this.ri,(r,s)=>this.ir(e,r,s).next(a=>a?Z.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.Br(e,u=>this.ir(e,u,t).next(d=>{d||(r++,a.removeEntry(u,Ae.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Z.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Wc(e.data.value)),t}ir(e,t,r){return Z.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.ri.get(t);return Z.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=s}static zi(e,t){let r=Me(),s=Me();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Gm(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return ZP()?8:ZO(qt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.Xi(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.es(e,t,s,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new ID;return this.ts(e,t,u).next(d=>{if(a.result=d,this.Hi)return this.ns(e,t,u,d.size)})}).next(()=>a.result)}ns(e,t,r,s){return r.documentReadCount<this.Ji?(zo()<=De.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Bo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Z.resolve()):(zo()<=De.DEBUG&&fe("QueryEngine","Query:",Bo(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Yi*s?(zo()<=De.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Bo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xr(t))):Z.resolve())}Xi(e,t){if(Hv(t))return Z.resolve(null);let r=xr(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=zp(t,null,"F"),r=xr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Me(...a);return this.Zi.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.rs(t,d);return this.ss(t,p,u,f.readTime)?this.Xi(e,zp(t,null,"F")):this.os(e,p,t,f)}))})))}es(e,t,r,s){return Hv(t)||s.isEqual(Ae.min())?Z.resolve(null):this.Zi.getDocuments(e,r).next(a=>{const u=this.rs(t,a);return this.ss(t,u,r,s)?Z.resolve(null):(zo()<=De.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Bo(t)),this.os(e,u,t,KO(s,-1)).next(d=>d))})}rs(e,t){let r=new St(OT(e));return t.forEach((s,a)=>{qd(e,a)&&(r=r.add(a))}),r}ss(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ts(e,t,r){return zo()<=De.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Bo(t)),this.Zi.getDocumentsMatchingQuery(e,t,Xi.min(),r)}os(e,t,r,s){return this.Zi.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,t,r,s){this.persistence=e,this._s=t,this.serializer=s,this.us=new ot(je),this.cs=new Gs(a=>Vm(a),jm),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mD(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function xD(n,e,t,r){return new PD(n,e,t,r)}async function nS(n,e){const t=ke(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],d=[];let f=Me();for(const p of s){u.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of a){d.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next(p=>({Ts:p,removedBatchIds:u,addedBatchIds:d}))})})}function RD(n,e){const t=ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(d,f,p,g){const v=p.batch,E=v.keys();let C=Z.resolve();return E.forEach(S=>{C=C.next(()=>g.getEntry(f,S)).next(O=>{const b=p.docVersions.get(S);He(b!==null),O.version.compareTo(b)<0&&(v.applyToRemoteDocument(O,p),O.isValidDocument()&&(O.setReadTime(p.commitVersion),g.addEntry(O)))})}),C.next(()=>d.mutationQueue.removeMutationBatch(f,v))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=Me();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(f=f.add(d.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function rS(n){const e=ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function AD(n,e){const t=ke(n),r=e.snapshotVersion;let s=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.hs.newChangeBuffer({trackRemovals:!0});s=t.us;const d=[];e.targetChanges.forEach((g,v)=>{const E=s.get(v);if(!E)return;d.push(t.Gr.removeMatchingKeys(a,g.removedDocuments,v).next(()=>t.Gr.addMatchingKeys(a,g.addedDocuments,v)));let C=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?C=C.withResumeToken(jt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):g.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(g.resumeToken,r)),s=s.insert(v,C),function(O,b,D){return O.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(E,C,g)&&d.push(t.Gr.updateTargetData(a,C))});let f=ai(),p=Me();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))}),d.push(kD(a,u,e.documentUpdates).next(g=>{f=g.Is,p=g.ds})),!r.isEqual(Ae.min())){const g=t.Gr.getLastRemoteSnapshotVersion(a).next(v=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,r));d.push(g)}return Z.waitFor(d).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(t.us=s,a))}function kD(n,e,t){let r=Me(),s=Me();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=ai();return t.forEach((d,f)=>{const p=a.get(d);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(d)),f.isNoDocument()&&f.version.isEqual(Ae.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):fe("LocalStore","Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",f.version)}),{Is:u,ds:s}})}function bD(n,e){const t=ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ND(n,e){const t=ke(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Gr.getTargetData(r,e).next(a=>a?(s=a,Z.resolve(s)):t.Gr.allocateTargetId(r).next(u=>(s=new Bi(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.us.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}async function qp(n,e,t){const r=ke(n),s=r.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!Ta(u))throw u;fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.us=r.us.remove(e),r.cs.delete(s.target)}function nw(n,e,t){const r=ke(n);let s=Ae.min(),a=Me();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,p,g){const v=ke(f),E=v.cs.get(g);return E!==void 0?Z.resolve(v.us.get(E)):v.Gr.getTargetData(p,g)}(r,u,xr(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(u,d.targetId).next(f=>{a=f})}).next(()=>r._s.getDocumentsMatchingQuery(u,e,t?s:Ae.min(),t?a:Me())).next(d=>(OD(r,wL(e),d),{documents:d,Es:a})))}function OD(n,e,t){let r=n.ls.get(e)||Ae.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.ls.set(e,r)}class rw{constructor(){this.activeTargetIds=PL()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LD{constructor(){this._o=new rw,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new rw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc=null;function up(){return Dc===null?Dc=function(){return 268435456+Math.round(2147483648*Math.random())}():Dc++,"0x"+Dc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class jD extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${s}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Oo(t,r,s,a,u){const d=up(),f=this.No(t,r.toUriEncodedString());fe("RestConnection",`Sending RPC '${t}' ${d}:`,f,s);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(p,a,u),this.Lo(t,f,p,s).then(g=>(fe("RestConnection",`Received RPC '${t}' ${d}: `,g),g),g=>{throw sa("RestConnection",`RPC '${t}' ${d} failed with error: `,g,"url: ",f,"request:",s),g})}ko(t,r,s,a,u,d){return this.Oo(t,r,s,a,u)}Bo(t,r,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,u)=>t[u]=a),s&&s.headers.forEach((a,u)=>t[u]=a)}No(t,r){const s=MD[t];return`${this.Fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,r,s){const a=up();return new Promise((u,d)=>{const f=new gT;f.setWithCredentials(!0),f.listenOnce(yT.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Hc.NO_ERROR:const g=f.getResponseJson();fe(Bt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),u(g);break;case Hc.TIMEOUT:fe(Bt,`RPC '${e}' ${a} timed out`),d(new Se(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Hc.HTTP_ERROR:const v=f.getStatus();if(fe(Bt,`RPC '${e}' ${a} failed with status:`,v,"response text:",f.getResponseText()),v>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const C=E==null?void 0:E.error;if(C&&C.status&&C.message){const S=function(b){const D=b.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(D)>=0?D:ie.UNKNOWN}(C.status);d(new Se(S,C.message))}else d(new Se(ie.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Se(ie.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{fe(Bt,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(s);fe(Bt,`RPC '${e}' ${a} sending request:`,s),f.send(t,"POST",p,r,15)})}qo(e,t,r){const s=up(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=wT(),d=vT(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Bo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=a.join("");fe(Bt,`Creating RPC '${e}' stream ${s}: ${g}`,f);const v=u.createWebChannel(g,f);let E=!1,C=!1;const S=new VD({Eo:b=>{C?fe(Bt,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(E||(fe(Bt,`Opening RPC '${e}' stream ${s} transport.`),v.open(),E=!0),fe(Bt,`RPC '${e}' stream ${s} sending:`,b),v.send(b))},Ao:()=>v.close()}),O=(b,D,R)=>{b.listen(D,A=>{try{R(A)}catch(F){setTimeout(()=>{throw F},0)}})};return O(v,kl.EventType.OPEN,()=>{C||(fe(Bt,`RPC '${e}' stream ${s} transport opened.`),S.So())}),O(v,kl.EventType.CLOSE,()=>{C||(C=!0,fe(Bt,`RPC '${e}' stream ${s} transport closed`),S.Do())}),O(v,kl.EventType.ERROR,b=>{C||(C=!0,sa(Bt,`RPC '${e}' stream ${s} transport errored:`,b),S.Do(new Se(ie.UNAVAILABLE,"The operation could not be completed")))}),O(v,kl.EventType.MESSAGE,b=>{var D;if(!C){const R=b.data[0];He(!!R);const A=R,F=(A==null?void 0:A.error)||((D=A[0])===null||D===void 0?void 0:D.error);if(F){fe(Bt,`RPC '${e}' stream ${s} received error:`,F);const H=F.status;let X=function(P){const L=mt[P];if(L!==void 0)return WT(L)}(H),M=F.message;X===void 0&&(X=ie.INTERNAL,M="Unknown error status: "+H+" with message "+F.message),C=!0,S.Do(new Se(X,M)),v.close()}else fe(Bt,`RPC '${e}' stream ${s} received:`,R),S.vo(R)}}),O(d,_T.STAT_EVENT,b=>{b.stat===Vp.PROXY?fe(Bt,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===Vp.NOPROXY&&fe(Bt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.bo()},0),S}}function cp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(n){return new WL(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,t,r=1e3,s=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=s,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),s=Math.max(0,t-r);s>0&&fe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,t,r,s,a,u,d,f){this.li=e,this.Yo=r,this.Zo=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new iS(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(oi(t.toString()),oi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Xo===t&&this.I_(r,s)},r=>{e(()=>{const s=new Se(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.d_(s)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{r(()=>this.d_(s))}),this.stream.onMessage(s=>{r(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FD extends sS{constructor(e,t,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=KL(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ae.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ae.min():u.readTime?Rr(u.readTime):Ae.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=Gp(this.serializer),t.addTarget=function(a,u){let d;const f=u.target;if(d=Up(f)?{documents:XL(a,f)}:{query:JL(a,f).ct},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=KT(a,u.resumeToken);const p=Bp(a,u.expectedCount);p!==null&&(d.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ae.min())>0){d.readTime=Td(a,u.snapshotVersion.toTimestamp());const p=Bp(a,u.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const r=eD(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=Gp(this.serializer),t.removeTarget=e,this.c_(t)}}class $D extends sS{constructor(e,t,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return He(!!e.streamToken),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){He(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=YL(e.writeResults,e.commitTime),r=Rr(e.commitTime);return this.listener.y_(r,t)}w_(){const e={};e.database=Gp(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>QL(this.serializer,r))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new Se(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Oo(e,Hp(t,r),s,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Se(ie.UNKNOWN,a.toString())})}ko(e,t,r,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.ko(e,Hp(t,r),s,u,d,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Se(ie.UNKNOWN,u.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class zD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(oi(t),this.C_=!1):fe("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(u=>{r.enqueueAndForget(async()=>{Ks(this)&&(fe("RemoteStore","Restarting streams for network reachability change."),await async function(f){const p=ke(f);p.k_.add(4),await lu(p),p.K_.set("Unknown"),p.k_.delete(4),await Jd(p)}(this))})}),this.K_=new zD(r,s)}}async function Jd(n){if(Ks(n))for(const e of n.q_)await e(!0)}async function lu(n){for(const e of n.q_)await e(!1)}function oS(n,e){const t=ke(n);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),Ym(t)?Qm(t):Sa(t).s_()&&Km(t,e))}function qm(n,e){const t=ke(n),r=Sa(t);t.L_.delete(e),r.s_()&&aS(t,e),t.L_.size===0&&(r.s_()?r.a_():Ks(t)&&t.K_.set("Unknown"))}function Km(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Sa(n).V_(e)}function aS(n,e){n.U_.xe(e),Sa(n).m_(e)}function Qm(n){n.U_=new UL({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.L_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Sa(n).start(),n.K_.F_()}function Ym(n){return Ks(n)&&!Sa(n).i_()&&n.L_.size>0}function Ks(n){return ke(n).k_.size===0}function lS(n){n.U_=void 0}async function HD(n){n.K_.set("Online")}async function WD(n){n.L_.forEach((e,t)=>{Km(n,e)})}async function GD(n,e){lS(n),Ym(n)?(n.K_.O_(e),Qm(n)):n.K_.set("Unknown")}async function qD(n,e,t){if(n.K_.set("Online"),e instanceof qT&&e.state===2&&e.cause)try{await async function(s,a){const u=a.cause;for(const d of a.targetIds)s.L_.has(d)&&(await s.remoteSyncer.rejectListen(d,u),s.L_.delete(d),s.U_.removeTarget(d))}(n,e)}catch(r){fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Id(n,r)}else if(e instanceof Kc?n.U_.$e(e):e instanceof GT?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Ae.min()))try{const r=await rS(n.localStore);t.compareTo(r)>=0&&await function(a,u){const d=a.U_.it(u);return d.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.L_.get(p);g&&a.L_.set(p,g.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach((f,p)=>{const g=a.L_.get(f);if(!g)return;a.L_.set(f,g.withResumeToken(jt.EMPTY_BYTE_STRING,g.snapshotVersion)),aS(a,f);const v=new Bi(g.target,f,p,g.sequenceNumber);Km(a,v)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(r){fe("RemoteStore","Failed to raise snapshot:",r),await Id(n,r)}}async function Id(n,e,t){if(!Ta(e))throw e;n.k_.add(1),await lu(n),n.K_.set("Offline"),t||(t=()=>rS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{fe("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Jd(n)})}function uS(n,e){return e().catch(t=>Id(n,t,e))}async function Zd(n){const e=ke(n),t=ts(e);let r=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;KD(e);)try{const s=await bD(e.localStore,r);if(s===null){e.B_.length===0&&t.a_();break}r=s.batchId,QD(e,s)}catch(s){await Id(e,s)}cS(e)&&dS(e)}function KD(n){return Ks(n)&&n.B_.length<10}function QD(n,e){n.B_.push(e);const t=ts(n);t.s_()&&t.f_&&t.g_(e.mutations)}function cS(n){return Ks(n)&&!ts(n).i_()&&n.B_.length>0}function dS(n){ts(n).start()}async function YD(n){ts(n).w_()}async function XD(n){const e=ts(n);for(const t of n.B_)e.g_(t.mutations)}async function JD(n,e,t){const r=n.B_.shift(),s=Um.from(r,e,t);await uS(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Zd(n)}async function ZD(n,e){e&&ts(n).f_&&await async function(r,s){if(function(u){return jL(u)&&u!==ie.ABORTED}(s.code)){const a=r.B_.shift();ts(r).__(),await uS(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Zd(r)}}(n,e),cS(n)&&dS(n)}async function sw(n,e){const t=ke(n);t.asyncQueue.verifyOperationInProgress(),fe("RemoteStore","RemoteStore received new credentials");const r=Ks(t);t.k_.add(3),await lu(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Jd(t)}async function eM(n,e){const t=ke(n);e?(t.k_.delete(2),await Jd(t)):e||(t.k_.add(2),await lu(t),t.K_.set("Unknown"))}function Sa(n){return n.W_||(n.W_=function(t,r,s){const a=ke(t);return a.b_(),new FD(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Ro:HD.bind(null,n),mo:WD.bind(null,n),po:GD.bind(null,n),R_:qD.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Ym(n)?Qm(n):n.K_.set("Unknown")):(await n.W_.stop(),lS(n))})),n.W_}function ts(n){return n.G_||(n.G_=function(t,r,s){const a=ke(t);return a.b_(),new $D(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:YD.bind(null,n),po:ZD.bind(null,n),p_:XD.bind(null,n),y_:JD.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Zd(n)):(await n.G_.stop(),n.B_.length>0&&(fe("RemoteStore",`Stopping write stream with ${n.B_.length} pending writes`),n.B_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const u=Date.now()+r,d=new Xm(e,t,u,s,a);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jm(n,e){if(oi("AsyncQueue",`${e}: ${n}`),Ta(n))return new Se(ie.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{static emptySet(e){return new ea(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ie.comparator(t.key,r.key):(t,r)=>Ie.comparator(t.key,r.key),this.keyedMap=bl(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ea)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ea;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(){this.z_=new ot(Ie.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Re():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class ca{constructor(e,t,r,s,a,u,d,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,a){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new ca(e,t,ea.emptySet(t),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class nM{constructor(){this.queries=aw(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const s=ke(t),a=s.queries;s.queries=aw(),a.forEach((u,d)=>{for(const f of d.J_)f.onError(r)})})(this,new Se(ie.ABORTED,"Firestore shutting down"))}}function aw(){return new Gs(n=>NT(n),Gd)}async function rM(n,e){const t=ke(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.Y_()&&e.Z_()&&(r=2):(a=new tM,r=e.Z_()?0:1);try{switch(r){case 0:a.H_=await t.onListen(s,!0);break;case 1:a.H_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const d=Jm(u,`Initialization of query '${Bo(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&Zm(t)}async function iM(n,e){const t=ke(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const u=a.J_.indexOf(e);u>=0&&(a.J_.splice(u,1),a.J_.length===0?s=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function sM(n,e){const t=ke(n);let r=!1;for(const s of e){const a=s.query,u=t.queries.get(a);if(u){for(const d of u.J_)d.ta(s)&&(r=!0);u.H_=s}}r&&Zm(t)}function oM(n,e,t){const r=ke(n),s=r.queries.get(e);if(s)for(const a of s.J_)a.onError(t);r.queries.delete(e)}function Zm(n){n.X_.forEach(e=>{e.next()})}var Kp,lw;(lw=Kp||(Kp={})).na="default",lw.Cache="cache";class aM{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ca(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=ca.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Kp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e){this.key=e}}class hS{constructor(e){this.key=e}}class lM{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Me(),this.mutatedKeys=Me(),this.Va=OT(e),this.ma=new ea(this.Va)}get fa(){return this.Ea}ga(e,t){const r=t?t.pa:new ow,s=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,u=s,d=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,v)=>{const E=s.get(g),C=qd(this.query,v)?v:null,S=!!E&&this.mutatedKeys.has(E.key),O=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let b=!1;E&&C?E.data.isEqual(C.data)?S!==O&&(r.track({type:3,doc:C}),b=!0):this.ya(E,C)||(r.track({type:2,doc:C}),b=!0,(f&&this.Va(C,f)>0||p&&this.Va(C,p)<0)&&(d=!0)):!E&&C?(r.track({type:0,doc:C}),b=!0):E&&!C&&(r.track({type:1,doc:E}),b=!0,(f||p)&&(d=!0)),b&&(C?(u=u.add(C),a=O?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{ma:u,pa:r,ss:d,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const u=e.pa.j_();u.sort((g,v)=>function(C,S){const O=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return O(C)-O(S)}(g.type,v.type)||this.Va(g.doc,v.doc)),this.wa(r),s=s!=null&&s;const d=t&&!s?this.Sa():[],f=this.Ra.size===0&&this.current&&!s?1:0,p=f!==this.Aa;return this.Aa=f,u.length!==0||p?{snapshot:new ca(this.query,e.ma,a,u,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new ow,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Me(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new hS(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new fS(r))}),t}va(e){this.Ea=e.Es,this.Ra=Me();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return ca.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class uM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class cM{constructor(e){this.key=e,this.Fa=!1}}class dM{constructor(e,t,r,s,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ma={},this.xa=new Gs(d=>NT(d),Gd),this.Oa=new Map,this.Na=new Set,this.Ba=new ot(Ie.comparator),this.La=new Map,this.ka=new Hm,this.qa={},this.Qa=new Map,this.Ka=ua.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function fM(n,e,t=!0){const r=vS(n);let s;const a=r.xa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Ca()):s=await pS(r,e,t,!0),s}async function hM(n,e){const t=vS(n);await pS(t,e,!0,!1)}async function pS(n,e,t,r){const s=await ND(n.localStore,xr(e)),a=s.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await pM(n,e,a,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&oS(n.remoteStore,s),d}async function pM(n,e,t,r,s){n.Ua=(v,E,C)=>async function(O,b,D,R){let A=b.view.ga(D);A.ss&&(A=await nw(O.localStore,b.query,!1).then(({documents:M})=>b.view.ga(M,A)));const F=R&&R.targetChanges.get(b.targetId),H=R&&R.targetMismatches.get(b.targetId)!=null,X=b.view.applyChanges(A,O.isPrimaryClient,F,H);return cw(O,b.targetId,X.ba),X.snapshot}(n,v,E,C);const a=await nw(n.localStore,e,!0),u=new lM(e,a.Es),d=u.ga(a.documents),f=au.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=u.applyChanges(d,n.isPrimaryClient,f);cw(n,t,p.ba);const g=new uM(e,t,u);return n.xa.set(e,g),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),p.snapshot}async function mM(n,e,t){const r=ke(n),s=r.xa.get(e),a=r.Oa.get(s.targetId);if(a.length>1)return r.Oa.set(s.targetId,a.filter(u=>!Gd(u,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await qp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&qm(r.remoteStore,s.targetId),Qp(r,s.targetId)}).catch(Ea)):(Qp(r,s.targetId),await qp(r.localStore,s.targetId,!0))}async function gM(n,e){const t=ke(n),r=t.xa.get(e),s=t.Oa.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),qm(t.remoteStore,r.targetId))}async function yM(n,e,t){const r=IM(n);try{const s=await function(u,d){const f=ke(u),p=Tt.now(),g=d.reduce((C,S)=>C.add(S.key),Me());let v,E;return f.persistence.runTransaction("Locally write mutations","readwrite",C=>{let S=ai(),O=Me();return f.hs.getEntries(C,g).next(b=>{S=b,S.forEach((D,R)=>{R.isValidDocument()||(O=O.add(D))})}).next(()=>f.localDocuments.getOverlayedDocuments(C,S)).next(b=>{v=b;const D=[];for(const R of d){const A=OL(R,v.get(R.key).overlayedDocument);A!=null&&D.push(new qs(R.key,A,CT(A.value.mapValue),ni.exists(!0)))}return f.mutationQueue.addMutationBatch(C,p,D,d)}).next(b=>{E=b;const D=b.applyToLocalDocumentSet(v,O);return f.documentOverlayCache.saveOverlays(C,b.batchId,D)})}).then(()=>({batchId:E.batchId,changes:DT(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,d,f){let p=u.qa[u.currentUser.toKey()];p||(p=new ot(je)),p=p.insert(d,f),u.qa[u.currentUser.toKey()]=p}(r,s.batchId,t),await uu(r,s.changes),await Zd(r.remoteStore)}catch(s){const a=Jm(s,"Failed to persist write");t.reject(a)}}async function mS(n,e){const t=ke(n);try{const r=await AD(t.localStore,e);e.targetChanges.forEach((s,a)=>{const u=t.La.get(a);u&&(He(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.Fa=!0:s.modifiedDocuments.size>0?He(u.Fa):s.removedDocuments.size>0&&(He(u.Fa),u.Fa=!1))}),await uu(t,r,e)}catch(r){await Ea(r)}}function uw(n,e,t){const r=ke(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.xa.forEach((a,u)=>{const d=u.view.ea(e);d.snapshot&&s.push(d.snapshot)}),function(u,d){const f=ke(u);f.onlineState=d;let p=!1;f.queries.forEach((g,v)=>{for(const E of v.J_)E.ea(d)&&(p=!0)}),p&&Zm(f)}(r.eventManager,e),s.length&&r.Ma.R_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _M(n,e,t){const r=ke(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.La.get(e),a=s&&s.key;if(a){let u=new ot(Ie.comparator);u=u.insert(a,Gt.newNoDocument(a,Ae.min()));const d=Me().add(a),f=new Yd(Ae.min(),new Map,new ot(je),u,d);await mS(r,f),r.Ba=r.Ba.remove(a),r.La.delete(e),eg(r)}else await qp(r.localStore,e,!1).then(()=>Qp(r,e,t)).catch(Ea)}async function vM(n,e){const t=ke(n),r=e.batch.batchId;try{const s=await RD(t.localStore,e);yS(t,r,null),gS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await uu(t,s)}catch(s){await Ea(s)}}async function wM(n,e,t){const r=ke(n);try{const s=await function(u,d){const f=ke(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return f.mutationQueue.lookupMutationBatch(p,d).next(v=>(He(v!==null),g=v.keys(),f.mutationQueue.removeMutationBatch(p,v))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>f.localDocuments.getDocuments(p,g))})}(r.localStore,e);yS(r,e,t),gS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await uu(r,s)}catch(s){await Ea(s)}}function gS(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function yS(n,e,t){const r=ke(n);let s=r.qa[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.qa[r.currentUser.toKey()]=s}}function Qp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||_S(n,r)})}function _S(n,e){n.Na.delete(e.path.canonicalString());const t=n.Ba.get(e);t!==null&&(qm(n.remoteStore,t),n.Ba=n.Ba.remove(e),n.La.delete(t),eg(n))}function cw(n,e,t){for(const r of t)r instanceof fS?(n.ka.addReference(r.key,e),EM(n,r)):r instanceof hS?(fe("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||_S(n,r.key)):Re()}function EM(n,e){const t=e.key,r=t.path.canonicalString();n.Ba.get(t)||n.Na.has(r)||(fe("SyncEngine","New document in limbo: "+t),n.Na.add(r),eg(n))}function eg(n){for(;n.Na.size>0&&n.Ba.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Ie(ut.fromString(e)),r=n.Ka.next();n.La.set(r,new cM(t)),n.Ba=n.Ba.insert(t,r),oS(n.remoteStore,new Bi(xr(Fm(t.path)),r,"TargetPurposeLimboResolution",zd.oe))}}async function uu(n,e,t){const r=ke(n),s=[],a=[],u=[];r.xa.isEmpty()||(r.xa.forEach((d,f)=>{u.push(r.Ua(f,e,t).then(p=>{var g;if((p||t)&&r.isPrimaryClient){const v=p?!p.fromCache:(g=t==null?void 0:t.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(p){s.push(p);const v=Gm.zi(f.targetId,p);a.push(v)}}))}),await Promise.all(u),r.Ma.R_(s),await async function(f,p){const g=ke(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>Z.forEach(p,E=>Z.forEach(E.Wi,C=>g.persistence.referenceDelegate.addReference(v,E.targetId,C)).next(()=>Z.forEach(E.Gi,C=>g.persistence.referenceDelegate.removeReference(v,E.targetId,C)))))}catch(v){if(!Ta(v))throw v;fe("LocalStore","Failed to update sequence numbers: "+v)}for(const v of p){const E=v.targetId;if(!v.fromCache){const C=g.us.get(E),S=C.snapshotVersion,O=C.withLastLimboFreeSnapshotVersion(S);g.us=g.us.insert(E,O)}}}(r.localStore,a))}async function TM(n,e){const t=ke(n);if(!t.currentUser.isEqual(e)){fe("SyncEngine","User change. New user:",e.toKey());const r=await nS(t.localStore,e);t.currentUser=e,function(a,u){a.Qa.forEach(d=>{d.forEach(f=>{f.reject(new Se(ie.CANCELLED,u))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await uu(t,r.Ts)}}function SM(n,e){const t=ke(n),r=t.La.get(e);if(r&&r.Fa)return Me().add(r.key);{let s=Me();const a=t.Oa.get(e);if(!a)return s;for(const u of a){const d=t.xa.get(u);s=s.unionWith(d.view.fa)}return s}}function vS(n){const e=ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=mS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_M.bind(null,e),e.Ma.R_=sM.bind(null,e.eventManager),e.Ma.Wa=oM.bind(null,e.eventManager),e}function IM(n){const e=ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wM.bind(null,e),e}class Cd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xd(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return xD(this.persistence,new CD,e.initialUser,this.serializer)}ja(e){return new tS(Wm.ei,this.serializer)}za(e){return new LD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cd.provider={build:()=>new Cd};class CM extends Cd{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){He(this.persistence.referenceDelegate instanceof Sd);const r=this.persistence.referenceDelegate.garbageCollector;return new cD(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new tS(r=>Sd.ei(r,t),this.serializer)}}class Yp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>uw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TM.bind(null,this.syncEngine),await eM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new nM}()}createDatastore(e){const t=Xd(e.databaseInfo.databaseId),r=function(a){return new jD(a)}(e.databaseInfo);return function(a,u,d,f){return new UD(a,u,d,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,a,u,d){return new BD(r,s,a,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>uw(this.syncEngine,t,0),function(){return iw.p()?new iw:new DD}())}createSyncEngine(e,t){return function(s,a,u,d,f,p,g){const v=new dM(s,a,u,d,f,p);return g&&(v.$a=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=ke(s);fe("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await lu(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Yp.provider={build:()=>new Yp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):oi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Wt.UNAUTHENTICATED,this.clientId=TT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{fe("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(fe("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Jm(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function dp(n,e){n.asyncQueue.verifyOperationInProgress(),fe("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await nS(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function dw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await RM(n);fe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>sw(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>sw(e.remoteStore,s)),n._onlineComponents=e}async function RM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await dp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===ie.FAILED_PRECONDITION||s.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;sa("Error using user provided cache. Falling back to memory cache: "+t),await dp(n,new Cd)}}else fe("FirestoreClient","Using default OfflineComponentProvider"),await dp(n,new CM(void 0));return n._offlineComponents}async function wS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(fe("FirestoreClient","Using user provided OnlineComponentProvider"),await dw(n,n._uninitializedComponentsProvider._online)):(fe("FirestoreClient","Using default OnlineComponentProvider"),await dw(n,new Yp))),n._onlineComponents}function AM(n){return wS(n).then(e=>e.syncEngine)}async function kM(n){const e=await wS(n),t=e.eventManager;return t.onListen=fM.bind(null,e.syncEngine),t.onUnlisten=mM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=hM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=gM.bind(null,e.syncEngine),t}function bM(n,e,t={}){const r=new Ki;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,d,f,p){const g=new PM({next:E=>{g.eu(),u.enqueueAndForget(()=>iM(a,v));const C=E.docs.has(d);!C&&E.fromCache?p.reject(new Se(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&E.fromCache&&f&&f.source==="server"?p.reject(new Se(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new aM(Fm(d.path),g,{includeMetadataChanges:!0,ua:!0});return rM(a,v)}(await kM(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(n,e,t){if(!t)throw new Se(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function OM(n,e,t,r){if(e===!0&&r===!0)throw new Se(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function hw(n){if(!Ie.isDocumentKey(n))throw new Se(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function tg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Re()}function Yl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Se(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=tg(n);throw new Se(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Se(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ES((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Se(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Se(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Se(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ng{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new FO;switch(r.type){case"firstParty":return new BO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=fw.get(t);r&&(fe("ComponentProvider","Removing Datastore"),fw.delete(t),r.terminate())}(this),Promise.resolve()}}function LM(n,e,t,r={}){var s;const a=(n=Yl(n,ng))._getSettings(),u=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&sa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),r.mockUserToken){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Wt.MOCK_USER;else{d=GP(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Se(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Wt(p)}n._authCredentials=new $O(new ET(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rg(this.firestore,e,this._query)}}class jn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jn(this.firestore,e,this._key)}}class Xl extends rg{constructor(e,t,r){super(e,t,Fm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jn(this.firestore,null,new Ie(e))}withConverter(e){return new Xl(this.firestore,e,this._path)}}function Xp(n,e,...t){if(n=Tn(n),arguments.length===1&&(e=TT.newId()),NM("doc","path",e),n instanceof ng){const r=ut.fromString(e,...t);return hw(r),new jn(n,null,new Ie(r))}{if(!(n instanceof jn||n instanceof Xl))throw new Se(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ut.fromString(e,...t));return hw(r),new jn(n.firestore,n instanceof Xl?n.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new iS(this,"async_queue_retry"),this.fu=()=>{const r=cp();r&&fe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=cp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=cp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new Ki;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Ta(e))throw e;fe("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const s=function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),d}(r);throw oi("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const s=Xm.createAndSchedule(this,e,t,r,a=>this.Su(a));return this.Eu.push(s),s}pu(){this.Au&&Re()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}class ig extends ng{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new mw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mw(e),this._firestoreClient=void 0,await e}}}function TS(n,e){const t=lE(),r="(default)",s=ym(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=HP("firestore");a&&LM(s,...a)}return s}function SS(n){if(n._terminated)throw new Se(ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||DM(n),n._firestoreClient}function DM(n){var e,t,r;const s=n._freezeSettings(),a=function(d,f,p,g){return new iL(d,f,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,ES(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new xM(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this._byteString=e}static fromBase64String(e){try{return new da(jt.fromBase64String(e))}catch(t){throw new Se(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new da(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Se(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Se(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Se(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=/^__.*__$/;class VM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new qs(e,this.data,this.fieldMask,t,this.fieldTransforms):new ou(e,this.data,t,this.fieldTransforms)}}function CS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class lg{constructor(e,t,r,s,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new lg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:r,Nu:!1});return s.Bu(e),s}Lu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:r,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Pd(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(CS(this.Mu)&&MM.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class jM{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Xd(e)}$u(e,t,r,s=!1){return new lg({Mu:e,methodName:t,Ku:r,path:Vt.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function FM(n){const e=n._freezeSettings(),t=Xd(n._databaseId);return new jM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function $M(n,e,t,r,s,a={}){const u=n.$u(a.merge||a.mergeFields?2:0,e,t,s);AS("Data must be an object, but it was:",u,r);const d=xS(r,u);let f,p;if(a.merge)f=new or(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const g=[];for(const v of a.mergeFields){const E=UM(e,v,t);if(!u.contains(E))throw new Se(ie.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);BM(g,E)||g.push(E)}f=new or(g),p=u.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,p=u.fieldTransforms;return new VM(new Vn(d),f,p)}function PS(n,e){if(RS(n=Tn(n)))return AS("Unsupported field value:",e,n),xS(n,e);if(n instanceof IS)return function(r,s){if(!CS(s.Mu))throw s.qu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,s){const a=[];let u=0;for(const d of r){let f=PS(d,s.ku(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,s){if((r=Tn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xL(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Tt.fromDate(r);return{timestampValue:Td(s.serializer,a)}}if(r instanceof Tt){const a=new Tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Td(s.serializer,a)}}if(r instanceof og)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof da)return{bytesValue:KT(s.serializer,r._byteString)};if(r instanceof jn){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.qu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Bm(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ag)return function(u,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(f=>{if(typeof f!="number")throw d.qu("VectorValues must only contain numeric values.");return $m(d.serializer,f)})}}}}}}(r,s);throw s.qu(`Unsupported field value: ${tg(r)}`)}(n,e)}function xS(n,e){const t={};return ST(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ws(n,(r,s)=>{const a=PS(s,e.Ou(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function RS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Tt||n instanceof og||n instanceof da||n instanceof jn||n instanceof IS||n instanceof ag)}function AS(n,e,t){if(!RS(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=tg(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function UM(n,e,t){if((e=Tn(e))instanceof sg)return e._internalPath;if(typeof e=="string")return kS(n,e);throw Pd("Field path arguments must be of type string or ",n,!1,void 0,t)}const zM=new RegExp("[~\\*/\\[\\]]");function kS(n,e,t){if(e.search(zM)>=0)throw Pd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new sg(...e.split("."))._internalPath}catch{throw Pd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Pd(n,e,t,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new Se(ie.INVALID_ARGUMENT,d+n+f)}function BM(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(NS("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class HM extends bS{data(){return super.data()}}function NS(n,e){return typeof e=="string"?kS(n,e):e instanceof sg?e._internalPath:e._delegate._internalPath}class WM{convertValue(e,t="none"){switch(es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ws(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,s;const a=(s=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>ft(u.doubleValue));return new ag(a)}convertGeoPoint(e){return new og(ft(e.latitude),ft(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Hd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Wl(e));default:return null}}convertTimestamp(e){const t=Ji(e);return new Tt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ut.fromString(e);He(eS(r));const s=new Gl(r.get(1),r.get(3)),a=new Ie(r.popFirst(5));return s.isEqual(t)||oi(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(n,e,t){let r;return r=n?t.merge||t.mergeFields?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class OS extends bS{constructor(e,t,r,s,a,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new KM(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(NS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class KM extends OS{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(n){n=Yl(n,jn);const e=Yl(n.firestore,ig);return bM(SS(e),n._key).then(t=>JM(e,n,t))}class QM extends WM{constructor(e){super(),this.firestore=e}convertBytes(e){return new da(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jn(this.firestore,null,t)}}function YM(n,e,t){n=Yl(n,jn);const r=Yl(n.firestore,ig),s=GM(n.converter,e,t);return XM(r,[$M(FM(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,ni.none())])}function XM(n,e){return function(r,s){const a=new Ki;return r.asyncQueue.enqueueAndForget(async()=>yM(await AM(r),s,a)),a.promise}(SS(n),e)}function JM(n,e,t){const r=t.docs.get(e._key),s=new QM(n);return new OS(n,s,e._key,r,new qM(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){wa=s})(ya),na(new js("firestore",(r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new ig(new UO(r.getProvider("auth-internal")),new WO(r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Se(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gl(p.options.projectId,g)}(u,s),u);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),Gi(Ov,"4.7.6",e),Gi(Ov,"4.7.6","esm2017")})();const ZM=async n=>{const e=TS(),t=Xp(e,"users",n);try{const r=await LS(t);return r.exists()?r.data():(console.error("Документ пользователя не найден!"),null)}catch(r){return console.error("Ошибка при извлечении данных:",r),null}};var fp={exports:{}},hp,gw;function e4(){if(gw)return hp;gw=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return hp=n,hp}var pp,yw;function t4(){if(yw)return pp;yw=1;var n=e4();function e(){}function t(){}return t.resetWarningCache=e,pp=function(){function r(u,d,f,p,g,v){if(v!==n){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},pp}var _w;function n4(){return _w||(_w=1,fp.exports=t4()()),fp.exports}var DS=n4();function ug(n){return e=>!!e.type&&e.type.tabsRole===n}const cu=ug("Tab"),ef=ug("TabList"),tf=ug("TabPanel");function r4(n){return cu(n)||ef(n)||tf(n)}function Jp(n,e){return z.Children.map(n,t=>t===null?null:r4(t)?e(t):t.props&&t.props.children&&typeof t.props.children=="object"?z.cloneElement(t,Object.assign({},t.props,{children:Jp(t.props.children,e)})):t)}function xd(n,e){return z.Children.forEach(n,t=>{t!==null&&(cu(t)||tf(t)?e(t):t.props&&t.props.children&&typeof t.props.children=="object"&&(ef(t)&&e(t),xd(t.props.children,e)))})}function MS(n,e,t){let r,s=0,a=0,u=!1;const d=[],f=n[e];return xd(f,p=>{ef(p)&&(p.props&&p.props.children&&typeof p.props.children=="object"&&xd(p.props.children,g=>d.push(g)),u&&(r=new Error("Found multiple 'TabList' components inside 'Tabs'. Only one is allowed.")),u=!0),cu(p)?((!u||d.indexOf(p)===-1)&&(r=new Error("Found a 'Tab' component outside of the 'TabList' component. 'Tab' components have to be inside the 'TabList' component.")),s++):tf(p)&&a++}),!r&&s!==a&&(r=new Error(`There should be an equal number of 'Tab' and 'TabPanel' in \`${t}\`. Received ${s} 'Tab' and ${a} 'TabPanel'.`)),r}function i4(n,e,t,r,s){const a=n[e],u=s||e;let d=null;return a&&typeof a!="function"?d=new Error(`Invalid ${r} \`${u}\` of type \`${typeof a}\` supplied to \`${t}\`, expected \`function\`.`):n.selectedIndex!=null&&a==null&&(d=new Error(`The ${r} \`${u}\` is marked as required in \`${t}\`, but its value is \`undefined\` or \`null\`.
\`onSelect\` is required when \`selectedIndex\` is also set. Not doing so will make the tabs not do anything, as \`selectedIndex\` indicates that you want to handle the selected tab yourself.
If you only want to set the inital tab replace \`selectedIndex\` with \`defaultIndex\`.`)),d}function s4(n,e,t,r,s){const a=n[e],u=s||e;let d=null;if(a!=null&&typeof a!="number")d=new Error(`Invalid ${r} \`${u}\` of type \`${typeof a}\` supplied to \`${t}\`, expected \`number\`.`);else if(n.defaultIndex!=null&&a!=null)return new Error(`The ${r} \`${u}\` cannot be used together with \`defaultIndex\` in \`${t}\`.
Either remove \`${u}\` to let \`${t}\` handle the selected tab internally or remove \`defaultIndex\` to handle it yourself.`);return d}function VS(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=VS(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function nf(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=VS(n))&&(r&&(r+=" "),r+=e);return r}function jS(n){let e=0;return xd(n,t=>{cu(t)&&e++}),e}const o4=["children","className","disabledTabClassName","domRef","focus","forceRenderTabPanel","onSelect","selectedIndex","selectedTabClassName","selectedTabPanelClassName","environment","disableUpDownKeys","disableLeftRightKeys"];function a4(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}function FS(n){return n&&"getAttribute"in n}function vw(n){return FS(n)&&n.getAttribute("data-rttab")}function Ns(n){return FS(n)&&n.getAttribute("aria-disabled")==="true"}let Rd;function l4(n){const e=n||(typeof window<"u"?window:void 0);try{Rd=!!(typeof e<"u"&&e.document&&e.document.activeElement)}catch{Rd=!1}}const u4={className:"react-tabs",focus:!1},c4={children:MS},d4=n=>{DS.checkPropTypes(c4,n,"prop","UncontrolledTabs");let e=z.useRef([]),t=z.useRef([]);const r=z.useRef();function s(A,F){if(A<0||A>=p())return;const{onSelect:H,selectedIndex:X}=n;H(A,X,F)}function a(A){const F=p();for(let H=A+1;H<F;H++)if(!Ns(g(H)))return H;for(let H=0;H<A;H++)if(!Ns(g(H)))return H;return A}function u(A){let F=A;for(;F--;)if(!Ns(g(F)))return F;for(F=p();F-- >A;)if(!Ns(g(F)))return F;return A}function d(){const A=p();for(let F=0;F<A;F++)if(!Ns(g(F)))return F;return null}function f(){let A=p();for(;A--;)if(!Ns(g(A)))return A;return null}function p(){const{children:A}=n;return jS(A)}function g(A){return e.current[`tabs-${A}`]}function v(){let A=0;const{children:F,disabledTabClassName:H,focus:X,forceRenderTabPanel:M,selectedIndex:I,selectedTabClassName:P,selectedTabPanelClassName:L,environment:V}=n;t.current=t.current||[];let $=t.current.length-p();const N=z.useId();for(;$++<0;)t.current.push(`${N}${t.current.length}`);return Jp(F,ue=>{let _e=ue;if(ef(ue)){let ve=0,Pe=!1;Rd==null&&l4(V);const re=V||(typeof window<"u"?window:void 0);Rd&&re&&(Pe=Be.Children.toArray(ue.props.children).filter(cu).some((le,oe)=>re.document.activeElement===g(oe))),_e=z.cloneElement(ue,{children:Jp(ue.props.children,le=>{const oe=`tabs-${ve}`,W=I===ve,J={tabRef:ge=>{e.current[oe]=ge},id:t.current[ve],selected:W,focus:W&&(X||Pe)};return P&&(J.selectedClassName=P),H&&(J.disabledClassName=H),ve++,z.cloneElement(le,J)})})}else if(tf(ue)){const ve={id:t.current[A],selected:I===A};M&&(ve.forceRender=M),L&&(ve.selectedClassName=L),A++,_e=z.cloneElement(ue,ve)}return _e})}function E(A){const{direction:F,disableUpDownKeys:H,disableLeftRightKeys:X}=n;if(S(A.target)){let{selectedIndex:M}=n,I=!1,P=!1;(A.code==="Space"||A.keyCode===32||A.code==="Enter"||A.keyCode===13)&&(I=!0,P=!1,C(A)),!X&&(A.keyCode===37||A.code==="ArrowLeft")||!H&&(A.keyCode===38||A.code==="ArrowUp")?(F==="rtl"?M=a(M):M=u(M),I=!0,P=!0):!X&&(A.keyCode===39||A.code==="ArrowRight")||!H&&(A.keyCode===40||A.code==="ArrowDown")?(F==="rtl"?M=u(M):M=a(M),I=!0,P=!0):A.keyCode===35||A.code==="End"?(M=f(),I=!0,P=!0):(A.keyCode===36||A.code==="Home")&&(M=d(),I=!0,P=!0),I&&A.preventDefault(),P&&s(M,A)}}function C(A){let F=A.target;do if(S(F)){if(Ns(F))return;const H=[].slice.call(F.parentNode.children).filter(vw).indexOf(F);s(H,A);return}while((F=F.parentNode)!=null)}function S(A){if(!vw(A))return!1;let F=A.parentElement;do{if(F===r.current)return!0;if(F.getAttribute("data-rttabs"))break;F=F.parentElement}while(F);return!1}const O=Object.assign({},u4,n),{className:b,domRef:D}=O,R=a4(O,o4);return Be.createElement("div",Object.assign({},R,{className:nf(b),onClick:C,onKeyDown:E,ref:A=>{r.current=A,D&&D(A)},"data-rttabs":!0}),v())},f4=["children","defaultFocus","defaultIndex","focusTabOnClick","onSelect"];function h4(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}const p4=0,Qc=1,m4={children:MS,onSelect:i4,selectedIndex:s4},g4={defaultFocus:!1,focusTabOnClick:!0,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null,environment:null,disableUpDownKeys:!1,disableLeftRightKeys:!1},y4=n=>n.selectedIndex===null?Qc:p4,$S=n=>{DS.checkPropTypes(m4,n,"prop","Tabs");const e=Object.assign({},g4,n),{children:t,defaultFocus:r,defaultIndex:s,focusTabOnClick:a,onSelect:u}=e,d=h4(e,f4),[f,p]=z.useState(r),[g]=z.useState(y4(d)),[v,E]=z.useState(g===Qc?s||0:null);if(z.useEffect(()=>{p(!1)},[]),g===Qc){const O=jS(t);z.useEffect(()=>{if(v!=null){const b=Math.max(0,O-1);E(Math.min(v,b))}},[O])}const C=(O,b,D)=>{typeof u=="function"&&u(O,b,D)===!1||(a&&p(!0),g===Qc&&E(O))};let S=Object.assign({},n,d);return S.focus=f,S.onSelect=C,v!=null&&(S.selectedIndex=v),delete S.defaultFocus,delete S.defaultIndex,delete S.focusTabOnClick,Be.createElement(d4,S,t)};$S.tabsRole="Tabs";const _4=["children","className"];function v4(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}const w4={className:"react-tabs__tab-list"},US=n=>{const e=Object.assign({},w4,n),{children:t,className:r}=e,s=v4(e,_4);return Be.createElement("ul",Object.assign({},s,{className:nf(r),role:"tablist"}),t)};US.tabsRole="TabList";const E4=["children","className","disabled","disabledClassName","focus","id","selected","selectedClassName","tabIndex","tabRef"];function T4(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}const mp="react-tabs__tab",S4={className:mp,disabledClassName:`${mp}--disabled`,focus:!1,id:null,selected:!1,selectedClassName:`${mp}--selected`},Zp=n=>{let e=z.useRef();const t=Object.assign({},S4,n),{children:r,className:s,disabled:a,disabledClassName:u,focus:d,id:f,selected:p,selectedClassName:g,tabIndex:v,tabRef:E}=t,C=T4(t,E4);return z.useEffect(()=>{p&&d&&e.current.focus()},[p,d]),Be.createElement("li",Object.assign({},C,{className:nf(s,{[g]:p,[u]:a}),ref:S=>{e.current=S,E&&E(S)},role:"tab",id:`tab${f}`,"aria-selected":p?"true":"false","aria-disabled":a?"true":"false","aria-controls":`panel${f}`,tabIndex:v||(p?"0":null),"data-rttab":!0}),r)};Zp.tabsRole="Tab";const I4=["children","className","forceRender","id","selected","selectedClassName"];function C4(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}const ww="react-tabs__tab-panel",P4={className:ww,forceRender:!1,selectedClassName:`${ww}--selected`},em=n=>{const e=Object.assign({},P4,n),{children:t,className:r,forceRender:s,id:a,selected:u,selectedClassName:d}=e,f=C4(e,I4);return Be.createElement("div",Object.assign({},f,{className:nf(r,{[d]:u}),role:"tabpanel",id:`panel${a}`,"aria-labelledby":`tab${a}`}),s||u?t:null)};em.tabsRole="TabPanel";const x4="_h1_1mm57_11",R4="_h2_1mm57_23",A4="_h3_1mm57_29",k4="_h4_1mm57_41",b4="_h5_1mm57_53",N4="_name_1mm57_53",O4="_h6_1mm57_65",L4="_total_1mm57_65",D4="_subtitle_1mm57_71",M4="_p_1mm57_76",V4="_card_1mm57_81",j4="_image_1mm57_89",F4="_content_1mm57_100",Il={h1:x4,h2:R4,h3:A4,h4:k4,h5:b4,name:N4,h6:O4,total:L4,subtitle:D4,p:M4,card:V4,image:j4,content:F4},$4=({author:n})=>{const e=Sn(),t=rt(r=>Ud(r,n.id));return x.jsxs("div",{className:Il.card,children:[x.jsx(Xe,{to:`/author-page/${n.id}`,className:Il.image,children:x.jsx("img",{src:n==null?void 0:n.user.profile_image.large,alt:""})}),x.jsxs("div",{className:Il.content,children:[x.jsx(Xe,{to:`/author-page/${n.id}`,className:Il.name,children:n.user.username}),x.jsxs("div",{className:Il.total,children:[n.user.total_photos," photos"]}),x.jsx("button",{onClick:()=>e(Om(n)),type:"button",className:lt.follow,children:t?"unsubscribe":"subscribe"})]})]})},U4=()=>{const[n,e]=z.useState(null);z.useEffect(()=>{const v=ra().currentUser;if(v){const E=v.uid;ZM(E).then(C=>{e(C)})}},[]);const{email:t}=rt(g=>g.user),{isAuth:r}=cm(),{images:s}=rt(g=>g.images),{authors:a}=rt(g=>g.authors),d=ra().currentUser,f=ma();if(!r)return f("/"),null;const p=[{name:"Home",link:"/"},{name:d&&d.displayName||t}];return x.jsxs($S,{children:[x.jsx(va,{items:p}),x.jsxs("div",{className:Jt.top,children:[x.jsx("div",{className:Jt.banner,children:x.jsx("img",{src:(n==null?void 0:n.customProperty)??"",alt:""})}),x.jsxs("div",{className:Jt.row,children:[d&&x.jsxs("div",{className:Jt.avatar,children:[x.jsx("div",{className:Jt.image,children:x.jsx("img",{src:d.photoURL??"",alt:"User Profile"})}),x.jsxs("div",{className:Jt.block,children:[x.jsx("div",{className:Jt.name,children:d.displayName}),x.jsx("div",{className:Jt.email,children:t})]})]}),x.jsxs(US,{className:Jt.menu,children:[x.jsx(Zp,{className:Jt.link,children:"Most liked posts"}),x.jsx(Zp,{className:Jt.link,children:"Subscriptions"})]}),x.jsxs(Xe,{className:Jt.edit,to:"/profile-edit",children:[x.jsx(Vw,{size:16}),"Edit Profile"]})]})]}),x.jsxs("div",{className:Jt.content,children:[x.jsx(em,{className:Jt.list,children:s.filter(g=>g.likes>=50).map((g,v)=>x.jsx($d,{card:g},v))}),x.jsx(em,{children:a.length>0?x.jsx("div",{className:Jt.list,children:a.map((g,v)=>x.jsx($4,{author:g},v))}):x.jsx("div",{children:"nothing in subscriptions!"})})]})]})},z4="_list_kkd2i_11",B4="_item_kkd2i_17",H4="_input_kkd2i_23",W4="_error_kkd2i_47",G4="_button_kkd2i_64",nr={list:z4,item:B4,input:H4,error:W4,button:G4};function q4(n){return dn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.5 1.5A1.5 1.5 0 0 1 10 0h4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h6c-.314.418-.5.937-.5 1.5v7.793L4.854 6.646a.5.5 0 1 0-.708.708l3.5 3.5a.5.5 0 0 0 .708 0l3.5-3.5a.5.5 0 0 0-.708-.708L8.5 9.293z"},child:[]}]})(n)}const K4=()=>{const e=ra().currentUser,t=TS(),r=Sn(),[s,a]=z.useState(e&&e.displayName?e.displayName:""),[u,d]=z.useState(e&&e.photoURL?e.photoURL:""),[f,p]=z.useState(e&&e.email?e.email:""),[g,v]=z.useState(""),{isAuth:E}=cm(),C=ma();if(z.useEffect(()=>{if(e&&e.uid){const b=Xp(t,"users",e.uid);LS(b).then(D=>{if(D.exists()){const R=D.data();v(R.customProperty||"")}else console.log("Документа для пользователя нет")}).catch(D=>console.error("Ошибка получения данных пользователя из Firestore:",D))}},[e]),z.useEffect(()=>{E||C("/")},[E,C]),!E)return null;const S=()=>{e&&gA(e,{displayName:s,photoURL:u}).then(()=>(console.log("Профиль успешно обновлен"),yA(e,f))).then(()=>{console.log("Успешно обновлен email"),r(Sr.modalOpen("Successfully added!"));const b=e.uid;YM(Xp(t,"users",b),{customProperty:`${g}`},{merge:!0}).then(()=>{console.log("Дополнительное свойство успешно обновлено в Firestore")}).catch(D=>{console.error("Ошибка при обновлении дополнительного свойства!",D)})}).catch(b=>{console.error("Ошибка при обновлении!",b)})},O=[{name:"Home",link:"/"},{name:"Profile edit"}];return x.jsxs("div",{children:[x.jsx(va,{items:O}),x.jsxs("div",{className:nr.body,children:[x.jsxs("div",{className:nr.list,children:[x.jsxs("div",{className:nr.item,children:[x.jsx("span",{className:Ye.h5,children:"User name"}),x.jsx("div",{className:nr.input,children:x.jsx("input",{type:"text",value:s,onChange:b=>a(b.target.value),placeholder:"User name"})})]}),x.jsxs("div",{className:nr.item,children:[x.jsx("span",{className:Ye.h5,children:"Add image"}),x.jsx("div",{className:nr.input,children:x.jsx("input",{type:"text",value:u,onChange:b=>d(b.target.value),placeholder:"photoURL"})})]}),x.jsxs("div",{className:nr.item,children:[x.jsx("span",{className:Ye.h5,children:"Email"}),x.jsx("div",{className:nr.input,children:x.jsx("input",{type:"text",value:f,onChange:b=>p(b.target.value),placeholder:"email"})})]}),x.jsxs("div",{className:nr.item,children:[x.jsx("span",{className:Ye.h5,children:"Image for banner"}),x.jsx("div",{className:nr.input,children:x.jsx("input",{type:"text",value:g,onChange:b=>v(b.target.value),placeholder:"image banner"})})]})]}),x.jsxs("button",{className:nr.button,onClick:S,children:[x.jsx(q4,{}),"save"]})]})]})},Yc=Jw("albums/fetchAlbums",async(n,{rejectWithValue:e})=>{try{return{data:await(await fetch(`https://jsonplaceholder.typicode.com/albums?_limit=15&_page=${n}`)).json(),error:null}}catch(t){return t instanceof Error?e(t.message):e("Неизвестная ошибка")}}),Q4="_h1_z9f6c_11",Y4="_h2_z9f6c_23",X4="_h3_z9f6c_29",J4="_card_z9f6c_29",Z4="_h4_z9f6c_41",eV="_loading_z9f6c_41",tV="_h5_z9f6c_53",nV="_h6_z9f6c_65",rV="_subtitle_z9f6c_71",iV="_p_z9f6c_76",sV="_list_z9f6c_81",Mc={h1:Q4,h2:Y4,h3:X4,card:J4,h4:Z4,loading:eV,h5:tV,h6:nV,subtitle:rV,p:iV,list:sV},oV=()=>{const{albums:n,loading:e}=rt(p=>p.albums),[t,r]=z.useState(1),[s,a]=z.useState(!1),u=Sn(),d=[{name:"Home",link:"/"},{name:"albums"}],f=()=>{document.documentElement&&document.documentElement.scrollHeight-(document.documentElement.scrollTop+window.innerHeight)<10&&!s&&a(!0)};return z.useEffect(()=>{s||a(!0)},[]),z.useEffect(()=>{s&&setTimeout(()=>{u(Yc(t)).then(()=>{r(p=>p+1)}).finally(()=>{a(!1)})},1e3)},[s]),z.useEffect(()=>(window.addEventListener("scroll",f),()=>window.removeEventListener("scroll",f)),[]),x.jsxs("div",{className:Mc.body,children:[x.jsx(va,{items:d}),x.jsx("div",{className:Mc.list,children:n.map((p,g)=>x.jsxs("div",{className:Mc.card,children:[x.jsxs("div",{children:["id: ",p.id]}),p.title]},g))}),(s||e)&&x.jsx("div",{className:Mc.loading,children:"loading..."})]})},aV="_h1_rcwsh_11",lV="_h2_rcwsh_23",uV="_name_rcwsh_23",cV="_h3_rcwsh_29",dV="_item_rcwsh_29",fV="_h4_rcwsh_41",hV="_h5_rcwsh_53",pV="_location_rcwsh_53",mV="_h6_rcwsh_65",gV="_subtitle_rcwsh_71",yV="_p_rcwsh_76",_V="_bio_rcwsh_76",vV="_main_rcwsh_81",wV="_top_rcwsh_89",EV="_image_rcwsh_94",TV="_content_rcwsh_108",SV="_statistic_rcwsh_126",IV="_link_rcwsh_141",CV="_follow_rcwsh_155",Ht={h1:aV,h2:lV,name:uV,h3:cV,item:dV,h4:fV,h5:hV,location:pV,h6:mV,subtitle:gV,p:yV,bio:_V,main:vV,top:wV,image:EV,content:TV,statistic:SV,link:IV,follow:CV};function PV(n){return dn({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M515.664-.368C305.76-.368 128 178.4 128 390.176c0 221.76 206.032 448.544 344.624 607.936.528.64 22.929 25.52 50.528 25.52h2.449c27.6 0 49.84-24.88 50.399-25.52 130.064-149.52 320-396.048 320-607.936C896 178.4 757.344-.368 515.664-.368zm12.832 955.552c-1.12 1.12-2.753 2.369-4.193 3.409-1.472-1.008-3.072-2.288-4.255-3.408l-16.737-19.248C371.92 785.2 192 578.785 192 390.176c0-177.008 148.224-326.56 323.664-326.56 218.528 0 316.336 164 316.336 326.56 0 143.184-102.128 333.296-303.504 565.008zm-15.377-761.776c-106.032 0-192 85.968-192 192s85.968 192 192 192 192-85.968 192-192-85.968-192-192-192zm0 320c-70.576 0-129.473-58.816-129.473-129.408 0-70.576 57.424-128 128-128 70.624 0 128 57.424 128 128 .032 70.592-55.903 129.408-126.527 129.408z"},child:[]}]})(n)}const xV=()=>{const{images:n}=rt(u=>u.images),{id:e}=Rw(),t=n.find(u=>u.id===e),r=[{name:"Home",link:"/"},{name:t?`${t.user.first_name}`:""}],s=Sn(),a=rt(u=>Ud(u,t.id));return x.jsxs("div",{children:[x.jsx(va,{items:r}),x.jsxs("div",{className:Ht.main,children:[x.jsxs("div",{className:Ht.top,children:[x.jsx("div",{className:Ht.image,children:x.jsx("img",{src:t==null?void 0:t.user.profile_image.large,alt:""})}),x.jsxs("div",{className:Ht.content,children:[x.jsx("div",{className:Ht.name,children:t==null?void 0:t.user.name}),x.jsxs("div",{className:Ht.location,children:[x.jsx(PV,{size:"20px"}),t==null?void 0:t.user.location]}),x.jsx("div",{className:Ht.bio,children:t==null?void 0:t.user.bio}),x.jsx("button",{onClick:()=>s(Om(t)),type:"button",className:Ht.follow,children:a?"unsubscribe":"subscribe"})]})]}),x.jsxs("ul",{className:Ht.statistic,children:[x.jsxs("div",{className:Ht.item,children:[x.jsx("span",{children:"collections"}),t==null?void 0:t.user.total_collections]}),x.jsxs("div",{className:Ht.item,children:[x.jsx("span",{children:"illustrations"}),t==null?void 0:t.user.total_illustrations]}),x.jsxs("div",{className:Ht.item,children:[x.jsx("span",{children:"likes"}),t==null?void 0:t.user.total_likes]}),x.jsxs("div",{className:Ht.item,children:[x.jsx("span",{children:"photos"}),t==null?void 0:t.user.total_photos]}),x.jsxs("div",{className:Ht.item,children:[x.jsx("span",{children:"promoted illustrations"}),t==null?void 0:t.user.total_promoted_illustrations]}),x.jsxs("div",{className:Ht.item,children:[x.jsx("span",{children:"promoted photos"}),t==null?void 0:t.user.total_promoted_photos]})]}),x.jsx("a",{href:t==null?void 0:t.user.links.html,className:Ht.link,children:"account"})]})]})};function RV(){const n=Sn(),e=rt(t=>t.modal.isOpen);return z.useEffect(()=>{if(e){const t=setTimeout(()=>{n(Sr.modalClosed())},2e3);return()=>clearTimeout(t)}},[e,n]),x.jsx(_I,{basename:"/gallery-website",children:x.jsxs(K1,{children:[x.jsxs(un,{element:x.jsx(Vk,{}),children:[x.jsx(un,{path:"/",element:x.jsx(G1,{to:"/main"})}),x.jsx(un,{path:"/main",element:x.jsx(uN,{})})]}),x.jsxs(un,{element:x.jsx(ON,{}),children:[x.jsx(un,{path:"/favorites",element:x.jsx(NN,{})}),x.jsx(un,{path:"card/:id",element:x.jsx(hO,{})}),x.jsx(un,{path:"user-page/:id",element:x.jsx(U4,{})}),x.jsx(un,{path:"/profile-edit",element:x.jsx(K4,{})}),x.jsx(un,{path:"/albums",element:x.jsx(oV,{})}),x.jsx(un,{path:"author-page/:id",element:x.jsx(xV,{})})]}),x.jsxs(un,{element:x.jsx(CO,{}),children:[x.jsx(un,{path:"/login",element:x.jsx(TO,{})}),x.jsx(un,{path:"/register",element:x.jsx(IO,{})})]})]})})}const AV={images:[],loading:!1,error:null},kV=ga({name:"images",initialState:AV,reducers:{},extraReducers:n=>{n.addCase(Jo.pending,e=>{e.loading=!0}).addCase(Jo.fulfilled,(e,t)=>{e.images=t.payload,e.loading=!1}).addCase(Jo.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),bV={albums:[],loading:!1,error:null},NV=ga({name:"albums",initialState:bV,reducers:{},extraReducers:n=>{n.addCase(Yc.pending,e=>{e.loading=!0}).addCase(Yc.fulfilled,(e,t)=>{t.payload.data&&(e.albums=[...e.albums,...t.payload.data]),e.loading=!1}).addCase(Yc.rejected,(e,t)=>{const r=t.payload;e.loading=!1,e.error=r})}}),OV=Uw({images:kV.reducer,albums:NV.reducer,favorites:O2,user:PP,modal:M2,authors:fO}),LV=iP({reducer:OV});var DV="firebase",MV="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gi(DV,MV,"app");const VV={apiKey:"AIzaSyA67CbgNjAM15Ff56vlUNVompRxbuOd4RM",authDomain:"gallery-website-ffdba.firebaseapp.com",projectId:"gallery-website-ffdba",storageBucket:"gallery-website-ffdba.firebasestorage.app",messagingSenderId:"1041668468411",appId:"1:1041668468411:web:2290e417a1715bd29c039e"};aE(VV);t1.createRoot(document.getElementById("root")).render(x.jsx(z.StrictMode,{children:x.jsx(RC,{store:LV,children:x.jsx(RV,{})})}));
