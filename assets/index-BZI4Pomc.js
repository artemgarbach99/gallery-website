var G0=Object.defineProperty;var q0=(n,e,t)=>e in n?G0(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Nh=(n,e,t)=>q0(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function K0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Oh={exports:{}},_l={},Lh={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function Q0(){if(__)return Le;__=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function E(W){return W===null||typeof W!="object"?null:(W=v&&W[v]||W["@@iterator"],typeof W=="function"?W:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,O={};function k(W,J,ge){this.props=W,this.context=J,this.refs=O,this.updater=ge||P}k.prototype.isReactComponent={},k.prototype.setState=function(W,J){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,J,"setState")},k.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function D(){}D.prototype=k.prototype;function R(W,J,ge){this.props=W,this.context=J,this.refs=O,this.updater=ge||P}var A=R.prototype=new D;A.constructor=R,S(A,k.prototype),A.isPureReactComponent=!0;var F=Array.isArray,H=Object.prototype.hasOwnProperty,X={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function I(W,J,ge){var ke,Ne={},ce=null,we=null;if(J!=null)for(ke in J.ref!==void 0&&(we=J.ref),J.key!==void 0&&(ce=""+J.key),J)H.call(J,ke)&&!M.hasOwnProperty(ke)&&(Ne[ke]=J[ke]);var Oe=arguments.length-2;if(Oe===1)Ne.children=ge;else if(1<Oe){for(var Ke=Array(Oe),It=0;It<Oe;It++)Ke[It]=arguments[It+2];Ne.children=Ke}if(W&&W.defaultProps)for(ke in Oe=W.defaultProps,Oe)Ne[ke]===void 0&&(Ne[ke]=Oe[ke]);return{$$typeof:n,type:W,key:ce,ref:we,props:Ne,_owner:X.current}}function x(W,J){return{$$typeof:n,type:W.type,key:J,ref:W.ref,props:W.props,_owner:W._owner}}function L(W){return typeof W=="object"&&W!==null&&W.$$typeof===n}function V(W){var J={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(ge){return J[ge]})}var $=/\/+/g;function N(W,J){return typeof W=="object"&&W!==null&&W.key!=null?V(""+W.key):J.toString(36)}function ue(W,J,ge,ke,Ne){var ce=typeof W;(ce==="undefined"||ce==="boolean")&&(W=null);var we=!1;if(W===null)we=!0;else switch(ce){case"string":case"number":we=!0;break;case"object":switch(W.$$typeof){case n:case e:we=!0}}if(we)return we=W,Ne=Ne(we),W=ke===""?"."+N(we,0):ke,F(Ne)?(ge="",W!=null&&(ge=W.replace($,"$&/")+"/"),ue(Ne,J,ge,"",function(It){return It})):Ne!=null&&(L(Ne)&&(Ne=x(Ne,ge+(!Ne.key||we&&we.key===Ne.key?"":(""+Ne.key).replace($,"$&/")+"/")+W)),J.push(Ne)),1;if(we=0,ke=ke===""?".":ke+":",F(W))for(var Oe=0;Oe<W.length;Oe++){ce=W[Oe];var Ke=ke+N(ce,Oe);we+=ue(ce,J,ge,Ke,Ne)}else if(Ke=E(W),typeof Ke=="function")for(W=Ke.call(W),Oe=0;!(ce=W.next()).done;)ce=ce.value,Ke=ke+N(ce,Oe++),we+=ue(ce,J,ge,Ke,Ne);else if(ce==="object")throw J=String(W),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return we}function _e(W,J,ge){if(W==null)return W;var ke=[],Ne=0;return ue(W,ke,"","",function(ce){return J.call(ge,ce,Ne++)}),ke}function ve(W){if(W._status===-1){var J=W._result;J=J(),J.then(function(ge){(W._status===0||W._status===-1)&&(W._status=1,W._result=ge)},function(ge){(W._status===0||W._status===-1)&&(W._status=2,W._result=ge)}),W._status===-1&&(W._status=0,W._result=J)}if(W._status===1)return W._result.default;throw W._result}var Pe={current:null},re={transition:null},le={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:re,ReactCurrentOwner:X};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:_e,forEach:function(W,J,ge){_e(W,function(){J.apply(this,arguments)},ge)},count:function(W){var J=0;return _e(W,function(){J++}),J},toArray:function(W){return _e(W,function(J){return J})||[]},only:function(W){if(!L(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},Le.Component=k,Le.Fragment=t,Le.Profiler=s,Le.PureComponent=R,Le.StrictMode=r,Le.Suspense=f,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,Le.act=oe,Le.cloneElement=function(W,J,ge){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var ke=S({},W.props),Ne=W.key,ce=W.ref,we=W._owner;if(J!=null){if(J.ref!==void 0&&(ce=J.ref,we=X.current),J.key!==void 0&&(Ne=""+J.key),W.type&&W.type.defaultProps)var Oe=W.type.defaultProps;for(Ke in J)H.call(J,Ke)&&!M.hasOwnProperty(Ke)&&(ke[Ke]=J[Ke]===void 0&&Oe!==void 0?Oe[Ke]:J[Ke])}var Ke=arguments.length-2;if(Ke===1)ke.children=ge;else if(1<Ke){Oe=Array(Ke);for(var It=0;It<Ke;It++)Oe[It]=arguments[It+2];ke.children=Oe}return{$$typeof:n,type:W.type,key:Ne,ref:ce,props:ke,_owner:we}},Le.createContext=function(W){return W={$$typeof:u,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:a,_context:W},W.Consumer=W},Le.createElement=I,Le.createFactory=function(W){var J=I.bind(null,W);return J.type=W,J},Le.createRef=function(){return{current:null}},Le.forwardRef=function(W){return{$$typeof:d,render:W}},Le.isValidElement=L,Le.lazy=function(W){return{$$typeof:g,_payload:{_status:-1,_result:W},_init:ve}},Le.memo=function(W,J){return{$$typeof:p,type:W,compare:J===void 0?null:J}},Le.startTransition=function(W){var J=re.transition;re.transition={};try{W()}finally{re.transition=J}},Le.unstable_act=oe,Le.useCallback=function(W,J){return Pe.current.useCallback(W,J)},Le.useContext=function(W){return Pe.current.useContext(W)},Le.useDebugValue=function(){},Le.useDeferredValue=function(W){return Pe.current.useDeferredValue(W)},Le.useEffect=function(W,J){return Pe.current.useEffect(W,J)},Le.useId=function(){return Pe.current.useId()},Le.useImperativeHandle=function(W,J,ge){return Pe.current.useImperativeHandle(W,J,ge)},Le.useInsertionEffect=function(W,J){return Pe.current.useInsertionEffect(W,J)},Le.useLayoutEffect=function(W,J){return Pe.current.useLayoutEffect(W,J)},Le.useMemo=function(W,J){return Pe.current.useMemo(W,J)},Le.useReducer=function(W,J,ge){return Pe.current.useReducer(W,J,ge)},Le.useRef=function(W){return Pe.current.useRef(W)},Le.useState=function(W){return Pe.current.useState(W)},Le.useSyncExternalStore=function(W,J,ge){return Pe.current.useSyncExternalStore(W,J,ge)},Le.useTransition=function(){return Pe.current.useTransition()},Le.version="18.3.1",Le}var v_;function kd(){return v_||(v_=1,Lh.exports=Q0()),Lh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function Y0(){if(w_)return _l;w_=1;var n=kd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,p){var g,v={},E=null,P=null;p!==void 0&&(E=""+p),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(P=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(v[g]=f[g]);if(d&&d.defaultProps)for(g in f=d.defaultProps,f)v[g]===void 0&&(v[g]=f[g]);return{$$typeof:e,type:d,key:E,ref:P,props:v,_owner:s.current}}return _l.Fragment=t,_l.jsx=u,_l.jsxs=u,_l}var E_;function X0(){return E_||(E_=1,Oh.exports=Y0()),Oh.exports}var C=X0(),U=kd();const Be=K0(U);var Pc={},Dh={exports:{}},ln={},Mh={exports:{}},Vh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function J0(){return T_||(T_=1,function(n){function e(re,le){var oe=re.length;re.push(le);e:for(;0<oe;){var W=oe-1>>>1,J=re[W];if(0<s(J,le))re[W]=le,re[oe]=J,oe=W;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var le=re[0],oe=re.pop();if(oe!==le){re[0]=oe;e:for(var W=0,J=re.length,ge=J>>>1;W<ge;){var ke=2*(W+1)-1,Ne=re[ke],ce=ke+1,we=re[ce];if(0>s(Ne,oe))ce<J&&0>s(we,Ne)?(re[W]=we,re[ce]=oe,W=ce):(re[W]=Ne,re[ke]=oe,W=ke);else if(ce<J&&0>s(we,oe))re[W]=we,re[ce]=oe,W=ce;else break e}}return le}function s(re,le){var oe=re.sortIndex-le.sortIndex;return oe!==0?oe:re.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],p=[],g=1,v=null,E=3,P=!1,S=!1,O=!1,k=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(re){for(var le=t(p);le!==null;){if(le.callback===null)r(p);else if(le.startTime<=re)r(p),le.sortIndex=le.expirationTime,e(f,le);else break;le=t(p)}}function F(re){if(O=!1,A(re),!S)if(t(f)!==null)S=!0,ve(H);else{var le=t(p);le!==null&&Pe(F,le.startTime-re)}}function H(re,le){S=!1,O&&(O=!1,D(I),I=-1),P=!0;var oe=E;try{for(A(le),v=t(f);v!==null&&(!(v.expirationTime>le)||re&&!V());){var W=v.callback;if(typeof W=="function"){v.callback=null,E=v.priorityLevel;var J=W(v.expirationTime<=le);le=n.unstable_now(),typeof J=="function"?v.callback=J:v===t(f)&&r(f),A(le)}else r(f);v=t(f)}if(v!==null)var ge=!0;else{var ke=t(p);ke!==null&&Pe(F,ke.startTime-le),ge=!1}return ge}finally{v=null,E=oe,P=!1}}var X=!1,M=null,I=-1,x=5,L=-1;function V(){return!(n.unstable_now()-L<x)}function $(){if(M!==null){var re=n.unstable_now();L=re;var le=!0;try{le=M(!0,re)}finally{le?N():(X=!1,M=null)}}else X=!1}var N;if(typeof R=="function")N=function(){R($)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,_e=ue.port2;ue.port1.onmessage=$,N=function(){_e.postMessage(null)}}else N=function(){k($,0)};function ve(re){M=re,X||(X=!0,N())}function Pe(re,le){I=k(function(){re(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){S||P||(S=!0,ve(H))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(re){switch(E){case 1:case 2:case 3:var le=3;break;default:le=E}var oe=E;E=le;try{return re()}finally{E=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,le){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var oe=E;E=re;try{return le()}finally{E=oe}},n.unstable_scheduleCallback=function(re,le,oe){var W=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?W+oe:W):oe=W,re){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=oe+J,re={id:g++,callback:le,priorityLevel:re,startTime:oe,expirationTime:J,sortIndex:-1},oe>W?(re.sortIndex=oe,e(p,re),t(f)===null&&re===t(p)&&(O?(D(I),I=-1):O=!0,Pe(F,oe-W))):(re.sortIndex=J,e(f,re),S||P||(S=!0,ve(H))),re},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(re){var le=E;return function(){var oe=E;E=le;try{return re.apply(this,arguments)}finally{E=oe}}}}(Vh)),Vh}var S_;function Z0(){return S_||(S_=1,Mh.exports=J0()),Mh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function e1(){if(I_)return ln;I_=1;var n=kd(),e=Z0();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function E(i){return f.call(v,i)?!0:f.call(g,i)?!1:p.test(i)?v[i]=!0:(g[i]=!0,!1)}function P(i,o,l,h){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function S(i,o,l,h){if(o===null||typeof o>"u"||P(i,o,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function O(i,o,l,h,m,_,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=_,this.removeEmptyString=T}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){k[i]=new O(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];k[o]=new O(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){k[i]=new O(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){k[i]=new O(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){k[i]=new O(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){k[i]=new O(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){k[i]=new O(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){k[i]=new O(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){k[i]=new O(i,5,!1,i.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function R(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(D,R);k[o]=new O(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(D,R);k[o]=new O(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(D,R);k[o]=new O(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){k[i]=new O(i,1,!1,i.toLowerCase(),null,!1,!1)}),k.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){k[i]=new O(i,1,!1,i.toLowerCase(),null,!0,!0)});function A(i,o,l,h){var m=k.hasOwnProperty(o)?k[o]:null;(m!==null?m.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(S(o,l,m,h)&&(l=null),h||m===null?E(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):m.mustUseProperty?i[m.propertyName]=l===null?m.type===3?!1:"":l:(o=m.attributeName,h=m.attributeNamespace,l===null?i.removeAttribute(o):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,h?i.setAttributeNS(h,o,l):i.setAttribute(o,l))))}var F=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),X=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),V=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),_e=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),Pe=Symbol.for("react.offscreen"),re=Symbol.iterator;function le(i){return i===null||typeof i!="object"?null:(i=re&&i[re]||i["@@iterator"],typeof i=="function"?i:null)}var oe=Object.assign,W;function J(i){if(W===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);W=o&&o[1]||""}return`
`+W+i}var ge=!1;function ke(i,o){if(!i||ge)return"";ge=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Q){var h=Q}Reflect.construct(i,[],o)}else{try{o.call()}catch(Q){h=Q}i.call(o.prototype)}else{try{throw Error()}catch(Q){h=Q}i()}}catch(Q){if(Q&&h&&typeof Q.stack=="string"){for(var m=Q.stack.split(`
`),_=h.stack.split(`
`),T=m.length-1,j=_.length-1;1<=T&&0<=j&&m[T]!==_[j];)j--;for(;1<=T&&0<=j;T--,j--)if(m[T]!==_[j]){if(T!==1||j!==1)do if(T--,j--,0>j||m[T]!==_[j]){var z=`
`+m[T].replace(" at new "," at ");return i.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",i.displayName)),z}while(1<=T&&0<=j);break}}}finally{ge=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?J(i):""}function Ne(i){switch(i.tag){case 5:return J(i.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return i=ke(i.type,!1),i;case 11:return i=ke(i.type.render,!1),i;case 1:return i=ke(i.type,!0),i;default:return""}}function ce(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case X:return"Portal";case x:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case ue:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case V:return(i.displayName||"Context")+".Consumer";case L:return(i._context.displayName||"Context")+".Provider";case $:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case _e:return o=i.displayName||null,o!==null?o:ce(i.type)||"Memo";case ve:o=i._payload,i=i._init;try{return ce(i(o))}catch{}}return null}function we(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(o);case 8:return o===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Oe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ke(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function It(i){var o=Ke(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),h=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,_=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(T){h=""+T,_.call(this,T)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Nr(i){i._valueTracker||(i._valueTracker=It(i))}function Qs(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),h="";return i&&(h=Ke(i)?i.checked?"true":"false":i.value),i=h,i!==l?(o.setValue(i),!0):!1}function ci(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function is(i,o){var l=o.checked;return oe({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Ys(i,o){var l=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;l=Oe(o.value!=null?o.value:l),i._wrapperState={initialChecked:h,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ia(i,o){o=o.checked,o!=null&&A(i,"checked",o,!1)}function Ca(i,o){Ia(i,o);var l=Oe(o.value),h=o.type;if(l!=null)h==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Xs(i,o.type,l):o.hasOwnProperty("defaultValue")&&Xs(i,o.type,Oe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function du(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function Xs(i,o,l){(o!=="number"||ci(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Or=Array.isArray;function Lr(i,o,l,h){if(i=i.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=o.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&h&&(i[l].defaultSelected=!0)}else{for(l=""+Oe(l),o=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,h&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function Pa(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Js(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(Or(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:Oe(l)}}function Zs(i,o){var l=Oe(o.value),h=Oe(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),h!=null&&(i.defaultValue=""+h)}function xa(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function gt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?gt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Dr,Ra=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,h,m){MSApp.execUnsafeLocalFunction(function(){return i(o,l,h,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Dr=Dr||document.createElement("div"),Dr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Dr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function di(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var ss={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},os=["Webkit","ms","Moz","O"];Object.keys(ss).forEach(function(i){os.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),ss[o]=ss[i]})});function Aa(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||ss.hasOwnProperty(i)&&ss[i]?(""+o).trim():o+"px"}function ba(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var h=l.indexOf("--")===0,m=Aa(l,o[l],h);l==="float"&&(l="cssFloat"),h?i.setProperty(l,m):i[l]=m}}var ka=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Na(i,o){if(o){if(ka[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Oa(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var as=null;function eo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var to=null,In=null,cr=null;function no(i){if(i=rl(i)){if(typeof to!="function")throw Error(t(280));var o=i.stateNode;o&&(o=zu(o),to(i.stateNode,i.type,o))}}function dr(i){In?cr?cr.push(i):cr=[i]:In=i}function La(){if(In){var i=In,o=cr;if(cr=In=null,no(i),o)for(i=0;i<o.length;i++)no(o[i])}}function ls(i,o){return i(o)}function Da(){}var Mr=!1;function Ma(i,o,l){if(Mr)return i(o,l);Mr=!0;try{return ls(i,o,l)}finally{Mr=!1,(In!==null||cr!==null)&&(Da(),La())}}function ct(i,o){var l=i.stateNode;if(l===null)return null;var h=zu(l);if(h===null)return null;l=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var ro=!1;if(d)try{var Fn={};Object.defineProperty(Fn,"passive",{get:function(){ro=!0}}),window.addEventListener("test",Fn,Fn),window.removeEventListener("test",Fn,Fn)}catch{ro=!1}function us(i,o,l,h,m,_,T,j,z){var Q=Array.prototype.slice.call(arguments,3);try{o.apply(l,Q)}catch(te){this.onError(te)}}var cs=!1,io=null,$n=!1,Va=null,of={onError:function(i){cs=!0,io=i}};function so(i,o,l,h,m,_,T,j,z){cs=!1,io=null,us.apply(of,arguments)}function fu(i,o,l,h,m,_,T,j,z){if(so.apply(this,arguments),cs){if(cs){var Q=io;cs=!1,io=null}else throw Error(t(198));$n||($n=!0,Va=Q)}}function zn(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function ds(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Un(i){if(zn(i)!==i)throw Error(t(188))}function hu(i){var o=i.alternate;if(!o){if(o=zn(i),o===null)throw Error(t(188));return o!==i?null:i}for(var l=i,h=o;;){var m=l.return;if(m===null)break;var _=m.alternate;if(_===null){if(h=m.return,h!==null){l=h;continue}break}if(m.child===_.child){for(_=m.child;_;){if(_===l)return Un(m),i;if(_===h)return Un(m),o;_=_.sibling}throw Error(t(188))}if(l.return!==h.return)l=m,h=_;else{for(var T=!1,j=m.child;j;){if(j===l){T=!0,l=m,h=_;break}if(j===h){T=!0,h=m,l=_;break}j=j.sibling}if(!T){for(j=_.child;j;){if(j===l){T=!0,l=_,h=m;break}if(j===h){T=!0,h=_,l=m;break}j=j.sibling}if(!T)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:o}function ja(i){return i=hu(i),i!==null?oo(i):null}function oo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=oo(i);if(o!==null)return o;i=i.sibling}return null}var ao=e.unstable_scheduleCallback,Fa=e.unstable_cancelCallback,pu=e.unstable_shouldYield,af=e.unstable_requestPaint,Qe=e.unstable_now,mu=e.unstable_getCurrentPriorityLevel,fs=e.unstable_ImmediatePriority,fi=e.unstable_UserBlockingPriority,Cn=e.unstable_NormalPriority,$a=e.unstable_LowPriority,gu=e.unstable_IdlePriority,hs=null,fn=null;function yu(i){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(hs,i,void 0,(i.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:vu,za=Math.log,_u=Math.LN2;function vu(i){return i>>>=0,i===0?32:31-(za(i)/_u|0)|0}var lo=64,uo=4194304;function hi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ps(i,o){var l=i.pendingLanes;if(l===0)return 0;var h=0,m=i.suspendedLanes,_=i.pingedLanes,T=l&268435455;if(T!==0){var j=T&~m;j!==0?h=hi(j):(_&=T,_!==0&&(h=hi(_)))}else T=l&~m,T!==0?h=hi(T):_!==0&&(h=hi(_));if(h===0)return 0;if(o!==0&&o!==h&&!(o&m)&&(m=h&-h,_=o&-o,m>=_||m===16&&(_&4194240)!==0))return o;if(h&4&&(h|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=h;0<o;)l=31-Qt(o),m=1<<l,h|=i[l],o&=~m;return h}function lf(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vr(i,o){for(var l=i.suspendedLanes,h=i.pingedLanes,m=i.expirationTimes,_=i.pendingLanes;0<_;){var T=31-Qt(_),j=1<<T,z=m[T];z===-1?(!(j&l)||j&h)&&(m[T]=lf(j,o)):z<=o&&(i.expiredLanes|=j),_&=~j}}function hn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function ms(){var i=lo;return lo<<=1,!(lo&4194240)&&(lo=64),i}function pi(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function mi(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Qt(o),i[o]=l}function qe(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<l;){var m=31-Qt(l),_=1<<m;o[m]=0,h[m]=-1,i[m]=-1,l&=~_}}function gi(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var h=31-Qt(l),m=1<<h;m&o|i[h]&o&&(i[h]|=o),l&=~m}}var Ve=0;function yi(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var wu,co,Eu,Tu,Su,Ua=!1,fr=[],kt=null,Bn=null,Hn=null,_i=new Map,Pn=new Map,hr=[],uf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Iu(i,o){switch(i){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":Hn=null;break;case"pointerover":case"pointerout":_i.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pn.delete(o.pointerId)}}function en(i,o,l,h,m,_){return i===null||i.nativeEvent!==_?(i={blockedOn:o,domEventName:l,eventSystemFlags:h,nativeEvent:_,targetContainers:[m]},o!==null&&(o=rl(o),o!==null&&co(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function cf(i,o,l,h,m){switch(o){case"focusin":return kt=en(kt,i,o,l,h,m),!0;case"dragenter":return Bn=en(Bn,i,o,l,h,m),!0;case"mouseover":return Hn=en(Hn,i,o,l,h,m),!0;case"pointerover":var _=m.pointerId;return _i.set(_,en(_i.get(_)||null,i,o,l,h,m)),!0;case"gotpointercapture":return _=m.pointerId,Pn.set(_,en(Pn.get(_)||null,i,o,l,h,m)),!0}return!1}function Cu(i){var o=ws(i.target);if(o!==null){var l=zn(o);if(l!==null){if(o=l.tag,o===13){if(o=ds(l),o!==null){i.blockedOn=o,Su(i.priority,function(){Eu(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function jr(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=fo(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);as=h,l.target.dispatchEvent(h),as=null}else return o=rl(l),o!==null&&co(o),i.blockedOn=l,!1;o.shift()}return!0}function gs(i,o,l){jr(i)&&l.delete(o)}function Pu(){Ua=!1,kt!==null&&jr(kt)&&(kt=null),Bn!==null&&jr(Bn)&&(Bn=null),Hn!==null&&jr(Hn)&&(Hn=null),_i.forEach(gs),Pn.forEach(gs)}function Wn(i,o){i.blockedOn===o&&(i.blockedOn=null,Ua||(Ua=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Pu)))}function Gn(i){function o(m){return Wn(m,i)}if(0<fr.length){Wn(fr[0],i);for(var l=1;l<fr.length;l++){var h=fr[l];h.blockedOn===i&&(h.blockedOn=null)}}for(kt!==null&&Wn(kt,i),Bn!==null&&Wn(Bn,i),Hn!==null&&Wn(Hn,i),_i.forEach(o),Pn.forEach(o),l=0;l<hr.length;l++)h=hr[l],h.blockedOn===i&&(h.blockedOn=null);for(;0<hr.length&&(l=hr[0],l.blockedOn===null);)Cu(l),l.blockedOn===null&&hr.shift()}var Fr=F.ReactCurrentBatchConfig,vi=!0;function Ze(i,o,l,h){var m=Ve,_=Fr.transition;Fr.transition=null;try{Ve=1,Ba(i,o,l,h)}finally{Ve=m,Fr.transition=_}}function df(i,o,l,h){var m=Ve,_=Fr.transition;Fr.transition=null;try{Ve=4,Ba(i,o,l,h)}finally{Ve=m,Fr.transition=_}}function Ba(i,o,l,h){if(vi){var m=fo(i,o,l,h);if(m===null)Tf(i,o,h,ys,l),Iu(i,h);else if(cf(m,i,o,l,h))h.stopPropagation();else if(Iu(i,h),o&4&&-1<uf.indexOf(i)){for(;m!==null;){var _=rl(m);if(_!==null&&wu(_),_=fo(i,o,l,h),_===null&&Tf(i,o,h,ys,l),_===m)break;m=_}m!==null&&h.stopPropagation()}else Tf(i,o,h,null,l)}}var ys=null;function fo(i,o,l,h){if(ys=null,i=eo(h),i=ws(i),i!==null)if(o=zn(i),o===null)i=null;else if(l=o.tag,l===13){if(i=ds(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return ys=i,null}function Ha(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mu()){case fs:return 1;case fi:return 4;case Cn:case $a:return 16;case gu:return 536870912;default:return 16}default:return 16}}var pn=null,ho=null,tn=null;function Wa(){if(tn)return tn;var i,o=ho,l=o.length,h,m="value"in pn?pn.value:pn.textContent,_=m.length;for(i=0;i<l&&o[i]===m[i];i++);var T=l-i;for(h=1;h<=T&&o[l-h]===m[_-h];h++);return tn=m.slice(i,1<h?1-h:void 0)}function po(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function pr(){return!0}function Ga(){return!1}function Nt(i){function o(l,h,m,_,T){this._reactName=l,this._targetInst=m,this.type=h,this.nativeEvent=_,this.target=T,this.currentTarget=null;for(var j in i)i.hasOwnProperty(j)&&(l=i[j],this[j]=l?l(_):_[j]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?pr:Ga,this.isPropagationStopped=Ga,this}return oe(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=pr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=pr)},persist:function(){},isPersistent:pr}),o}var qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mo=Nt(qn),mr=oe({},qn,{view:0,detail:0}),ff=Nt(mr),go,$r,wi,_s=oe({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==wi&&(wi&&i.type==="mousemove"?(go=i.screenX-wi.screenX,$r=i.screenY-wi.screenY):$r=go=0,wi=i),go)},movementY:function(i){return"movementY"in i?i.movementY:$r}}),yo=Nt(_s),qa=oe({},_s,{dataTransfer:0}),xu=Nt(qa),_o=oe({},mr,{relatedTarget:0}),vo=Nt(_o),Ru=oe({},qn,{animationName:0,elapsedTime:0,pseudoElement:0}),zr=Nt(Ru),Au=oe({},qn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),bu=Nt(Au),ku=oe({},qn,{data:0}),Ka=Nt(ku),wo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ou(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Nu[i])?!!o[i]:!1}function gr(){return Ou}var c=oe({},mr,{key:function(i){if(i.key){var o=wo[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=po(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Yt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(i){return i.type==="keypress"?po(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?po(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),y=Nt(c),w=oe({},_s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b=Nt(w),G=oe({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr}),Y=Nt(G),ae=oe({},qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),We=Nt(ae),_t=oe({},_s,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Fe=Nt(_t),Ct=[9,13,27,32],ht=d&&"CompositionEvent"in window,xn=null;d&&"documentMode"in document&&(xn=document.documentMode);var mn=d&&"TextEvent"in window&&!xn,vs=d&&(!ht||xn&&8<xn&&11>=xn),Eo=" ",fg=!1;function hg(i,o){switch(i){case"keyup":return Ct.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var To=!1;function HS(i,o){switch(i){case"compositionend":return pg(o);case"keypress":return o.which!==32?null:(fg=!0,Eo);case"textInput":return i=o.data,i===Eo&&fg?null:i;default:return null}}function WS(i,o){if(To)return i==="compositionend"||!ht&&hg(i,o)?(i=Wa(),tn=ho=pn=null,To=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return vs&&o.locale!=="ko"?null:o.data;default:return null}}var GS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mg(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!GS[i.type]:o==="textarea"}function gg(i,o,l,h){dr(h),o=ju(o,"onChange"),0<o.length&&(l=new mo("onChange","change",null,l,h),i.push({event:l,listeners:o}))}var Qa=null,Ya=null;function qS(i){Lg(i,0)}function Lu(i){var o=xo(i);if(Qs(o))return i}function KS(i,o){if(i==="change")return o}var yg=!1;if(d){var hf;if(d){var pf="oninput"in document;if(!pf){var _g=document.createElement("div");_g.setAttribute("oninput","return;"),pf=typeof _g.oninput=="function"}hf=pf}else hf=!1;yg=hf&&(!document.documentMode||9<document.documentMode)}function vg(){Qa&&(Qa.detachEvent("onpropertychange",wg),Ya=Qa=null)}function wg(i){if(i.propertyName==="value"&&Lu(Ya)){var o=[];gg(o,Ya,i,eo(i)),Ma(qS,o)}}function QS(i,o,l){i==="focusin"?(vg(),Qa=o,Ya=l,Qa.attachEvent("onpropertychange",wg)):i==="focusout"&&vg()}function YS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Lu(Ya)}function XS(i,o){if(i==="click")return Lu(o)}function JS(i,o){if(i==="input"||i==="change")return Lu(o)}function ZS(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Kn=typeof Object.is=="function"?Object.is:ZS;function Xa(i,o){if(Kn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),h=Object.keys(o);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var m=l[h];if(!f.call(o,m)||!Kn(i[m],o[m]))return!1}return!0}function Eg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Tg(i,o){var l=Eg(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=o&&h>=o)return{node:l,offset:o-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Eg(l)}}function Sg(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Sg(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Ig(){for(var i=window,o=ci();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=ci(i.document)}return o}function mf(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function e0(i){var o=Ig(),l=i.focusedElem,h=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&Sg(l.ownerDocument.documentElement,l)){if(h!==null&&mf(l)){if(o=h.start,i=h.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=l.textContent.length,_=Math.min(h.start,m);h=h.end===void 0?_:Math.min(h.end,m),!i.extend&&_>h&&(m=h,h=_,_=m),m=Tg(l,_);var T=Tg(l,h);m&&T&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),_>h?(i.addRange(o),i.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var t0=d&&"documentMode"in document&&11>=document.documentMode,So=null,gf=null,Ja=null,yf=!1;function Cg(i,o,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;yf||So==null||So!==ci(h)||(h=So,"selectionStart"in h&&mf(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ja&&Xa(Ja,h)||(Ja=h,h=ju(gf,"onSelect"),0<h.length&&(o=new mo("onSelect","select",null,o,l),i.push({event:o,listeners:h}),o.target=So)))}function Du(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var Io={animationend:Du("Animation","AnimationEnd"),animationiteration:Du("Animation","AnimationIteration"),animationstart:Du("Animation","AnimationStart"),transitionend:Du("Transition","TransitionEnd")},_f={},Pg={};d&&(Pg=document.createElement("div").style,"AnimationEvent"in window||(delete Io.animationend.animation,delete Io.animationiteration.animation,delete Io.animationstart.animation),"TransitionEvent"in window||delete Io.transitionend.transition);function Mu(i){if(_f[i])return _f[i];if(!Io[i])return i;var o=Io[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in Pg)return _f[i]=o[l];return i}var xg=Mu("animationend"),Rg=Mu("animationiteration"),Ag=Mu("animationstart"),bg=Mu("transitionend"),kg=new Map,Ng="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ei(i,o){kg.set(i,o),a(o,[i])}for(var vf=0;vf<Ng.length;vf++){var wf=Ng[vf],n0=wf.toLowerCase(),r0=wf[0].toUpperCase()+wf.slice(1);Ei(n0,"on"+r0)}Ei(xg,"onAnimationEnd"),Ei(Rg,"onAnimationIteration"),Ei(Ag,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(bg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Za));function Og(i,o,l){var h=i.type||"unknown-event";i.currentTarget=l,fu(h,o,void 0,i),i.currentTarget=null}function Lg(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],m=h.event;h=h.listeners;e:{var _=void 0;if(o)for(var T=h.length-1;0<=T;T--){var j=h[T],z=j.instance,Q=j.currentTarget;if(j=j.listener,z!==_&&m.isPropagationStopped())break e;Og(m,j,Q),_=z}else for(T=0;T<h.length;T++){if(j=h[T],z=j.instance,Q=j.currentTarget,j=j.listener,z!==_&&m.isPropagationStopped())break e;Og(m,j,Q),_=z}}}if($n)throw i=Va,$n=!1,Va=null,i}function Xe(i,o){var l=o[Rf];l===void 0&&(l=o[Rf]=new Set);var h=i+"__bubble";l.has(h)||(Dg(o,i,2,!1),l.add(h))}function Ef(i,o,l){var h=0;o&&(h|=4),Dg(l,i,h,o)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function el(i){if(!i[Vu]){i[Vu]=!0,r.forEach(function(l){l!=="selectionchange"&&(i0.has(l)||Ef(l,!1,i),Ef(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Vu]||(o[Vu]=!0,Ef("selectionchange",!1,o))}}function Dg(i,o,l,h){switch(Ha(o)){case 1:var m=Ze;break;case 4:m=df;break;default:m=Ba}l=m.bind(null,o,l,i),m=void 0,!ro||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),h?m!==void 0?i.addEventListener(o,l,{capture:!0,passive:m}):i.addEventListener(o,l,!0):m!==void 0?i.addEventListener(o,l,{passive:m}):i.addEventListener(o,l,!1)}function Tf(i,o,l,h,m){var _=h;if(!(o&1)&&!(o&2)&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var j=h.stateNode.containerInfo;if(j===m||j.nodeType===8&&j.parentNode===m)break;if(T===4)for(T=h.return;T!==null;){var z=T.tag;if((z===3||z===4)&&(z=T.stateNode.containerInfo,z===m||z.nodeType===8&&z.parentNode===m))return;T=T.return}for(;j!==null;){if(T=ws(j),T===null)return;if(z=T.tag,z===5||z===6){h=_=T;continue e}j=j.parentNode}}h=h.return}Ma(function(){var Q=_,te=eo(l),ne=[];e:{var ee=kg.get(i);if(ee!==void 0){var de=mo,pe=i;switch(i){case"keypress":if(po(l)===0)break e;case"keydown":case"keyup":de=y;break;case"focusin":pe="focus",de=vo;break;case"focusout":pe="blur",de=vo;break;case"beforeblur":case"afterblur":de=vo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=yo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Y;break;case xg:case Rg:case Ag:de=zr;break;case bg:de=We;break;case"scroll":de=ff;break;case"wheel":de=Fe;break;case"copy":case"cut":case"paste":de=bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=b}var me=(o&4)!==0,dt=!me&&i==="scroll",q=me?ee!==null?ee+"Capture":null:ee;me=[];for(var B=Q,K;B!==null;){K=B;var se=K.stateNode;if(K.tag===5&&se!==null&&(K=se,q!==null&&(se=ct(B,q),se!=null&&me.push(tl(B,se,K)))),dt)break;B=B.return}0<me.length&&(ee=new de(ee,pe,null,l,te),ne.push({event:ee,listeners:me}))}}if(!(o&7)){e:{if(ee=i==="mouseover"||i==="pointerover",de=i==="mouseout"||i==="pointerout",ee&&l!==as&&(pe=l.relatedTarget||l.fromElement)&&(ws(pe)||pe[Ur]))break e;if((de||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,de?(pe=l.relatedTarget||l.toElement,de=Q,pe=pe?ws(pe):null,pe!==null&&(dt=zn(pe),pe!==dt||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(de=null,pe=Q),de!==pe)){if(me=yo,se="onMouseLeave",q="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(me=b,se="onPointerLeave",q="onPointerEnter",B="pointer"),dt=de==null?ee:xo(de),K=pe==null?ee:xo(pe),ee=new me(se,B+"leave",de,l,te),ee.target=dt,ee.relatedTarget=K,se=null,ws(te)===Q&&(me=new me(q,B+"enter",pe,l,te),me.target=K,me.relatedTarget=dt,se=me),dt=se,de&&pe)t:{for(me=de,q=pe,B=0,K=me;K;K=Co(K))B++;for(K=0,se=q;se;se=Co(se))K++;for(;0<B-K;)me=Co(me),B--;for(;0<K-B;)q=Co(q),K--;for(;B--;){if(me===q||q!==null&&me===q.alternate)break t;me=Co(me),q=Co(q)}me=null}else me=null;de!==null&&Mg(ne,ee,de,me,!1),pe!==null&&dt!==null&&Mg(ne,dt,pe,me,!0)}}e:{if(ee=Q?xo(Q):window,de=ee.nodeName&&ee.nodeName.toLowerCase(),de==="select"||de==="input"&&ee.type==="file")var ye=KS;else if(mg(ee))if(yg)ye=JS;else{ye=YS;var Ee=QS}else(de=ee.nodeName)&&de.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(ye=XS);if(ye&&(ye=ye(i,Q))){gg(ne,ye,l,te);break e}Ee&&Ee(i,ee,Q),i==="focusout"&&(Ee=ee._wrapperState)&&Ee.controlled&&ee.type==="number"&&Xs(ee,"number",ee.value)}switch(Ee=Q?xo(Q):window,i){case"focusin":(mg(Ee)||Ee.contentEditable==="true")&&(So=Ee,gf=Q,Ja=null);break;case"focusout":Ja=gf=So=null;break;case"mousedown":yf=!0;break;case"contextmenu":case"mouseup":case"dragend":yf=!1,Cg(ne,l,te);break;case"selectionchange":if(t0)break;case"keydown":case"keyup":Cg(ne,l,te)}var Te;if(ht)e:{switch(i){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else To?hg(i,l)&&(xe="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(xe="onCompositionStart");xe&&(vs&&l.locale!=="ko"&&(To||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&To&&(Te=Wa()):(pn=te,ho="value"in pn?pn.value:pn.textContent,To=!0)),Ee=ju(Q,xe),0<Ee.length&&(xe=new Ka(xe,i,null,l,te),ne.push({event:xe,listeners:Ee}),Te?xe.data=Te:(Te=pg(l),Te!==null&&(xe.data=Te)))),(Te=mn?HS(i,l):WS(i,l))&&(Q=ju(Q,"onBeforeInput"),0<Q.length&&(te=new Ka("onBeforeInput","beforeinput",null,l,te),ne.push({event:te,listeners:Q}),te.data=Te))}Lg(ne,o)})}function tl(i,o,l){return{instance:i,listener:o,currentTarget:l}}function ju(i,o){for(var l=o+"Capture",h=[];i!==null;){var m=i,_=m.stateNode;m.tag===5&&_!==null&&(m=_,_=ct(i,l),_!=null&&h.unshift(tl(i,_,m)),_=ct(i,o),_!=null&&h.push(tl(i,_,m))),i=i.return}return h}function Co(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Mg(i,o,l,h,m){for(var _=o._reactName,T=[];l!==null&&l!==h;){var j=l,z=j.alternate,Q=j.stateNode;if(z!==null&&z===h)break;j.tag===5&&Q!==null&&(j=Q,m?(z=ct(l,_),z!=null&&T.unshift(tl(l,z,j))):m||(z=ct(l,_),z!=null&&T.push(tl(l,z,j)))),l=l.return}T.length!==0&&i.push({event:o,listeners:T})}var s0=/\r\n?/g,o0=/\u0000|\uFFFD/g;function Vg(i){return(typeof i=="string"?i:""+i).replace(s0,`
`).replace(o0,"")}function Fu(i,o,l){if(o=Vg(o),Vg(i)!==o&&l)throw Error(t(425))}function $u(){}var Sf=null,If=null;function Cf(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Pf=typeof setTimeout=="function"?setTimeout:void 0,a0=typeof clearTimeout=="function"?clearTimeout:void 0,jg=typeof Promise=="function"?Promise:void 0,l0=typeof queueMicrotask=="function"?queueMicrotask:typeof jg<"u"?function(i){return jg.resolve(null).then(i).catch(u0)}:Pf;function u0(i){setTimeout(function(){throw i})}function xf(i,o){var l=o,h=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(h===0){i.removeChild(m),Gn(o);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=m}while(l);Gn(o)}function Ti(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Fg(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var Po=Math.random().toString(36).slice(2),yr="__reactFiber$"+Po,nl="__reactProps$"+Po,Ur="__reactContainer$"+Po,Rf="__reactEvents$"+Po,c0="__reactListeners$"+Po,d0="__reactHandles$"+Po;function ws(i){var o=i[yr];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Ur]||l[yr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=Fg(i);i!==null;){if(l=i[yr])return l;i=Fg(i)}return o}i=l,l=i.parentNode}return null}function rl(i){return i=i[yr]||i[Ur],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function xo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function zu(i){return i[nl]||null}var Af=[],Ro=-1;function Si(i){return{current:i}}function Je(i){0>Ro||(i.current=Af[Ro],Af[Ro]=null,Ro--)}function Ye(i,o){Ro++,Af[Ro]=i.current,i.current=o}var Ii={},$t=Si(Ii),nn=Si(!1),Es=Ii;function Ao(i,o){var l=i.type.contextTypes;if(!l)return Ii;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var m={},_;for(_ in l)m[_]=o[_];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function rn(i){return i=i.childContextTypes,i!=null}function Uu(){Je(nn),Je($t)}function $g(i,o,l){if($t.current!==Ii)throw Error(t(168));Ye($t,o),Ye(nn,l)}function zg(i,o,l){var h=i.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var m in h)if(!(m in o))throw Error(t(108,we(i)||"Unknown",m));return oe({},l,h)}function Bu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ii,Es=$t.current,Ye($t,i),Ye(nn,nn.current),!0}function Ug(i,o,l){var h=i.stateNode;if(!h)throw Error(t(169));l?(i=zg(i,o,Es),h.__reactInternalMemoizedMergedChildContext=i,Je(nn),Je($t),Ye($t,i)):Je(nn),Ye(nn,l)}var Br=null,Hu=!1,bf=!1;function Bg(i){Br===null?Br=[i]:Br.push(i)}function f0(i){Hu=!0,Bg(i)}function Ci(){if(!bf&&Br!==null){bf=!0;var i=0,o=Ve;try{var l=Br;for(Ve=1;i<l.length;i++){var h=l[i];do h=h(!0);while(h!==null)}Br=null,Hu=!1}catch(m){throw Br!==null&&(Br=Br.slice(i+1)),ao(fs,Ci),m}finally{Ve=o,bf=!1}}return null}var bo=[],ko=0,Wu=null,Gu=0,Rn=[],An=0,Ts=null,Hr=1,Wr="";function Ss(i,o){bo[ko++]=Gu,bo[ko++]=Wu,Wu=i,Gu=o}function Hg(i,o,l){Rn[An++]=Hr,Rn[An++]=Wr,Rn[An++]=Ts,Ts=i;var h=Hr;i=Wr;var m=32-Qt(h)-1;h&=~(1<<m),l+=1;var _=32-Qt(o)+m;if(30<_){var T=m-m%5;_=(h&(1<<T)-1).toString(32),h>>=T,m-=T,Hr=1<<32-Qt(o)+m|l<<m|h,Wr=_+i}else Hr=1<<_|l<<m|h,Wr=i}function kf(i){i.return!==null&&(Ss(i,1),Hg(i,1,0))}function Nf(i){for(;i===Wu;)Wu=bo[--ko],bo[ko]=null,Gu=bo[--ko],bo[ko]=null;for(;i===Ts;)Ts=Rn[--An],Rn[An]=null,Wr=Rn[--An],Rn[An]=null,Hr=Rn[--An],Rn[An]=null}var gn=null,yn=null,et=!1,Qn=null;function Wg(i,o){var l=On(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function Gg(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,gn=i,yn=Ti(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,gn=i,yn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=Ts!==null?{id:Hr,overflow:Wr}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=On(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,gn=i,yn=null,!0):!1;default:return!1}}function Of(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Lf(i){if(et){var o=yn;if(o){var l=o;if(!Gg(i,o)){if(Of(i))throw Error(t(418));o=Ti(l.nextSibling);var h=gn;o&&Gg(i,o)?Wg(h,l):(i.flags=i.flags&-4097|2,et=!1,gn=i)}}else{if(Of(i))throw Error(t(418));i.flags=i.flags&-4097|2,et=!1,gn=i}}}function qg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;gn=i}function qu(i){if(i!==gn)return!1;if(!et)return qg(i),et=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Cf(i.type,i.memoizedProps)),o&&(o=yn)){if(Of(i))throw Kg(),Error(t(418));for(;o;)Wg(i,o),o=Ti(o.nextSibling)}if(qg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){yn=Ti(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}yn=null}}else yn=gn?Ti(i.stateNode.nextSibling):null;return!0}function Kg(){for(var i=yn;i;)i=Ti(i.nextSibling)}function No(){yn=gn=null,et=!1}function Df(i){Qn===null?Qn=[i]:Qn.push(i)}var h0=F.ReactCurrentBatchConfig;function il(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,i));var m=h,_=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===_?o.ref:(o=function(T){var j=m.refs;T===null?delete j[_]:j[_]=T},o._stringRef=_,o)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function Ku(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Qg(i){var o=i._init;return o(i._payload)}function Yg(i){function o(q,B){if(i){var K=q.deletions;K===null?(q.deletions=[B],q.flags|=16):K.push(B)}}function l(q,B){if(!i)return null;for(;B!==null;)o(q,B),B=B.sibling;return null}function h(q,B){for(q=new Map;B!==null;)B.key!==null?q.set(B.key,B):q.set(B.index,B),B=B.sibling;return q}function m(q,B){return q=Oi(q,B),q.index=0,q.sibling=null,q}function _(q,B,K){return q.index=K,i?(K=q.alternate,K!==null?(K=K.index,K<B?(q.flags|=2,B):K):(q.flags|=2,B)):(q.flags|=1048576,B)}function T(q){return i&&q.alternate===null&&(q.flags|=2),q}function j(q,B,K,se){return B===null||B.tag!==6?(B=Ph(K,q.mode,se),B.return=q,B):(B=m(B,K),B.return=q,B)}function z(q,B,K,se){var ye=K.type;return ye===M?te(q,B,K.props.children,se,K.key):B!==null&&(B.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===ve&&Qg(ye)===B.type)?(se=m(B,K.props),se.ref=il(q,B,K),se.return=q,se):(se=_c(K.type,K.key,K.props,null,q.mode,se),se.ref=il(q,B,K),se.return=q,se)}function Q(q,B,K,se){return B===null||B.tag!==4||B.stateNode.containerInfo!==K.containerInfo||B.stateNode.implementation!==K.implementation?(B=xh(K,q.mode,se),B.return=q,B):(B=m(B,K.children||[]),B.return=q,B)}function te(q,B,K,se,ye){return B===null||B.tag!==7?(B=ks(K,q.mode,se,ye),B.return=q,B):(B=m(B,K),B.return=q,B)}function ne(q,B,K){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Ph(""+B,q.mode,K),B.return=q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case H:return K=_c(B.type,B.key,B.props,null,q.mode,K),K.ref=il(q,null,B),K.return=q,K;case X:return B=xh(B,q.mode,K),B.return=q,B;case ve:var se=B._init;return ne(q,se(B._payload),K)}if(Or(B)||le(B))return B=ks(B,q.mode,K,null),B.return=q,B;Ku(q,B)}return null}function ee(q,B,K,se){var ye=B!==null?B.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return ye!==null?null:j(q,B,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case H:return K.key===ye?z(q,B,K,se):null;case X:return K.key===ye?Q(q,B,K,se):null;case ve:return ye=K._init,ee(q,B,ye(K._payload),se)}if(Or(K)||le(K))return ye!==null?null:te(q,B,K,se,null);Ku(q,K)}return null}function de(q,B,K,se,ye){if(typeof se=="string"&&se!==""||typeof se=="number")return q=q.get(K)||null,j(B,q,""+se,ye);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case H:return q=q.get(se.key===null?K:se.key)||null,z(B,q,se,ye);case X:return q=q.get(se.key===null?K:se.key)||null,Q(B,q,se,ye);case ve:var Ee=se._init;return de(q,B,K,Ee(se._payload),ye)}if(Or(se)||le(se))return q=q.get(K)||null,te(B,q,se,ye,null);Ku(B,se)}return null}function pe(q,B,K,se){for(var ye=null,Ee=null,Te=B,xe=B=0,Rt=null;Te!==null&&xe<K.length;xe++){Te.index>xe?(Rt=Te,Te=null):Rt=Te.sibling;var Ue=ee(q,Te,K[xe],se);if(Ue===null){Te===null&&(Te=Rt);break}i&&Te&&Ue.alternate===null&&o(q,Te),B=_(Ue,B,xe),Ee===null?ye=Ue:Ee.sibling=Ue,Ee=Ue,Te=Rt}if(xe===K.length)return l(q,Te),et&&Ss(q,xe),ye;if(Te===null){for(;xe<K.length;xe++)Te=ne(q,K[xe],se),Te!==null&&(B=_(Te,B,xe),Ee===null?ye=Te:Ee.sibling=Te,Ee=Te);return et&&Ss(q,xe),ye}for(Te=h(q,Te);xe<K.length;xe++)Rt=de(Te,q,xe,K[xe],se),Rt!==null&&(i&&Rt.alternate!==null&&Te.delete(Rt.key===null?xe:Rt.key),B=_(Rt,B,xe),Ee===null?ye=Rt:Ee.sibling=Rt,Ee=Rt);return i&&Te.forEach(function(Li){return o(q,Li)}),et&&Ss(q,xe),ye}function me(q,B,K,se){var ye=le(K);if(typeof ye!="function")throw Error(t(150));if(K=ye.call(K),K==null)throw Error(t(151));for(var Ee=ye=null,Te=B,xe=B=0,Rt=null,Ue=K.next();Te!==null&&!Ue.done;xe++,Ue=K.next()){Te.index>xe?(Rt=Te,Te=null):Rt=Te.sibling;var Li=ee(q,Te,Ue.value,se);if(Li===null){Te===null&&(Te=Rt);break}i&&Te&&Li.alternate===null&&o(q,Te),B=_(Li,B,xe),Ee===null?ye=Li:Ee.sibling=Li,Ee=Li,Te=Rt}if(Ue.done)return l(q,Te),et&&Ss(q,xe),ye;if(Te===null){for(;!Ue.done;xe++,Ue=K.next())Ue=ne(q,Ue.value,se),Ue!==null&&(B=_(Ue,B,xe),Ee===null?ye=Ue:Ee.sibling=Ue,Ee=Ue);return et&&Ss(q,xe),ye}for(Te=h(q,Te);!Ue.done;xe++,Ue=K.next())Ue=de(Te,q,xe,Ue.value,se),Ue!==null&&(i&&Ue.alternate!==null&&Te.delete(Ue.key===null?xe:Ue.key),B=_(Ue,B,xe),Ee===null?ye=Ue:Ee.sibling=Ue,Ee=Ue);return i&&Te.forEach(function(W0){return o(q,W0)}),et&&Ss(q,xe),ye}function dt(q,B,K,se){if(typeof K=="object"&&K!==null&&K.type===M&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case H:e:{for(var ye=K.key,Ee=B;Ee!==null;){if(Ee.key===ye){if(ye=K.type,ye===M){if(Ee.tag===7){l(q,Ee.sibling),B=m(Ee,K.props.children),B.return=q,q=B;break e}}else if(Ee.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===ve&&Qg(ye)===Ee.type){l(q,Ee.sibling),B=m(Ee,K.props),B.ref=il(q,Ee,K),B.return=q,q=B;break e}l(q,Ee);break}else o(q,Ee);Ee=Ee.sibling}K.type===M?(B=ks(K.props.children,q.mode,se,K.key),B.return=q,q=B):(se=_c(K.type,K.key,K.props,null,q.mode,se),se.ref=il(q,B,K),se.return=q,q=se)}return T(q);case X:e:{for(Ee=K.key;B!==null;){if(B.key===Ee)if(B.tag===4&&B.stateNode.containerInfo===K.containerInfo&&B.stateNode.implementation===K.implementation){l(q,B.sibling),B=m(B,K.children||[]),B.return=q,q=B;break e}else{l(q,B);break}else o(q,B);B=B.sibling}B=xh(K,q.mode,se),B.return=q,q=B}return T(q);case ve:return Ee=K._init,dt(q,B,Ee(K._payload),se)}if(Or(K))return pe(q,B,K,se);if(le(K))return me(q,B,K,se);Ku(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,B!==null&&B.tag===6?(l(q,B.sibling),B=m(B,K),B.return=q,q=B):(l(q,B),B=Ph(K,q.mode,se),B.return=q,q=B),T(q)):l(q,B)}return dt}var Oo=Yg(!0),Xg=Yg(!1),Qu=Si(null),Yu=null,Lo=null,Mf=null;function Vf(){Mf=Lo=Yu=null}function jf(i){var o=Qu.current;Je(Qu),i._currentValue=o}function Ff(i,o,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===l)break;i=i.return}}function Do(i,o){Yu=i,Mf=Lo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&(sn=!0),i.firstContext=null)}function bn(i){var o=i._currentValue;if(Mf!==i)if(i={context:i,memoizedValue:o,next:null},Lo===null){if(Yu===null)throw Error(t(308));Lo=i,Yu.dependencies={lanes:0,firstContext:i}}else Lo=Lo.next=i;return o}var Is=null;function $f(i){Is===null?Is=[i]:Is.push(i)}function Jg(i,o,l,h){var m=o.interleaved;return m===null?(l.next=l,$f(o)):(l.next=m.next,m.next=l),o.interleaved=l,Gr(i,h)}function Gr(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var Pi=!1;function zf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zg(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function qr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function xi(i,o,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,ze&2){var m=h.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),h.pending=o,Gr(i,l)}return m=h.interleaved,m===null?(o.next=o,$f(h)):(o.next=m.next,m.next=o),h.interleaved=o,Gr(i,l)}function Xu(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,gi(i,l)}}function ey(i,o){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var m=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};_===null?m=_=T:_=_.next=T,l=l.next}while(l!==null);_===null?m=_=o:_=_.next=o}else m=_=o;l={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:_,shared:h.shared,effects:h.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function Ju(i,o,l,h){var m=i.updateQueue;Pi=!1;var _=m.firstBaseUpdate,T=m.lastBaseUpdate,j=m.shared.pending;if(j!==null){m.shared.pending=null;var z=j,Q=z.next;z.next=null,T===null?_=Q:T.next=Q,T=z;var te=i.alternate;te!==null&&(te=te.updateQueue,j=te.lastBaseUpdate,j!==T&&(j===null?te.firstBaseUpdate=Q:j.next=Q,te.lastBaseUpdate=z))}if(_!==null){var ne=m.baseState;T=0,te=Q=z=null,j=_;do{var ee=j.lane,de=j.eventTime;if((h&ee)===ee){te!==null&&(te=te.next={eventTime:de,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var pe=i,me=j;switch(ee=o,de=l,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){ne=pe.call(de,ne,ee);break e}ne=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,ee=typeof pe=="function"?pe.call(de,ne,ee):pe,ee==null)break e;ne=oe({},ne,ee);break e;case 2:Pi=!0}}j.callback!==null&&j.lane!==0&&(i.flags|=64,ee=m.effects,ee===null?m.effects=[j]:ee.push(j))}else de={eventTime:de,lane:ee,tag:j.tag,payload:j.payload,callback:j.callback,next:null},te===null?(Q=te=de,z=ne):te=te.next=de,T|=ee;if(j=j.next,j===null){if(j=m.shared.pending,j===null)break;ee=j,j=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);if(te===null&&(z=ne),m.baseState=z,m.firstBaseUpdate=Q,m.lastBaseUpdate=te,o=m.shared.interleaved,o!==null){m=o;do T|=m.lane,m=m.next;while(m!==o)}else _===null&&(m.shared.lanes=0);xs|=T,i.lanes=T,i.memoizedState=ne}}function ty(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var h=i[o],m=h.callback;if(m!==null){if(h.callback=null,h=l,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var sl={},_r=Si(sl),ol=Si(sl),al=Si(sl);function Cs(i){if(i===sl)throw Error(t(174));return i}function Uf(i,o){switch(Ye(al,o),Ye(ol,i),Ye(_r,sl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:yt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=yt(o,i)}Je(_r),Ye(_r,o)}function Mo(){Je(_r),Je(ol),Je(al)}function ny(i){Cs(al.current);var o=Cs(_r.current),l=yt(o,i.type);o!==l&&(Ye(ol,i),Ye(_r,l))}function Bf(i){ol.current===i&&(Je(_r),Je(ol))}var it=Si(0);function Zu(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Hf=[];function Wf(){for(var i=0;i<Hf.length;i++)Hf[i]._workInProgressVersionPrimary=null;Hf.length=0}var ec=F.ReactCurrentDispatcher,Gf=F.ReactCurrentBatchConfig,Ps=0,st=null,vt=null,Pt=null,tc=!1,ll=!1,ul=0,p0=0;function zt(){throw Error(t(321))}function qf(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!Kn(i[l],o[l]))return!1;return!0}function Kf(i,o,l,h,m,_){if(Ps=_,st=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,ec.current=i===null||i.memoizedState===null?_0:v0,i=l(h,m),ll){_=0;do{if(ll=!1,ul=0,25<=_)throw Error(t(301));_+=1,Pt=vt=null,o.updateQueue=null,ec.current=w0,i=l(h,m)}while(ll)}if(ec.current=ic,o=vt!==null&&vt.next!==null,Ps=0,Pt=vt=st=null,tc=!1,o)throw Error(t(300));return i}function Qf(){var i=ul!==0;return ul=0,i}function vr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?st.memoizedState=Pt=i:Pt=Pt.next=i,Pt}function kn(){if(vt===null){var i=st.alternate;i=i!==null?i.memoizedState:null}else i=vt.next;var o=Pt===null?st.memoizedState:Pt.next;if(o!==null)Pt=o,vt=i;else{if(i===null)throw Error(t(310));vt=i,i={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Pt===null?st.memoizedState=Pt=i:Pt=Pt.next=i}return Pt}function cl(i,o){return typeof o=="function"?o(i):o}function Yf(i){var o=kn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=vt,m=h.baseQueue,_=l.pending;if(_!==null){if(m!==null){var T=m.next;m.next=_.next,_.next=T}h.baseQueue=m=_,l.pending=null}if(m!==null){_=m.next,h=h.baseState;var j=T=null,z=null,Q=_;do{var te=Q.lane;if((Ps&te)===te)z!==null&&(z=z.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),h=Q.hasEagerState?Q.eagerState:i(h,Q.action);else{var ne={lane:te,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};z===null?(j=z=ne,T=h):z=z.next=ne,st.lanes|=te,xs|=te}Q=Q.next}while(Q!==null&&Q!==_);z===null?T=h:z.next=j,Kn(h,o.memoizedState)||(sn=!0),o.memoizedState=h,o.baseState=T,o.baseQueue=z,l.lastRenderedState=h}if(i=l.interleaved,i!==null){m=i;do _=m.lane,st.lanes|=_,xs|=_,m=m.next;while(m!==i)}else m===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function Xf(i){var o=kn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=l.dispatch,m=l.pending,_=o.memoizedState;if(m!==null){l.pending=null;var T=m=m.next;do _=i(_,T.action),T=T.next;while(T!==m);Kn(_,o.memoizedState)||(sn=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),l.lastRenderedState=_}return[_,h]}function ry(){}function iy(i,o){var l=st,h=kn(),m=o(),_=!Kn(h.memoizedState,m);if(_&&(h.memoizedState=m,sn=!0),h=h.queue,Jf(ay.bind(null,l,h,i),[i]),h.getSnapshot!==o||_||Pt!==null&&Pt.memoizedState.tag&1){if(l.flags|=2048,dl(9,oy.bind(null,l,h,m,o),void 0,null),xt===null)throw Error(t(349));Ps&30||sy(l,o,m)}return m}function sy(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=st.updateQueue,o===null?(o={lastEffect:null,stores:null},st.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function oy(i,o,l,h){o.value=l,o.getSnapshot=h,ly(o)&&uy(i)}function ay(i,o,l){return l(function(){ly(o)&&uy(i)})}function ly(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!Kn(i,l)}catch{return!0}}function uy(i){var o=Gr(i,1);o!==null&&Zn(o,i,1,-1)}function cy(i){var o=vr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:i},o.queue=i,i=i.dispatch=y0.bind(null,st,i),[o.memoizedState,i]}function dl(i,o,l,h){return i={tag:i,create:o,destroy:l,deps:h,next:null},o=st.updateQueue,o===null?(o={lastEffect:null,stores:null},st.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,o.lastEffect=i)),i}function dy(){return kn().memoizedState}function nc(i,o,l,h){var m=vr();st.flags|=i,m.memoizedState=dl(1|o,l,void 0,h===void 0?null:h)}function rc(i,o,l,h){var m=kn();h=h===void 0?null:h;var _=void 0;if(vt!==null){var T=vt.memoizedState;if(_=T.destroy,h!==null&&qf(h,T.deps)){m.memoizedState=dl(o,l,_,h);return}}st.flags|=i,m.memoizedState=dl(1|o,l,_,h)}function fy(i,o){return nc(8390656,8,i,o)}function Jf(i,o){return rc(2048,8,i,o)}function hy(i,o){return rc(4,2,i,o)}function py(i,o){return rc(4,4,i,o)}function my(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function gy(i,o,l){return l=l!=null?l.concat([i]):null,rc(4,4,my.bind(null,o,i),l)}function Zf(){}function yy(i,o){var l=kn();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&qf(o,h[1])?h[0]:(l.memoizedState=[i,o],i)}function _y(i,o){var l=kn();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&qf(o,h[1])?h[0]:(i=i(),l.memoizedState=[i,o],i)}function vy(i,o,l){return Ps&21?(Kn(l,o)||(l=ms(),st.lanes|=l,xs|=l,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,sn=!0),i.memoizedState=l)}function m0(i,o){var l=Ve;Ve=l!==0&&4>l?l:4,i(!0);var h=Gf.transition;Gf.transition={};try{i(!1),o()}finally{Ve=l,Gf.transition=h}}function wy(){return kn().memoizedState}function g0(i,o,l){var h=ki(i);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Ey(i))Ty(o,l);else if(l=Jg(i,o,l,h),l!==null){var m=Jt();Zn(l,i,h,m),Sy(l,o,h)}}function y0(i,o,l){var h=ki(i),m={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ey(i))Ty(o,m);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var T=o.lastRenderedState,j=_(T,l);if(m.hasEagerState=!0,m.eagerState=j,Kn(j,T)){var z=o.interleaved;z===null?(m.next=m,$f(o)):(m.next=z.next,z.next=m),o.interleaved=m;return}}catch{}finally{}l=Jg(i,o,m,h),l!==null&&(m=Jt(),Zn(l,i,h,m),Sy(l,o,h))}}function Ey(i){var o=i.alternate;return i===st||o!==null&&o===st}function Ty(i,o){ll=tc=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function Sy(i,o,l){if(l&4194240){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,gi(i,l)}}var ic={readContext:bn,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},_0={readContext:bn,useCallback:function(i,o){return vr().memoizedState=[i,o===void 0?null:o],i},useContext:bn,useEffect:fy,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,nc(4194308,4,my.bind(null,o,i),l)},useLayoutEffect:function(i,o){return nc(4194308,4,i,o)},useInsertionEffect:function(i,o){return nc(4,2,i,o)},useMemo:function(i,o){var l=vr();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var h=vr();return o=l!==void 0?l(o):o,h.memoizedState=h.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},h.queue=i,i=i.dispatch=g0.bind(null,st,i),[h.memoizedState,i]},useRef:function(i){var o=vr();return i={current:i},o.memoizedState=i},useState:cy,useDebugValue:Zf,useDeferredValue:function(i){return vr().memoizedState=i},useTransition:function(){var i=cy(!1),o=i[0];return i=m0.bind(null,i[1]),vr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var h=st,m=vr();if(et){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),xt===null)throw Error(t(349));Ps&30||sy(h,o,l)}m.memoizedState=l;var _={value:l,getSnapshot:o};return m.queue=_,fy(ay.bind(null,h,_,i),[i]),h.flags|=2048,dl(9,oy.bind(null,h,_,l,o),void 0,null),l},useId:function(){var i=vr(),o=xt.identifierPrefix;if(et){var l=Wr,h=Hr;l=(h&~(1<<32-Qt(h)-1)).toString(32)+l,o=":"+o+"R"+l,l=ul++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=p0++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},v0={readContext:bn,useCallback:yy,useContext:bn,useEffect:Jf,useImperativeHandle:gy,useInsertionEffect:hy,useLayoutEffect:py,useMemo:_y,useReducer:Yf,useRef:dy,useState:function(){return Yf(cl)},useDebugValue:Zf,useDeferredValue:function(i){var o=kn();return vy(o,vt.memoizedState,i)},useTransition:function(){var i=Yf(cl)[0],o=kn().memoizedState;return[i,o]},useMutableSource:ry,useSyncExternalStore:iy,useId:wy,unstable_isNewReconciler:!1},w0={readContext:bn,useCallback:yy,useContext:bn,useEffect:Jf,useImperativeHandle:gy,useInsertionEffect:hy,useLayoutEffect:py,useMemo:_y,useReducer:Xf,useRef:dy,useState:function(){return Xf(cl)},useDebugValue:Zf,useDeferredValue:function(i){var o=kn();return vt===null?o.memoizedState=i:vy(o,vt.memoizedState,i)},useTransition:function(){var i=Xf(cl)[0],o=kn().memoizedState;return[i,o]},useMutableSource:ry,useSyncExternalStore:iy,useId:wy,unstable_isNewReconciler:!1};function Yn(i,o){if(i&&i.defaultProps){o=oe({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function eh(i,o,l,h){o=i.memoizedState,l=l(h,o),l=l==null?o:oe({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var sc={isMounted:function(i){return(i=i._reactInternals)?zn(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var h=Jt(),m=ki(i),_=qr(h,m);_.payload=o,l!=null&&(_.callback=l),o=xi(i,_,m),o!==null&&(Zn(o,i,m,h),Xu(o,i,m))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var h=Jt(),m=ki(i),_=qr(h,m);_.tag=1,_.payload=o,l!=null&&(_.callback=l),o=xi(i,_,m),o!==null&&(Zn(o,i,m,h),Xu(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=Jt(),h=ki(i),m=qr(l,h);m.tag=2,o!=null&&(m.callback=o),o=xi(i,m,h),o!==null&&(Zn(o,i,h,l),Xu(o,i,h))}};function Iy(i,o,l,h,m,_,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,_,T):o.prototype&&o.prototype.isPureReactComponent?!Xa(l,h)||!Xa(m,_):!0}function Cy(i,o,l){var h=!1,m=Ii,_=o.contextType;return typeof _=="object"&&_!==null?_=bn(_):(m=rn(o)?Es:$t.current,h=o.contextTypes,_=(h=h!=null)?Ao(i,m):Ii),o=new o(l,_),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=sc,i.stateNode=o,o._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=_),o}function Py(i,o,l,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,h),o.state!==i&&sc.enqueueReplaceState(o,o.state,null)}function th(i,o,l,h){var m=i.stateNode;m.props=l,m.state=i.memoizedState,m.refs={},zf(i);var _=o.contextType;typeof _=="object"&&_!==null?m.context=bn(_):(_=rn(o)?Es:$t.current,m.context=Ao(i,_)),m.state=i.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(eh(i,o,_,l),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&sc.enqueueReplaceState(m,m.state,null),Ju(i,l,m,h),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Vo(i,o){try{var l="",h=o;do l+=Ne(h),h=h.return;while(h);var m=l}catch(_){m=`
Error generating stack: `+_.message+`
`+_.stack}return{value:i,source:o,stack:m,digest:null}}function nh(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function rh(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var E0=typeof WeakMap=="function"?WeakMap:Map;function xy(i,o,l){l=qr(-1,l),l.tag=3,l.payload={element:null};var h=o.value;return l.callback=function(){fc||(fc=!0,_h=h),rh(i,o)},l}function Ry(i,o,l){l=qr(-1,l),l.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;l.payload=function(){return h(m)},l.callback=function(){rh(i,o)}}var _=i.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(l.callback=function(){rh(i,o),typeof h!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),l}function Ay(i,o,l){var h=i.pingCache;if(h===null){h=i.pingCache=new E0;var m=new Set;h.set(o,m)}else m=h.get(o),m===void 0&&(m=new Set,h.set(o,m));m.has(l)||(m.add(l),i=D0.bind(null,i,o,l),o.then(i,i))}function by(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function ky(i,o,l,h,m){return i.mode&1?(i.flags|=65536,i.lanes=m,i):(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=qr(-1,1),o.tag=2,xi(l,o,1))),l.lanes|=1),i)}var T0=F.ReactCurrentOwner,sn=!1;function Xt(i,o,l,h){o.child=i===null?Xg(o,null,l,h):Oo(o,i.child,l,h)}function Ny(i,o,l,h,m){l=l.render;var _=o.ref;return Do(o,m),h=Kf(i,o,l,h,_,m),l=Qf(),i!==null&&!sn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Kr(i,o,m)):(et&&l&&kf(o),o.flags|=1,Xt(i,o,h,m),o.child)}function Oy(i,o,l,h,m){if(i===null){var _=l.type;return typeof _=="function"&&!Ch(_)&&_.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=_,Ly(i,o,_,h,m)):(i=_c(l.type,null,h,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(_=i.child,!(i.lanes&m)){var T=_.memoizedProps;if(l=l.compare,l=l!==null?l:Xa,l(T,h)&&i.ref===o.ref)return Kr(i,o,m)}return o.flags|=1,i=Oi(_,h),i.ref=o.ref,i.return=o,o.child=i}function Ly(i,o,l,h,m){if(i!==null){var _=i.memoizedProps;if(Xa(_,h)&&i.ref===o.ref)if(sn=!1,o.pendingProps=h=_,(i.lanes&m)!==0)i.flags&131072&&(sn=!0);else return o.lanes=i.lanes,Kr(i,o,m)}return ih(i,o,l,h,m)}function Dy(i,o,l){var h=o.pendingProps,m=h.children,_=i!==null?i.memoizedState:null;if(h.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(Fo,_n),_n|=l;else{if(!(l&1073741824))return i=_!==null?_.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Ye(Fo,_n),_n|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=_!==null?_.baseLanes:l,Ye(Fo,_n),_n|=h}else _!==null?(h=_.baseLanes|l,o.memoizedState=null):h=l,Ye(Fo,_n),_n|=h;return Xt(i,o,m,l),o.child}function My(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function ih(i,o,l,h,m){var _=rn(l)?Es:$t.current;return _=Ao(o,_),Do(o,m),l=Kf(i,o,l,h,_,m),h=Qf(),i!==null&&!sn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Kr(i,o,m)):(et&&h&&kf(o),o.flags|=1,Xt(i,o,l,m),o.child)}function Vy(i,o,l,h,m){if(rn(l)){var _=!0;Bu(o)}else _=!1;if(Do(o,m),o.stateNode===null)ac(i,o),Cy(o,l,h),th(o,l,h,m),h=!0;else if(i===null){var T=o.stateNode,j=o.memoizedProps;T.props=j;var z=T.context,Q=l.contextType;typeof Q=="object"&&Q!==null?Q=bn(Q):(Q=rn(l)?Es:$t.current,Q=Ao(o,Q));var te=l.getDerivedStateFromProps,ne=typeof te=="function"||typeof T.getSnapshotBeforeUpdate=="function";ne||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(j!==h||z!==Q)&&Py(o,T,h,Q),Pi=!1;var ee=o.memoizedState;T.state=ee,Ju(o,h,T,m),z=o.memoizedState,j!==h||ee!==z||nn.current||Pi?(typeof te=="function"&&(eh(o,l,te,h),z=o.memoizedState),(j=Pi||Iy(o,l,j,h,ee,z,Q))?(ne||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=z),T.props=h,T.state=z,T.context=Q,h=j):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{T=o.stateNode,Zg(i,o),j=o.memoizedProps,Q=o.type===o.elementType?j:Yn(o.type,j),T.props=Q,ne=o.pendingProps,ee=T.context,z=l.contextType,typeof z=="object"&&z!==null?z=bn(z):(z=rn(l)?Es:$t.current,z=Ao(o,z));var de=l.getDerivedStateFromProps;(te=typeof de=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(j!==ne||ee!==z)&&Py(o,T,h,z),Pi=!1,ee=o.memoizedState,T.state=ee,Ju(o,h,T,m);var pe=o.memoizedState;j!==ne||ee!==pe||nn.current||Pi?(typeof de=="function"&&(eh(o,l,de,h),pe=o.memoizedState),(Q=Pi||Iy(o,l,Q,h,ee,pe,z)||!1)?(te||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,pe,z),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,pe,z)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||j===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||j===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=pe),T.props=h,T.state=pe,T.context=z,h=Q):(typeof T.componentDidUpdate!="function"||j===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||j===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),h=!1)}return sh(i,o,l,h,_,m)}function sh(i,o,l,h,m,_){My(i,o);var T=(o.flags&128)!==0;if(!h&&!T)return m&&Ug(o,l,!1),Kr(i,o,_);h=o.stateNode,T0.current=o;var j=T&&typeof l.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,i!==null&&T?(o.child=Oo(o,i.child,null,_),o.child=Oo(o,null,j,_)):Xt(i,o,j,_),o.memoizedState=h.state,m&&Ug(o,l,!0),o.child}function jy(i){var o=i.stateNode;o.pendingContext?$g(i,o.pendingContext,o.pendingContext!==o.context):o.context&&$g(i,o.context,!1),Uf(i,o.containerInfo)}function Fy(i,o,l,h,m){return No(),Df(m),o.flags|=256,Xt(i,o,l,h),o.child}var oh={dehydrated:null,treeContext:null,retryLane:0};function ah(i){return{baseLanes:i,cachePool:null,transitions:null}}function $y(i,o,l){var h=o.pendingProps,m=it.current,_=!1,T=(o.flags&128)!==0,j;if((j=T)||(j=i!==null&&i.memoizedState===null?!1:(m&2)!==0),j?(_=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),Ye(it,m&1),i===null)return Lf(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(T=h.children,i=h.fallback,_?(h=o.mode,_=o.child,T={mode:"hidden",children:T},!(h&1)&&_!==null?(_.childLanes=0,_.pendingProps=T):_=vc(T,h,0,null),i=ks(i,h,l,null),_.return=o,i.return=o,_.sibling=i,o.child=_,o.child.memoizedState=ah(l),o.memoizedState=oh,i):lh(o,T));if(m=i.memoizedState,m!==null&&(j=m.dehydrated,j!==null))return S0(i,o,T,h,j,m,l);if(_){_=h.fallback,T=o.mode,m=i.child,j=m.sibling;var z={mode:"hidden",children:h.children};return!(T&1)&&o.child!==m?(h=o.child,h.childLanes=0,h.pendingProps=z,o.deletions=null):(h=Oi(m,z),h.subtreeFlags=m.subtreeFlags&14680064),j!==null?_=Oi(j,_):(_=ks(_,T,l,null),_.flags|=2),_.return=o,h.return=o,h.sibling=_,o.child=h,h=_,_=o.child,T=i.child.memoizedState,T=T===null?ah(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},_.memoizedState=T,_.childLanes=i.childLanes&~l,o.memoizedState=oh,h}return _=i.child,i=_.sibling,h=Oi(_,{mode:"visible",children:h.children}),!(o.mode&1)&&(h.lanes=l),h.return=o,h.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=h,o.memoizedState=null,h}function lh(i,o){return o=vc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function oc(i,o,l,h){return h!==null&&Df(h),Oo(o,i.child,null,l),i=lh(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function S0(i,o,l,h,m,_,T){if(l)return o.flags&256?(o.flags&=-257,h=nh(Error(t(422))),oc(i,o,T,h)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(_=h.fallback,m=o.mode,h=vc({mode:"visible",children:h.children},m,0,null),_=ks(_,m,T,null),_.flags|=2,h.return=o,_.return=o,h.sibling=_,o.child=h,o.mode&1&&Oo(o,i.child,null,T),o.child.memoizedState=ah(T),o.memoizedState=oh,_);if(!(o.mode&1))return oc(i,o,T,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var j=h.dgst;return h=j,_=Error(t(419)),h=nh(_,h,void 0),oc(i,o,T,h)}if(j=(T&i.childLanes)!==0,sn||j){if(h=xt,h!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(h.suspendedLanes|T)?0:m,m!==0&&m!==_.retryLane&&(_.retryLane=m,Gr(i,m),Zn(h,i,m,-1))}return Ih(),h=nh(Error(t(421))),oc(i,o,T,h)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=M0.bind(null,i),m._reactRetry=o,null):(i=_.treeContext,yn=Ti(m.nextSibling),gn=o,et=!0,Qn=null,i!==null&&(Rn[An++]=Hr,Rn[An++]=Wr,Rn[An++]=Ts,Hr=i.id,Wr=i.overflow,Ts=o),o=lh(o,h.children),o.flags|=4096,o)}function zy(i,o,l){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),Ff(i.return,o,l)}function uh(i,o,l,h,m){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:m}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=l,_.tailMode=m)}function Uy(i,o,l){var h=o.pendingProps,m=h.revealOrder,_=h.tail;if(Xt(i,o,h.children,l),h=it.current,h&2)h=h&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&zy(i,l,o);else if(i.tag===19)zy(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(Ye(it,h),!(o.mode&1))o.memoizedState=null;else switch(m){case"forwards":for(l=o.child,m=null;l!==null;)i=l.alternate,i!==null&&Zu(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),uh(o,!1,m,l,_);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&Zu(i)===null){o.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}uh(o,!0,l,null,_);break;case"together":uh(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ac(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Kr(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),xs|=o.lanes,!(l&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,l=Oi(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=Oi(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function I0(i,o,l){switch(o.tag){case 3:jy(o),No();break;case 5:ny(o);break;case 1:rn(o.type)&&Bu(o);break;case 4:Uf(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,m=o.memoizedProps.value;Ye(Qu,h._currentValue),h._currentValue=m;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(Ye(it,it.current&1),o.flags|=128,null):l&o.child.childLanes?$y(i,o,l):(Ye(it,it.current&1),i=Kr(i,o,l),i!==null?i.sibling:null);Ye(it,it.current&1);break;case 19:if(h=(l&o.childLanes)!==0,i.flags&128){if(h)return Uy(i,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ye(it,it.current),h)break;return null;case 22:case 23:return o.lanes=0,Dy(i,o,l)}return Kr(i,o,l)}var By,ch,Hy,Wy;By=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},ch=function(){},Hy=function(i,o,l,h){var m=i.memoizedProps;if(m!==h){i=o.stateNode,Cs(_r.current);var _=null;switch(l){case"input":m=is(i,m),h=is(i,h),_=[];break;case"select":m=oe({},m,{value:void 0}),h=oe({},h,{value:void 0}),_=[];break;case"textarea":m=Pa(i,m),h=Pa(i,h),_=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=$u)}Na(l,h);var T;l=null;for(Q in m)if(!h.hasOwnProperty(Q)&&m.hasOwnProperty(Q)&&m[Q]!=null)if(Q==="style"){var j=m[Q];for(T in j)j.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(s.hasOwnProperty(Q)?_||(_=[]):(_=_||[]).push(Q,null));for(Q in h){var z=h[Q];if(j=m!=null?m[Q]:void 0,h.hasOwnProperty(Q)&&z!==j&&(z!=null||j!=null))if(Q==="style")if(j){for(T in j)!j.hasOwnProperty(T)||z&&z.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in z)z.hasOwnProperty(T)&&j[T]!==z[T]&&(l||(l={}),l[T]=z[T])}else l||(_||(_=[]),_.push(Q,l)),l=z;else Q==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,j=j?j.__html:void 0,z!=null&&j!==z&&(_=_||[]).push(Q,z)):Q==="children"?typeof z!="string"&&typeof z!="number"||(_=_||[]).push(Q,""+z):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(s.hasOwnProperty(Q)?(z!=null&&Q==="onScroll"&&Xe("scroll",i),_||j===z||(_=[])):(_=_||[]).push(Q,z))}l&&(_=_||[]).push("style",l);var Q=_;(o.updateQueue=Q)&&(o.flags|=4)}},Wy=function(i,o,l,h){l!==h&&(o.flags|=4)};function fl(i,o){if(!et)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Ut(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(o)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=h,i.childLanes=l,o}function C0(i,o,l){var h=o.pendingProps;switch(Nf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(o),null;case 1:return rn(o.type)&&Uu(),Ut(o),null;case 3:return h=o.stateNode,Mo(),Je(nn),Je($t),Wf(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(qu(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Qn!==null&&(Eh(Qn),Qn=null))),ch(i,o),Ut(o),null;case 5:Bf(o);var m=Cs(al.current);if(l=o.type,i!==null&&o.stateNode!=null)Hy(i,o,l,h,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return Ut(o),null}if(i=Cs(_r.current),qu(o)){h=o.stateNode,l=o.type;var _=o.memoizedProps;switch(h[yr]=o,h[nl]=_,i=(o.mode&1)!==0,l){case"dialog":Xe("cancel",h),Xe("close",h);break;case"iframe":case"object":case"embed":Xe("load",h);break;case"video":case"audio":for(m=0;m<Za.length;m++)Xe(Za[m],h);break;case"source":Xe("error",h);break;case"img":case"image":case"link":Xe("error",h),Xe("load",h);break;case"details":Xe("toggle",h);break;case"input":Ys(h,_),Xe("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!_.multiple},Xe("invalid",h);break;case"textarea":Js(h,_),Xe("invalid",h)}Na(l,_),m=null;for(var T in _)if(_.hasOwnProperty(T)){var j=_[T];T==="children"?typeof j=="string"?h.textContent!==j&&(_.suppressHydrationWarning!==!0&&Fu(h.textContent,j,i),m=["children",j]):typeof j=="number"&&h.textContent!==""+j&&(_.suppressHydrationWarning!==!0&&Fu(h.textContent,j,i),m=["children",""+j]):s.hasOwnProperty(T)&&j!=null&&T==="onScroll"&&Xe("scroll",h)}switch(l){case"input":Nr(h),du(h,_,!0);break;case"textarea":Nr(h),xa(h);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(h.onclick=$u)}h=m,o.updateQueue=h,h!==null&&(o.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=gt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=T.createElement(l,{is:h.is}):(i=T.createElement(l),l==="select"&&(T=i,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):i=T.createElementNS(i,l),i[yr]=o,i[nl]=h,By(i,o,!1,!1),o.stateNode=i;e:{switch(T=Oa(l,h),l){case"dialog":Xe("cancel",i),Xe("close",i),m=h;break;case"iframe":case"object":case"embed":Xe("load",i),m=h;break;case"video":case"audio":for(m=0;m<Za.length;m++)Xe(Za[m],i);m=h;break;case"source":Xe("error",i),m=h;break;case"img":case"image":case"link":Xe("error",i),Xe("load",i),m=h;break;case"details":Xe("toggle",i),m=h;break;case"input":Ys(i,h),m=is(i,h),Xe("invalid",i);break;case"option":m=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},m=oe({},h,{value:void 0}),Xe("invalid",i);break;case"textarea":Js(i,h),m=Pa(i,h),Xe("invalid",i);break;default:m=h}Na(l,m),j=m;for(_ in j)if(j.hasOwnProperty(_)){var z=j[_];_==="style"?ba(i,z):_==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&Ra(i,z)):_==="children"?typeof z=="string"?(l!=="textarea"||z!=="")&&di(i,z):typeof z=="number"&&di(i,""+z):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(s.hasOwnProperty(_)?z!=null&&_==="onScroll"&&Xe("scroll",i):z!=null&&A(i,_,z,T))}switch(l){case"input":Nr(i),du(i,h,!1);break;case"textarea":Nr(i),xa(i);break;case"option":h.value!=null&&i.setAttribute("value",""+Oe(h.value));break;case"select":i.multiple=!!h.multiple,_=h.value,_!=null?Lr(i,!!h.multiple,_,!1):h.defaultValue!=null&&Lr(i,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=$u)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Ut(o),null;case 6:if(i&&o.stateNode!=null)Wy(i,o,i.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(l=Cs(al.current),Cs(_r.current),qu(o)){if(h=o.stateNode,l=o.memoizedProps,h[yr]=o,(_=h.nodeValue!==l)&&(i=gn,i!==null))switch(i.tag){case 3:Fu(h.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Fu(h.nodeValue,l,(i.mode&1)!==0)}_&&(o.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[yr]=o,o.stateNode=h}return Ut(o),null;case 13:if(Je(it),h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(et&&yn!==null&&o.mode&1&&!(o.flags&128))Kg(),No(),o.flags|=98560,_=!1;else if(_=qu(o),h!==null&&h.dehydrated!==null){if(i===null){if(!_)throw Error(t(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[yr]=o}else No(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Ut(o),_=!1}else Qn!==null&&(Eh(Qn),Qn=null),_=!0;if(!_)return o.flags&65536?o:null}return o.flags&128?(o.lanes=l,o):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(o.child.flags|=8192,o.mode&1&&(i===null||it.current&1?wt===0&&(wt=3):Ih())),o.updateQueue!==null&&(o.flags|=4),Ut(o),null);case 4:return Mo(),ch(i,o),i===null&&el(o.stateNode.containerInfo),Ut(o),null;case 10:return jf(o.type._context),Ut(o),null;case 17:return rn(o.type)&&Uu(),Ut(o),null;case 19:if(Je(it),_=o.memoizedState,_===null)return Ut(o),null;if(h=(o.flags&128)!==0,T=_.rendering,T===null)if(h)fl(_,!1);else{if(wt!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(T=Zu(i),T!==null){for(o.flags|=128,fl(_,!1),h=T.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=l,l=o.child;l!==null;)_=l,i=h,_.flags&=14680066,T=_.alternate,T===null?(_.childLanes=0,_.lanes=i,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=T.childLanes,_.lanes=T.lanes,_.child=T.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=T.memoizedProps,_.memoizedState=T.memoizedState,_.updateQueue=T.updateQueue,_.type=T.type,i=T.dependencies,_.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Ye(it,it.current&1|2),o.child}i=i.sibling}_.tail!==null&&Qe()>$o&&(o.flags|=128,h=!0,fl(_,!1),o.lanes=4194304)}else{if(!h)if(i=Zu(T),i!==null){if(o.flags|=128,h=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),fl(_,!0),_.tail===null&&_.tailMode==="hidden"&&!T.alternate&&!et)return Ut(o),null}else 2*Qe()-_.renderingStartTime>$o&&l!==1073741824&&(o.flags|=128,h=!0,fl(_,!1),o.lanes=4194304);_.isBackwards?(T.sibling=o.child,o.child=T):(l=_.last,l!==null?l.sibling=T:o.child=T,_.last=T)}return _.tail!==null?(o=_.tail,_.rendering=o,_.tail=o.sibling,_.renderingStartTime=Qe(),o.sibling=null,l=it.current,Ye(it,h?l&1|2:l&1),o):(Ut(o),null);case 22:case 23:return Sh(),h=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(o.flags|=8192),h&&o.mode&1?_n&1073741824&&(Ut(o),o.subtreeFlags&6&&(o.flags|=8192)):Ut(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function P0(i,o){switch(Nf(o),o.tag){case 1:return rn(o.type)&&Uu(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Mo(),Je(nn),Je($t),Wf(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return Bf(o),null;case 13:if(Je(it),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));No()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Je(it),null;case 4:return Mo(),null;case 10:return jf(o.type._context),null;case 22:case 23:return Sh(),null;case 24:return null;default:return null}}var lc=!1,Bt=!1,x0=typeof WeakSet=="function"?WeakSet:Set,he=null;function jo(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){at(i,o,h)}else l.current=null}function dh(i,o,l){try{l()}catch(h){at(i,o,h)}}var Gy=!1;function R0(i,o){if(Sf=vi,i=Ig(),mf(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var m=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var T=0,j=-1,z=-1,Q=0,te=0,ne=i,ee=null;t:for(;;){for(var de;ne!==l||m!==0&&ne.nodeType!==3||(j=T+m),ne!==_||h!==0&&ne.nodeType!==3||(z=T+h),ne.nodeType===3&&(T+=ne.nodeValue.length),(de=ne.firstChild)!==null;)ee=ne,ne=de;for(;;){if(ne===i)break t;if(ee===l&&++Q===m&&(j=T),ee===_&&++te===h&&(z=T),(de=ne.nextSibling)!==null)break;ne=ee,ee=ne.parentNode}ne=de}l=j===-1||z===-1?null:{start:j,end:z}}else l=null}l=l||{start:0,end:0}}else l=null;for(If={focusedElem:i,selectionRange:l},vi=!1,he=o;he!==null;)if(o=he,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,he=i;else for(;he!==null;){o=he;try{var pe=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,dt=pe.memoizedState,q=o.stateNode,B=q.getSnapshotBeforeUpdate(o.elementType===o.type?me:Yn(o.type,me),dt);q.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var K=o.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){at(o,o.return,se)}if(i=o.sibling,i!==null){i.return=o.return,he=i;break}he=o.return}return pe=Gy,Gy=!1,pe}function hl(i,o,l){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&i)===i){var _=m.destroy;m.destroy=void 0,_!==void 0&&dh(o,l,_)}m=m.next}while(m!==h)}}function uc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var h=l.create;l.destroy=h()}l=l.next}while(l!==o)}}function fh(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function qy(i){var o=i.alternate;o!==null&&(i.alternate=null,qy(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[yr],delete o[nl],delete o[Rf],delete o[c0],delete o[d0])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Ky(i){return i.tag===5||i.tag===3||i.tag===4}function Qy(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Ky(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function hh(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=$u));else if(h!==4&&(i=i.child,i!==null))for(hh(i,o,l),i=i.sibling;i!==null;)hh(i,o,l),i=i.sibling}function ph(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(ph(i,o,l),i=i.sibling;i!==null;)ph(i,o,l),i=i.sibling}var Ot=null,Xn=!1;function Ri(i,o,l){for(l=l.child;l!==null;)Yy(i,o,l),l=l.sibling}function Yy(i,o,l){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(hs,l)}catch{}switch(l.tag){case 5:Bt||jo(l,o);case 6:var h=Ot,m=Xn;Ot=null,Ri(i,o,l),Ot=h,Xn=m,Ot!==null&&(Xn?(i=Ot,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Ot.removeChild(l.stateNode));break;case 18:Ot!==null&&(Xn?(i=Ot,l=l.stateNode,i.nodeType===8?xf(i.parentNode,l):i.nodeType===1&&xf(i,l),Gn(i)):xf(Ot,l.stateNode));break;case 4:h=Ot,m=Xn,Ot=l.stateNode.containerInfo,Xn=!0,Ri(i,o,l),Ot=h,Xn=m;break;case 0:case 11:case 14:case 15:if(!Bt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var _=m,T=_.destroy;_=_.tag,T!==void 0&&(_&2||_&4)&&dh(l,o,T),m=m.next}while(m!==h)}Ri(i,o,l);break;case 1:if(!Bt&&(jo(l,o),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(j){at(l,o,j)}Ri(i,o,l);break;case 21:Ri(i,o,l);break;case 22:l.mode&1?(Bt=(h=Bt)||l.memoizedState!==null,Ri(i,o,l),Bt=h):Ri(i,o,l);break;default:Ri(i,o,l)}}function Xy(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new x0),o.forEach(function(h){var m=V0.bind(null,i,h);l.has(h)||(l.add(h),h.then(m,m))})}}function Jn(i,o){var l=o.deletions;if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];try{var _=i,T=o,j=T;e:for(;j!==null;){switch(j.tag){case 5:Ot=j.stateNode,Xn=!1;break e;case 3:Ot=j.stateNode.containerInfo,Xn=!0;break e;case 4:Ot=j.stateNode.containerInfo,Xn=!0;break e}j=j.return}if(Ot===null)throw Error(t(160));Yy(_,T,m),Ot=null,Xn=!1;var z=m.alternate;z!==null&&(z.return=null),m.return=null}catch(Q){at(m,o,Q)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Jy(o,i),o=o.sibling}function Jy(i,o){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Jn(o,i),wr(i),h&4){try{hl(3,i,i.return),uc(3,i)}catch(me){at(i,i.return,me)}try{hl(5,i,i.return)}catch(me){at(i,i.return,me)}}break;case 1:Jn(o,i),wr(i),h&512&&l!==null&&jo(l,l.return);break;case 5:if(Jn(o,i),wr(i),h&512&&l!==null&&jo(l,l.return),i.flags&32){var m=i.stateNode;try{di(m,"")}catch(me){at(i,i.return,me)}}if(h&4&&(m=i.stateNode,m!=null)){var _=i.memoizedProps,T=l!==null?l.memoizedProps:_,j=i.type,z=i.updateQueue;if(i.updateQueue=null,z!==null)try{j==="input"&&_.type==="radio"&&_.name!=null&&Ia(m,_),Oa(j,T);var Q=Oa(j,_);for(T=0;T<z.length;T+=2){var te=z[T],ne=z[T+1];te==="style"?ba(m,ne):te==="dangerouslySetInnerHTML"?Ra(m,ne):te==="children"?di(m,ne):A(m,te,ne,Q)}switch(j){case"input":Ca(m,_);break;case"textarea":Zs(m,_);break;case"select":var ee=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!_.multiple;var de=_.value;de!=null?Lr(m,!!_.multiple,de,!1):ee!==!!_.multiple&&(_.defaultValue!=null?Lr(m,!!_.multiple,_.defaultValue,!0):Lr(m,!!_.multiple,_.multiple?[]:"",!1))}m[nl]=_}catch(me){at(i,i.return,me)}}break;case 6:if(Jn(o,i),wr(i),h&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,_=i.memoizedProps;try{m.nodeValue=_}catch(me){at(i,i.return,me)}}break;case 3:if(Jn(o,i),wr(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Gn(o.containerInfo)}catch(me){at(i,i.return,me)}break;case 4:Jn(o,i),wr(i);break;case 13:Jn(o,i),wr(i),m=i.child,m.flags&8192&&(_=m.memoizedState!==null,m.stateNode.isHidden=_,!_||m.alternate!==null&&m.alternate.memoizedState!==null||(yh=Qe())),h&4&&Xy(i);break;case 22:if(te=l!==null&&l.memoizedState!==null,i.mode&1?(Bt=(Q=Bt)||te,Jn(o,i),Bt=Q):Jn(o,i),wr(i),h&8192){if(Q=i.memoizedState!==null,(i.stateNode.isHidden=Q)&&!te&&i.mode&1)for(he=i,te=i.child;te!==null;){for(ne=he=te;he!==null;){switch(ee=he,de=ee.child,ee.tag){case 0:case 11:case 14:case 15:hl(4,ee,ee.return);break;case 1:jo(ee,ee.return);var pe=ee.stateNode;if(typeof pe.componentWillUnmount=="function"){h=ee,l=ee.return;try{o=h,pe.props=o.memoizedProps,pe.state=o.memoizedState,pe.componentWillUnmount()}catch(me){at(h,l,me)}}break;case 5:jo(ee,ee.return);break;case 22:if(ee.memoizedState!==null){t_(ne);continue}}de!==null?(de.return=ee,he=de):t_(ne)}te=te.sibling}e:for(te=null,ne=i;;){if(ne.tag===5){if(te===null){te=ne;try{m=ne.stateNode,Q?(_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(j=ne.stateNode,z=ne.memoizedProps.style,T=z!=null&&z.hasOwnProperty("display")?z.display:null,j.style.display=Aa("display",T))}catch(me){at(i,i.return,me)}}}else if(ne.tag===6){if(te===null)try{ne.stateNode.nodeValue=Q?"":ne.memoizedProps}catch(me){at(i,i.return,me)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===i)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===i)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===i)break e;te===ne&&(te=null),ne=ne.return}te===ne&&(te=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:Jn(o,i),wr(i),h&4&&Xy(i);break;case 21:break;default:Jn(o,i),wr(i)}}function wr(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(Ky(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(di(m,""),h.flags&=-33);var _=Qy(i);ph(i,_,m);break;case 3:case 4:var T=h.stateNode.containerInfo,j=Qy(i);hh(i,j,T);break;default:throw Error(t(161))}}catch(z){at(i,i.return,z)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function A0(i,o,l){he=i,Zy(i)}function Zy(i,o,l){for(var h=(i.mode&1)!==0;he!==null;){var m=he,_=m.child;if(m.tag===22&&h){var T=m.memoizedState!==null||lc;if(!T){var j=m.alternate,z=j!==null&&j.memoizedState!==null||Bt;j=lc;var Q=Bt;if(lc=T,(Bt=z)&&!Q)for(he=m;he!==null;)T=he,z=T.child,T.tag===22&&T.memoizedState!==null?n_(m):z!==null?(z.return=T,he=z):n_(m);for(;_!==null;)he=_,Zy(_),_=_.sibling;he=m,lc=j,Bt=Q}e_(i)}else m.subtreeFlags&8772&&_!==null?(_.return=m,he=_):e_(i)}}function e_(i){for(;he!==null;){var o=he;if(o.flags&8772){var l=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:Bt||uc(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!Bt)if(l===null)h.componentDidMount();else{var m=o.elementType===o.type?l.memoizedProps:Yn(o.type,l.memoizedProps);h.componentDidUpdate(m,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var _=o.updateQueue;_!==null&&ty(o,_,h);break;case 3:var T=o.updateQueue;if(T!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}ty(o,T,l)}break;case 5:var j=o.stateNode;if(l===null&&o.flags&4){l=j;var z=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&l.focus();break;case"img":z.src&&(l.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Q=o.alternate;if(Q!==null){var te=Q.memoizedState;if(te!==null){var ne=te.dehydrated;ne!==null&&Gn(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Bt||o.flags&512&&fh(o)}catch(ee){at(o,o.return,ee)}}if(o===i){he=null;break}if(l=o.sibling,l!==null){l.return=o.return,he=l;break}he=o.return}}function t_(i){for(;he!==null;){var o=he;if(o===i){he=null;break}var l=o.sibling;if(l!==null){l.return=o.return,he=l;break}he=o.return}}function n_(i){for(;he!==null;){var o=he;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{uc(4,o)}catch(z){at(o,l,z)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var m=o.return;try{h.componentDidMount()}catch(z){at(o,m,z)}}var _=o.return;try{fh(o)}catch(z){at(o,_,z)}break;case 5:var T=o.return;try{fh(o)}catch(z){at(o,T,z)}}}catch(z){at(o,o.return,z)}if(o===i){he=null;break}var j=o.sibling;if(j!==null){j.return=o.return,he=j;break}he=o.return}}var b0=Math.ceil,cc=F.ReactCurrentDispatcher,mh=F.ReactCurrentOwner,Nn=F.ReactCurrentBatchConfig,ze=0,xt=null,pt=null,Lt=0,_n=0,Fo=Si(0),wt=0,pl=null,xs=0,dc=0,gh=0,ml=null,on=null,yh=0,$o=1/0,Qr=null,fc=!1,_h=null,Ai=null,hc=!1,bi=null,pc=0,gl=0,vh=null,mc=-1,gc=0;function Jt(){return ze&6?Qe():mc!==-1?mc:mc=Qe()}function ki(i){return i.mode&1?ze&2&&Lt!==0?Lt&-Lt:h0.transition!==null?(gc===0&&(gc=ms()),gc):(i=Ve,i!==0||(i=window.event,i=i===void 0?16:Ha(i.type)),i):1}function Zn(i,o,l,h){if(50<gl)throw gl=0,vh=null,Error(t(185));mi(i,l,h),(!(ze&2)||i!==xt)&&(i===xt&&(!(ze&2)&&(dc|=l),wt===4&&Ni(i,Lt)),an(i,h),l===1&&ze===0&&!(o.mode&1)&&($o=Qe()+500,Hu&&Ci()))}function an(i,o){var l=i.callbackNode;Vr(i,o);var h=ps(i,i===xt?Lt:0);if(h===0)l!==null&&Fa(l),i.callbackNode=null,i.callbackPriority=0;else if(o=h&-h,i.callbackPriority!==o){if(l!=null&&Fa(l),o===1)i.tag===0?f0(i_.bind(null,i)):Bg(i_.bind(null,i)),l0(function(){!(ze&6)&&Ci()}),l=null;else{switch(yi(h)){case 1:l=fs;break;case 4:l=fi;break;case 16:l=Cn;break;case 536870912:l=gu;break;default:l=Cn}l=f_(l,r_.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function r_(i,o){if(mc=-1,gc=0,ze&6)throw Error(t(327));var l=i.callbackNode;if(zo()&&i.callbackNode!==l)return null;var h=ps(i,i===xt?Lt:0);if(h===0)return null;if(h&30||h&i.expiredLanes||o)o=yc(i,h);else{o=h;var m=ze;ze|=2;var _=o_();(xt!==i||Lt!==o)&&(Qr=null,$o=Qe()+500,As(i,o));do try{O0();break}catch(j){s_(i,j)}while(!0);Vf(),cc.current=_,ze=m,pt!==null?o=0:(xt=null,Lt=0,o=wt)}if(o!==0){if(o===2&&(m=hn(i),m!==0&&(h=m,o=wh(i,m))),o===1)throw l=pl,As(i,0),Ni(i,h),an(i,Qe()),l;if(o===6)Ni(i,h);else{if(m=i.current.alternate,!(h&30)&&!k0(m)&&(o=yc(i,h),o===2&&(_=hn(i),_!==0&&(h=_,o=wh(i,_))),o===1))throw l=pl,As(i,0),Ni(i,h),an(i,Qe()),l;switch(i.finishedWork=m,i.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:bs(i,on,Qr);break;case 3:if(Ni(i,h),(h&130023424)===h&&(o=yh+500-Qe(),10<o)){if(ps(i,0)!==0)break;if(m=i.suspendedLanes,(m&h)!==h){Jt(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=Pf(bs.bind(null,i,on,Qr),o);break}bs(i,on,Qr);break;case 4:if(Ni(i,h),(h&4194240)===h)break;for(o=i.eventTimes,m=-1;0<h;){var T=31-Qt(h);_=1<<T,T=o[T],T>m&&(m=T),h&=~_}if(h=m,h=Qe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*b0(h/1960))-h,10<h){i.timeoutHandle=Pf(bs.bind(null,i,on,Qr),h);break}bs(i,on,Qr);break;case 5:bs(i,on,Qr);break;default:throw Error(t(329))}}}return an(i,Qe()),i.callbackNode===l?r_.bind(null,i):null}function wh(i,o){var l=ml;return i.current.memoizedState.isDehydrated&&(As(i,o).flags|=256),i=yc(i,o),i!==2&&(o=on,on=l,o!==null&&Eh(o)),i}function Eh(i){on===null?on=i:on.push.apply(on,i)}function k0(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var m=l[h],_=m.getSnapshot;m=m.value;try{if(!Kn(_(),m))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ni(i,o){for(o&=~gh,o&=~dc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-Qt(o),h=1<<l;i[l]=-1,o&=~h}}function i_(i){if(ze&6)throw Error(t(327));zo();var o=ps(i,0);if(!(o&1))return an(i,Qe()),null;var l=yc(i,o);if(i.tag!==0&&l===2){var h=hn(i);h!==0&&(o=h,l=wh(i,h))}if(l===1)throw l=pl,As(i,0),Ni(i,o),an(i,Qe()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,bs(i,on,Qr),an(i,Qe()),null}function Th(i,o){var l=ze;ze|=1;try{return i(o)}finally{ze=l,ze===0&&($o=Qe()+500,Hu&&Ci())}}function Rs(i){bi!==null&&bi.tag===0&&!(ze&6)&&zo();var o=ze;ze|=1;var l=Nn.transition,h=Ve;try{if(Nn.transition=null,Ve=1,i)return i()}finally{Ve=h,Nn.transition=l,ze=o,!(ze&6)&&Ci()}}function Sh(){_n=Fo.current,Je(Fo)}function As(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,a0(l)),pt!==null)for(l=pt.return;l!==null;){var h=l;switch(Nf(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Uu();break;case 3:Mo(),Je(nn),Je($t),Wf();break;case 5:Bf(h);break;case 4:Mo();break;case 13:Je(it);break;case 19:Je(it);break;case 10:jf(h.type._context);break;case 22:case 23:Sh()}l=l.return}if(xt=i,pt=i=Oi(i.current,null),Lt=_n=o,wt=0,pl=null,gh=dc=xs=0,on=ml=null,Is!==null){for(o=0;o<Is.length;o++)if(l=Is[o],h=l.interleaved,h!==null){l.interleaved=null;var m=h.next,_=l.pending;if(_!==null){var T=_.next;_.next=m,h.next=T}l.pending=h}Is=null}return i}function s_(i,o){do{var l=pt;try{if(Vf(),ec.current=ic,tc){for(var h=st.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}tc=!1}if(Ps=0,Pt=vt=st=null,ll=!1,ul=0,mh.current=null,l===null||l.return===null){wt=1,pl=o,pt=null;break}e:{var _=i,T=l.return,j=l,z=o;if(o=Lt,j.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var Q=z,te=j,ne=te.tag;if(!(te.mode&1)&&(ne===0||ne===11||ne===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var de=by(T);if(de!==null){de.flags&=-257,ky(de,T,j,_,o),de.mode&1&&Ay(_,Q,o),o=de,z=Q;var pe=o.updateQueue;if(pe===null){var me=new Set;me.add(z),o.updateQueue=me}else pe.add(z);break e}else{if(!(o&1)){Ay(_,Q,o),Ih();break e}z=Error(t(426))}}else if(et&&j.mode&1){var dt=by(T);if(dt!==null){!(dt.flags&65536)&&(dt.flags|=256),ky(dt,T,j,_,o),Df(Vo(z,j));break e}}_=z=Vo(z,j),wt!==4&&(wt=2),ml===null?ml=[_]:ml.push(_),_=T;do{switch(_.tag){case 3:_.flags|=65536,o&=-o,_.lanes|=o;var q=xy(_,z,o);ey(_,q);break e;case 1:j=z;var B=_.type,K=_.stateNode;if(!(_.flags&128)&&(typeof B.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Ai===null||!Ai.has(K)))){_.flags|=65536,o&=-o,_.lanes|=o;var se=Ry(_,j,o);ey(_,se);break e}}_=_.return}while(_!==null)}l_(l)}catch(ye){o=ye,pt===l&&l!==null&&(pt=l=l.return);continue}break}while(!0)}function o_(){var i=cc.current;return cc.current=ic,i===null?ic:i}function Ih(){(wt===0||wt===3||wt===2)&&(wt=4),xt===null||!(xs&268435455)&&!(dc&268435455)||Ni(xt,Lt)}function yc(i,o){var l=ze;ze|=2;var h=o_();(xt!==i||Lt!==o)&&(Qr=null,As(i,o));do try{N0();break}catch(m){s_(i,m)}while(!0);if(Vf(),ze=l,cc.current=h,pt!==null)throw Error(t(261));return xt=null,Lt=0,wt}function N0(){for(;pt!==null;)a_(pt)}function O0(){for(;pt!==null&&!pu();)a_(pt)}function a_(i){var o=d_(i.alternate,i,_n);i.memoizedProps=i.pendingProps,o===null?l_(i):pt=o,mh.current=null}function l_(i){var o=i;do{var l=o.alternate;if(i=o.return,o.flags&32768){if(l=P0(l,o),l!==null){l.flags&=32767,pt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{wt=6,pt=null;return}}else if(l=C0(l,o,_n),l!==null){pt=l;return}if(o=o.sibling,o!==null){pt=o;return}pt=o=i}while(o!==null);wt===0&&(wt=5)}function bs(i,o,l){var h=Ve,m=Nn.transition;try{Nn.transition=null,Ve=1,L0(i,o,l,h)}finally{Nn.transition=m,Ve=h}return null}function L0(i,o,l,h){do zo();while(bi!==null);if(ze&6)throw Error(t(327));l=i.finishedWork;var m=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var _=l.lanes|l.childLanes;if(qe(i,_),i===xt&&(pt=xt=null,Lt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||hc||(hc=!0,f_(Cn,function(){return zo(),null})),_=(l.flags&15990)!==0,l.subtreeFlags&15990||_){_=Nn.transition,Nn.transition=null;var T=Ve;Ve=1;var j=ze;ze|=4,mh.current=null,R0(i,l),Jy(l,i),e0(If),vi=!!Sf,If=Sf=null,i.current=l,A0(l),af(),ze=j,Ve=T,Nn.transition=_}else i.current=l;if(hc&&(hc=!1,bi=i,pc=m),_=i.pendingLanes,_===0&&(Ai=null),yu(l.stateNode),an(i,Qe()),o!==null)for(h=i.onRecoverableError,l=0;l<o.length;l++)m=o[l],h(m.value,{componentStack:m.stack,digest:m.digest});if(fc)throw fc=!1,i=_h,_h=null,i;return pc&1&&i.tag!==0&&zo(),_=i.pendingLanes,_&1?i===vh?gl++:(gl=0,vh=i):gl=0,Ci(),null}function zo(){if(bi!==null){var i=yi(pc),o=Nn.transition,l=Ve;try{if(Nn.transition=null,Ve=16>i?16:i,bi===null)var h=!1;else{if(i=bi,bi=null,pc=0,ze&6)throw Error(t(331));var m=ze;for(ze|=4,he=i.current;he!==null;){var _=he,T=_.child;if(he.flags&16){var j=_.deletions;if(j!==null){for(var z=0;z<j.length;z++){var Q=j[z];for(he=Q;he!==null;){var te=he;switch(te.tag){case 0:case 11:case 15:hl(8,te,_)}var ne=te.child;if(ne!==null)ne.return=te,he=ne;else for(;he!==null;){te=he;var ee=te.sibling,de=te.return;if(qy(te),te===Q){he=null;break}if(ee!==null){ee.return=de,he=ee;break}he=de}}}var pe=_.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var dt=me.sibling;me.sibling=null,me=dt}while(me!==null)}}he=_}}if(_.subtreeFlags&2064&&T!==null)T.return=_,he=T;else e:for(;he!==null;){if(_=he,_.flags&2048)switch(_.tag){case 0:case 11:case 15:hl(9,_,_.return)}var q=_.sibling;if(q!==null){q.return=_.return,he=q;break e}he=_.return}}var B=i.current;for(he=B;he!==null;){T=he;var K=T.child;if(T.subtreeFlags&2064&&K!==null)K.return=T,he=K;else e:for(T=B;he!==null;){if(j=he,j.flags&2048)try{switch(j.tag){case 0:case 11:case 15:uc(9,j)}}catch(ye){at(j,j.return,ye)}if(j===T){he=null;break e}var se=j.sibling;if(se!==null){se.return=j.return,he=se;break e}he=j.return}}if(ze=m,Ci(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(hs,i)}catch{}h=!0}return h}finally{Ve=l,Nn.transition=o}}return!1}function u_(i,o,l){o=Vo(l,o),o=xy(i,o,1),i=xi(i,o,1),o=Jt(),i!==null&&(mi(i,1,o),an(i,o))}function at(i,o,l){if(i.tag===3)u_(i,i,l);else for(;o!==null;){if(o.tag===3){u_(o,i,l);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ai===null||!Ai.has(h))){i=Vo(l,i),i=Ry(o,i,1),o=xi(o,i,1),i=Jt(),o!==null&&(mi(o,1,i),an(o,i));break}}o=o.return}}function D0(i,o,l){var h=i.pingCache;h!==null&&h.delete(o),o=Jt(),i.pingedLanes|=i.suspendedLanes&l,xt===i&&(Lt&l)===l&&(wt===4||wt===3&&(Lt&130023424)===Lt&&500>Qe()-yh?As(i,0):gh|=l),an(i,o)}function c_(i,o){o===0&&(i.mode&1?(o=uo,uo<<=1,!(uo&130023424)&&(uo=4194304)):o=1);var l=Jt();i=Gr(i,o),i!==null&&(mi(i,o,l),an(i,l))}function M0(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),c_(i,l)}function V0(i,o){var l=0;switch(i.tag){case 13:var h=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),c_(i,l)}var d_;d_=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||nn.current)sn=!0;else{if(!(i.lanes&l)&&!(o.flags&128))return sn=!1,I0(i,o,l);sn=!!(i.flags&131072)}else sn=!1,et&&o.flags&1048576&&Hg(o,Gu,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;ac(i,o),i=o.pendingProps;var m=Ao(o,$t.current);Do(o,l),m=Kf(null,o,h,i,m,l);var _=Qf();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,rn(h)?(_=!0,Bu(o)):_=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,zf(o),m.updater=sc,o.stateNode=m,m._reactInternals=o,th(o,h,i,l),o=sh(null,o,h,!0,_,l)):(o.tag=0,et&&_&&kf(o),Xt(null,o,m,l),o=o.child),o;case 16:h=o.elementType;e:{switch(ac(i,o),i=o.pendingProps,m=h._init,h=m(h._payload),o.type=h,m=o.tag=F0(h),i=Yn(h,i),m){case 0:o=ih(null,o,h,i,l);break e;case 1:o=Vy(null,o,h,i,l);break e;case 11:o=Ny(null,o,h,i,l);break e;case 14:o=Oy(null,o,h,Yn(h.type,i),l);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Yn(h,m),ih(i,o,h,m,l);case 1:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Yn(h,m),Vy(i,o,h,m,l);case 3:e:{if(jy(o),i===null)throw Error(t(387));h=o.pendingProps,_=o.memoizedState,m=_.element,Zg(i,o),Ju(o,h,null,l);var T=o.memoizedState;if(h=T.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){m=Vo(Error(t(423)),o),o=Fy(i,o,h,l,m);break e}else if(h!==m){m=Vo(Error(t(424)),o),o=Fy(i,o,h,l,m);break e}else for(yn=Ti(o.stateNode.containerInfo.firstChild),gn=o,et=!0,Qn=null,l=Xg(o,null,h,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(No(),h===m){o=Kr(i,o,l);break e}Xt(i,o,h,l)}o=o.child}return o;case 5:return ny(o),i===null&&Lf(o),h=o.type,m=o.pendingProps,_=i!==null?i.memoizedProps:null,T=m.children,Cf(h,m)?T=null:_!==null&&Cf(h,_)&&(o.flags|=32),My(i,o),Xt(i,o,T,l),o.child;case 6:return i===null&&Lf(o),null;case 13:return $y(i,o,l);case 4:return Uf(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=Oo(o,null,h,l):Xt(i,o,h,l),o.child;case 11:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Yn(h,m),Ny(i,o,h,m,l);case 7:return Xt(i,o,o.pendingProps,l),o.child;case 8:return Xt(i,o,o.pendingProps.children,l),o.child;case 12:return Xt(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(h=o.type._context,m=o.pendingProps,_=o.memoizedProps,T=m.value,Ye(Qu,h._currentValue),h._currentValue=T,_!==null)if(Kn(_.value,T)){if(_.children===m.children&&!nn.current){o=Kr(i,o,l);break e}}else for(_=o.child,_!==null&&(_.return=o);_!==null;){var j=_.dependencies;if(j!==null){T=_.child;for(var z=j.firstContext;z!==null;){if(z.context===h){if(_.tag===1){z=qr(-1,l&-l),z.tag=2;var Q=_.updateQueue;if(Q!==null){Q=Q.shared;var te=Q.pending;te===null?z.next=z:(z.next=te.next,te.next=z),Q.pending=z}}_.lanes|=l,z=_.alternate,z!==null&&(z.lanes|=l),Ff(_.return,l,o),j.lanes|=l;break}z=z.next}}else if(_.tag===10)T=_.type===o.type?null:_.child;else if(_.tag===18){if(T=_.return,T===null)throw Error(t(341));T.lanes|=l,j=T.alternate,j!==null&&(j.lanes|=l),Ff(T,l,o),T=_.sibling}else T=_.child;if(T!==null)T.return=_;else for(T=_;T!==null;){if(T===o){T=null;break}if(_=T.sibling,_!==null){_.return=T.return,T=_;break}T=T.return}_=T}Xt(i,o,m.children,l),o=o.child}return o;case 9:return m=o.type,h=o.pendingProps.children,Do(o,l),m=bn(m),h=h(m),o.flags|=1,Xt(i,o,h,l),o.child;case 14:return h=o.type,m=Yn(h,o.pendingProps),m=Yn(h.type,m),Oy(i,o,h,m,l);case 15:return Ly(i,o,o.type,o.pendingProps,l);case 17:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Yn(h,m),ac(i,o),o.tag=1,rn(h)?(i=!0,Bu(o)):i=!1,Do(o,l),Cy(o,h,m),th(o,h,m,l),sh(null,o,h,!0,i,l);case 19:return Uy(i,o,l);case 22:return Dy(i,o,l)}throw Error(t(156,o.tag))};function f_(i,o){return ao(i,o)}function j0(i,o,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(i,o,l,h){return new j0(i,o,l,h)}function Ch(i){return i=i.prototype,!(!i||!i.isReactComponent)}function F0(i){if(typeof i=="function")return Ch(i)?1:0;if(i!=null){if(i=i.$$typeof,i===$)return 11;if(i===_e)return 14}return 2}function Oi(i,o){var l=i.alternate;return l===null?(l=On(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function _c(i,o,l,h,m,_){var T=2;if(h=i,typeof i=="function")Ch(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case M:return ks(l.children,m,_,o);case I:T=8,m|=8;break;case x:return i=On(12,l,o,m|2),i.elementType=x,i.lanes=_,i;case N:return i=On(13,l,o,m),i.elementType=N,i.lanes=_,i;case ue:return i=On(19,l,o,m),i.elementType=ue,i.lanes=_,i;case Pe:return vc(l,m,_,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case L:T=10;break e;case V:T=9;break e;case $:T=11;break e;case _e:T=14;break e;case ve:T=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=On(T,l,o,m),o.elementType=i,o.type=h,o.lanes=_,o}function ks(i,o,l,h){return i=On(7,i,h,o),i.lanes=l,i}function vc(i,o,l,h){return i=On(22,i,h,o),i.elementType=Pe,i.lanes=l,i.stateNode={isHidden:!1},i}function Ph(i,o,l){return i=On(6,i,null,o),i.lanes=l,i}function xh(i,o,l){return o=On(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function $0(i,o,l,h,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pi(0),this.expirationTimes=pi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Rh(i,o,l,h,m,_,T,j,z){return i=new $0(i,o,l,j,z),o===1?(o=1,_===!0&&(o|=8)):o=0,_=On(3,null,null,o),i.current=_,_.stateNode=i,_.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},zf(_),i}function z0(i,o,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:h==null?null:""+h,children:i,containerInfo:o,implementation:l}}function h_(i){if(!i)return Ii;i=i._reactInternals;e:{if(zn(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(rn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(rn(l))return zg(i,l,o)}return o}function p_(i,o,l,h,m,_,T,j,z){return i=Rh(l,h,!0,i,m,_,T,j,z),i.context=h_(null),l=i.current,h=Jt(),m=ki(l),_=qr(h,m),_.callback=o??null,xi(l,_,m),i.current.lanes=m,mi(i,m,h),an(i,h),i}function wc(i,o,l,h){var m=o.current,_=Jt(),T=ki(m);return l=h_(l),o.context===null?o.context=l:o.pendingContext=l,o=qr(_,T),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=xi(m,o,T),i!==null&&(Zn(i,m,T,_),Xu(i,m,T)),T}function Ec(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function m_(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function Ah(i,o){m_(i,o),(i=i.alternate)&&m_(i,o)}var g_=typeof reportError=="function"?reportError:function(i){console.error(i)};function bh(i){this._internalRoot=i}Tc.prototype.render=bh.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));wc(i,o,null,null)},Tc.prototype.unmount=bh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Rs(function(){wc(null,i,null,null)}),o[Ur]=null}};function Tc(i){this._internalRoot=i}Tc.prototype.unstable_scheduleHydration=function(i){if(i){var o=Tu();i={blockedOn:null,target:i,priority:o};for(var l=0;l<hr.length&&o!==0&&o<hr[l].priority;l++);hr.splice(l,0,i),l===0&&Cu(i)}};function kh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Sc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function y_(){}function U0(i,o,l,h,m){if(m){if(typeof h=="function"){var _=h;h=function(){var Q=Ec(T);_.call(Q)}}var T=p_(o,h,i,0,null,!1,!1,"",y_);return i._reactRootContainer=T,i[Ur]=T.current,el(i.nodeType===8?i.parentNode:i),Rs(),T}for(;m=i.lastChild;)i.removeChild(m);if(typeof h=="function"){var j=h;h=function(){var Q=Ec(z);j.call(Q)}}var z=Rh(i,0,!1,null,null,!1,!1,"",y_);return i._reactRootContainer=z,i[Ur]=z.current,el(i.nodeType===8?i.parentNode:i),Rs(function(){wc(o,z,l,h)}),z}function Ic(i,o,l,h,m){var _=l._reactRootContainer;if(_){var T=_;if(typeof m=="function"){var j=m;m=function(){var z=Ec(T);j.call(z)}}wc(o,T,i,m)}else T=U0(l,o,i,m,h);return Ec(T)}wu=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=hi(o.pendingLanes);l!==0&&(gi(o,l|1),an(o,Qe()),!(ze&6)&&($o=Qe()+500,Ci()))}break;case 13:Rs(function(){var h=Gr(i,1);if(h!==null){var m=Jt();Zn(h,i,1,m)}}),Ah(i,1)}},co=function(i){if(i.tag===13){var o=Gr(i,134217728);if(o!==null){var l=Jt();Zn(o,i,134217728,l)}Ah(i,134217728)}},Eu=function(i){if(i.tag===13){var o=ki(i),l=Gr(i,o);if(l!==null){var h=Jt();Zn(l,i,o,h)}Ah(i,o)}},Tu=function(){return Ve},Su=function(i,o){var l=Ve;try{return Ve=i,o()}finally{Ve=l}},to=function(i,o,l){switch(o){case"input":if(Ca(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var h=l[o];if(h!==i&&h.form===i.form){var m=zu(h);if(!m)throw Error(t(90));Qs(h),Ca(h,m)}}}break;case"textarea":Zs(i,l);break;case"select":o=l.value,o!=null&&Lr(i,!!l.multiple,o,!1)}},ls=Th,Da=Rs;var B0={usingClientEntryPoint:!1,Events:[rl,xo,zu,dr,La,Th]},yl={findFiberByHostInstance:ws,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},H0={bundleType:yl.bundleType,version:yl.version,rendererPackageName:yl.rendererPackageName,rendererConfig:yl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=ja(i),i===null?null:i.stateNode},findFiberByHostInstance:yl.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{hs=Cc.inject(H0),fn=Cc}catch{}}return ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B0,ln.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kh(o))throw Error(t(200));return z0(i,o,null,l)},ln.createRoot=function(i,o){if(!kh(i))throw Error(t(299));var l=!1,h="",m=g_;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Rh(i,1,!1,null,null,l,!1,h,m),i[Ur]=o.current,el(i.nodeType===8?i.parentNode:i),new bh(o)},ln.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=ja(o),i=i===null?null:i.stateNode,i},ln.flushSync=function(i){return Rs(i)},ln.hydrate=function(i,o,l){if(!Sc(o))throw Error(t(200));return Ic(null,i,o,!0,l)},ln.hydrateRoot=function(i,o,l){if(!kh(i))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,m=!1,_="",T=g_;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(_=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),o=p_(o,null,i,1,l??null,m,!1,_,T),i[Ur]=o.current,el(i),h)for(i=0;i<h.length;i++)l=h[i],m=l._getVersion,m=m(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,m]:o.mutableSourceEagerHydrationData.push(l,m);return new Tc(o)},ln.render=function(i,o,l){if(!Sc(o))throw Error(t(200));return Ic(null,i,o,!1,l)},ln.unmountComponentAtNode=function(i){if(!Sc(i))throw Error(t(40));return i._reactRootContainer?(Rs(function(){Ic(null,null,i,!1,function(){i._reactRootContainer=null,i[Ur]=null})}),!0):!1},ln.unstable_batchedUpdates=Th,ln.unstable_renderSubtreeIntoContainer=function(i,o,l,h){if(!Sc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Ic(i,o,l,!1,h)},ln.version="18.3.1-next-f1338f8080-20240426",ln}var C_;function t1(){if(C_)return Dh.exports;C_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Dh.exports=e1(),Dh.exports}var P_;function n1(){if(P_)return Pc;P_=1;var n=t1();return Pc.createRoot=n.createRoot,Pc.hydrateRoot=n.hydrateRoot,Pc}var r1=n1(),vl={},x_;function i1(){if(x_)return vl;x_=1,Object.defineProperty(vl,"__esModule",{value:!0}),vl.parse=u,vl.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function u(E,P){const S=new a,O=E.length;if(O<2)return S;const k=(P==null?void 0:P.decode)||g;let D=0;do{const R=E.indexOf("=",D);if(R===-1)break;const A=E.indexOf(";",D),F=A===-1?O:A;if(R>F){D=E.lastIndexOf(";",R-1)+1;continue}const H=d(E,D,R),X=f(E,R,H),M=E.slice(H,X);if(S[M]===void 0){let I=d(E,R+1,F),x=f(E,F,I);const L=k(E.slice(I,x));S[M]=L}D=F+1}while(D<O);return S}function d(E,P,S){do{const O=E.charCodeAt(P);if(O!==32&&O!==9)return P}while(++P<S);return S}function f(E,P,S){for(;P>S;){const O=E.charCodeAt(--P);if(O!==32&&O!==9)return P+1}return S}function p(E,P,S){const O=(S==null?void 0:S.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const k=O(P);if(!e.test(k))throw new TypeError(`argument val is invalid: ${P}`);let D=E+"="+k;if(!S)return D;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);D+="; Max-Age="+S.maxAge}if(S.domain){if(!t.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);D+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);D+="; Path="+S.path}if(S.expires){if(!v(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);D+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(D+="; HttpOnly"),S.secure&&(D+="; Secure"),S.partitioned&&(D+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return D}function g(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function v(E){return s.call(E)==="[object Date]"}return vl}i1();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var R_="popstate";function s1(n={}){function e(r,s){let{pathname:a,search:u,hash:d}=r.location;return yp("",{pathname:a,search:u,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:$l(s)}return a1(e,t,null,n)}function nt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ar(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function o1(){return Math.random().toString(36).substring(2,10)}function A_(n,e){return{usr:n.state,key:n.key,idx:e}}function yp(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?fa(e):e,state:t,key:e&&e.key||r||o1()}}function $l({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function fa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function a1(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,d="POP",f=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function v(){d="POP";let k=g(),D=k==null?null:k-p;p=k,f&&f({action:d,location:O.location,delta:D})}function E(k,D){d="PUSH";let R=yp(O.location,k,D);p=g()+1;let A=A_(R,p),F=O.createHref(R);try{u.pushState(A,"",F)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;s.location.assign(F)}a&&f&&f({action:d,location:O.location,delta:1})}function P(k,D){d="REPLACE";let R=yp(O.location,k,D);p=g();let A=A_(R,p),F=O.createHref(R);u.replaceState(A,"",F),a&&f&&f({action:d,location:O.location,delta:0})}function S(k){let D=s.location.origin!=="null"?s.location.origin:s.location.href,R=typeof k=="string"?k:$l(k);return R=R.replace(/ $/,"%20"),nt(D,`No window.location.(origin|href) available to create URL for href: ${R}`),new URL(R,D)}let O={get action(){return d},get location(){return n(s,u)},listen(k){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(R_,v),f=k,()=>{s.removeEventListener(R_,v),f=null}},createHref(k){return e(s,k)},createURL:S,encodeLocation(k){let D=S(k);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:E,replace:P,go(k){return u.go(k)}};return O}function Sw(n,e,t="/"){return l1(n,e,t,!1)}function l1(n,e,t,r){let s=typeof e=="string"?fa(e):e,a=Qi(s.pathname||"/",t);if(a==null)return null;let u=Iw(n);u1(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let p=w1(a);d=_1(u[f],p,r)}return d}function Iw(n,e=[],t=[],r=""){let s=(a,u,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(nt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=ei([r,f.relativePath]),g=t.concat(f);a.children&&a.children.length>0&&(nt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Iw(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:g1(p,a.index),routesMeta:g})};return n.forEach((a,u)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))s(a,u);else for(let f of Cw(a.path))s(a,u,f)}),e}function Cw(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=Cw(r.join("/")),d=[];return d.push(...u.map(f=>f===""?a:[a,f].join("/"))),s&&d.push(...u),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function u1(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:y1(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var c1=/^:[\w-]+$/,d1=3,f1=2,h1=1,p1=10,m1=-2,b_=n=>n==="*";function g1(n,e){let t=n.split("/"),r=t.length;return t.some(b_)&&(r+=m1),e&&(r+=f1),t.filter(s=>!b_(s)).reduce((s,a)=>s+(c1.test(a)?d1:a===""?h1:p1),r)}function y1(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function _1(n,e,t=!1){let{routesMeta:r}=n,s={},a="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],p=d===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",v=Zc({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),E=f.route;if(!v&&p&&t&&!r[r.length-1].route.index&&(v=Zc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(s,v.params),u.push({params:s,pathname:ei([a,v.pathname]),pathnameBase:I1(ei([a,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(a=ei([a,v.pathnameBase]))}return u}function Zc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=v1(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:v},E)=>{if(g==="*"){let S=d[E]||"";u=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const P=d[E];return v&&!P?p[g]=void 0:p[g]=(P||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:n}}function v1(n,e=!1,t=!0){ar(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function w1(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ar(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Qi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function E1(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?fa(n):n;return{pathname:t?t.startsWith("/")?t:T1(t,e):e,search:C1(r),hash:P1(s)}}function T1(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function jh(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function S1(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function rm(n){let e=S1(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function im(n,e,t,r=!1){let s;typeof n=="string"?s=fa(n):(s={...n},nt(!s.pathname||!s.pathname.includes("?"),jh("?","pathname","search",s)),nt(!s.pathname||!s.pathname.includes("#"),jh("#","pathname","hash",s)),nt(!s.search||!s.search.includes("#"),jh("#","search","hash",s)));let a=n===""||s.pathname==="",u=a?"/":s.pathname,d;if(u==null)d=t;else{let v=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),v-=1;s.pathname=E.join("/")}d=v>=0?e[v]:"/"}let f=E1(s,d),p=u&&u!=="/"&&u.endsWith("/"),g=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var ei=n=>n.join("/").replace(/\/\/+/g,"/"),I1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),C1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,P1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function x1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Pw=["POST","PUT","PATCH","DELETE"];new Set(Pw);var R1=["GET",...Pw];new Set(R1);var ha=U.createContext(null);ha.displayName="DataRouter";var Nd=U.createContext(null);Nd.displayName="DataRouterState";var xw=U.createContext({isTransitioning:!1});xw.displayName="ViewTransition";var A1=U.createContext(new Map);A1.displayName="Fetchers";var b1=U.createContext(null);b1.displayName="Await";var ur=U.createContext(null);ur.displayName="Navigation";var Jl=U.createContext(null);Jl.displayName="Location";var jn=U.createContext({outlet:null,matches:[],isDataRoute:!1});jn.displayName="Route";var sm=U.createContext(null);sm.displayName="RouteError";function k1(n,{relative:e}={}){nt(pa(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=U.useContext(ur),{hash:s,pathname:a,search:u}=Zl(n,{relative:e}),d=a;return t!=="/"&&(d=a==="/"?t:ei([t,a])),r.createHref({pathname:d,search:u,hash:s})}function pa(){return U.useContext(Jl)!=null}function li(){return nt(pa(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Jl).location}var Rw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Aw(n){U.useContext(ur).static||U.useLayoutEffect(n)}function ma(){let{isDataRoute:n}=U.useContext(jn);return n?G1():N1()}function N1(){nt(pa(),"useNavigate() may be used only in the context of a <Router> component.");let n=U.useContext(ha),{basename:e,navigator:t}=U.useContext(ur),{matches:r}=U.useContext(jn),{pathname:s}=li(),a=JSON.stringify(rm(r)),u=U.useRef(!1);return Aw(()=>{u.current=!0}),U.useCallback((f,p={})=>{if(ar(u.current,Rw),!u.current)return;if(typeof f=="number"){t.go(f);return}let g=im(f,JSON.parse(a),s,p.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ei([e,g.pathname])),(p.replace?t.replace:t.push)(g,p.state,p)},[e,t,a,s,n])}var O1=U.createContext(null);function L1(n){let e=U.useContext(jn).outlet;return e&&U.createElement(O1.Provider,{value:n},e)}function bw(){let{matches:n}=U.useContext(jn),e=n[n.length-1];return e?e.params:{}}function Zl(n,{relative:e}={}){let{matches:t}=U.useContext(jn),{pathname:r}=li(),s=JSON.stringify(rm(t));return U.useMemo(()=>im(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function D1(n,e){return kw(n,e)}function kw(n,e,t,r){var D;nt(pa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=U.useContext(ur),{matches:a}=U.useContext(jn),u=a[a.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let R=g&&g.path||"";Nw(f,!g||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let v=li(),E;if(e){let R=typeof e=="string"?fa(e):e;nt(p==="/"||((D=R.pathname)==null?void 0:D.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${R.pathname}" was given in the \`location\` prop.`),E=R}else E=v;let P=E.pathname||"/",S=P;if(p!=="/"){let R=p.replace(/^\//,"").split("/");S="/"+P.replace(/^\//,"").split("/").slice(R.length).join("/")}let O=Sw(n,{pathname:S});ar(g||O!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),ar(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=$1(O&&O.map(R=>Object.assign({},R,{params:Object.assign({},d,R.params),pathname:ei([p,s.encodeLocation?s.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?p:ei([p,s.encodeLocation?s.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),a,t,r);return e&&k?U.createElement(Jl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},k):k}function M1(){let n=W1(),e=x1(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:a},"ErrorBoundary")," or"," ",U.createElement("code",{style:a},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:s},t):null,u)}var V1=U.createElement(M1,null),j1=class extends U.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?U.createElement(jn.Provider,{value:this.props.routeContext},U.createElement(sm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function F1({routeContext:n,match:e,children:t}){let r=U.useContext(ha);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(jn.Provider,{value:n},t)}function $1(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let f=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);nt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,d=-1;if(t)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:g,errors:v}=t,E=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||E){u=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((f,p,g)=>{let v,E=!1,P=null,S=null;t&&(v=a&&p.route.id?a[p.route.id]:void 0,P=p.route.errorElement||V1,u&&(d<0&&g===0?(Nw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,S=null):d===g&&(E=!0,S=p.route.hydrateFallbackElement||null)));let O=e.concat(s.slice(0,g+1)),k=()=>{let D;return v?D=P:E?D=S:p.route.Component?D=U.createElement(p.route.Component,null):p.route.element?D=p.route.element:D=f,U.createElement(F1,{match:p,routeContext:{outlet:f,matches:O,isDataRoute:t!=null},children:D})};return t&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?U.createElement(j1,{location:t.location,revalidation:t.revalidation,component:P,error:v,children:k(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):k()},null)}function om(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z1(n){let e=U.useContext(ha);return nt(e,om(n)),e}function U1(n){let e=U.useContext(Nd);return nt(e,om(n)),e}function B1(n){let e=U.useContext(jn);return nt(e,om(n)),e}function am(n){let e=B1(n),t=e.matches[e.matches.length-1];return nt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function H1(){return am("useRouteId")}function W1(){var r;let n=U.useContext(sm),e=U1("useRouteError"),t=am("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function G1(){let{router:n}=z1("useNavigate"),e=am("useNavigate"),t=U.useRef(!1);return Aw(()=>{t.current=!0}),U.useCallback(async(s,a={})=>{ar(t.current,Rw),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var k_={};function Nw(n,e,t){!e&&!k_[n]&&(k_[n]=!0,ar(!1,t))}U.memo(q1);function q1({routes:n,future:e,state:t}){return kw(n,void 0,t,e)}function K1({to:n,replace:e,state:t,relative:r}){nt(pa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=U.useContext(ur);ar(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=U.useContext(jn),{pathname:u}=li(),d=ma(),f=im(n,rm(a),u,r==="path"),p=JSON.stringify(f);return U.useEffect(()=>{d(JSON.parse(p),{replace:e,state:t,relative:r})},[d,p,r,e,t]),null}function lm(n){return L1(n.context)}function un(n){nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Q1({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:a=!1}){nt(!pa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=U.useMemo(()=>({basename:u,navigator:s,static:a,future:{}}),[u,s,a]);typeof t=="string"&&(t=fa(t));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:E="default"}=t,P=U.useMemo(()=>{let S=Qi(f,u);return S==null?null:{location:{pathname:S,search:p,hash:g,state:v,key:E},navigationType:r}},[u,f,p,g,v,E,r]);return ar(P!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:U.createElement(ur.Provider,{value:d},U.createElement(Jl.Provider,{children:e,value:P}))}function Y1({children:n,location:e}){return D1(_p(n),e)}function _p(n,e=[]){let t=[];return U.Children.forEach(n,(r,s)=>{if(!U.isValidElement(r))return;let a=[...e,s];if(r.type===U.Fragment){t.push.apply(t,_p(r.props.children,a));return}nt(r.type===un,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=_p(r.props.children,a)),t.push(u)}),t}var Fc="get",$c="application/x-www-form-urlencoded";function Od(n){return n!=null&&typeof n.tagName=="string"}function X1(n){return Od(n)&&n.tagName.toLowerCase()==="button"}function J1(n){return Od(n)&&n.tagName.toLowerCase()==="form"}function Z1(n){return Od(n)&&n.tagName.toLowerCase()==="input"}function eI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function tI(n,e){return n.button===0&&(!e||e==="_self")&&!eI(n)}var xc=null;function nI(){if(xc===null)try{new FormData(document.createElement("form"),0),xc=!1}catch{xc=!0}return xc}var rI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fh(n){return n!=null&&!rI.has(n)?(ar(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$c}"`),null):n}function iI(n,e){let t,r,s,a,u;if(J1(n)){let d=n.getAttribute("action");r=d?Qi(d,e):null,t=n.getAttribute("method")||Fc,s=Fh(n.getAttribute("enctype"))||$c,a=new FormData(n)}else if(X1(n)||Z1(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||d.getAttribute("action");if(r=f?Qi(f,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Fc,s=Fh(n.getAttribute("formenctype"))||Fh(d.getAttribute("enctype"))||$c,a=new FormData(d,n),!nI()){let{name:p,type:g,value:v}=n;if(g==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,v)}}else{if(Od(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Fc,r=null,s=$c,u=n}return a&&s==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:a,body:u}}function um(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function sI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function aI(n,e,t){let r=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let u=await sI(a,t);return u.links?u.links():[]}return[]}));return dI(r.flat(1).filter(oI).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function N_(n,e,t,r,s,a){let u=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,d=(f,p)=>{var g;return t[p].pathname!==f.pathname||((g=t[p].route.path)==null?void 0:g.endsWith("*"))&&t[p].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,p)=>u(f,p)||d(f,p)):a==="data"?e.filter((f,p)=>{var v;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let E=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function lI(n,e){return uI(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let s=[r.module];return r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function uI(n){return[...new Set(n)]}function cI(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function dI(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let a=JSON.stringify(cI(s));return t.has(a)||(t.add(a),r.push({key:a,link:s})),r},[])}function fI(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function hI(){let n=U.useContext(ha);return um(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function pI(){let n=U.useContext(Nd);return um(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var cm=U.createContext(void 0);cm.displayName="FrameworkContext";function Ow(){let n=U.useContext(cm);return um(n,"You must render this element inside a <HydratedRouter> element"),n}function mI(n,e){let t=U.useContext(cm),[r,s]=U.useState(!1),[a,u]=U.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:v}=e,E=U.useRef(null);U.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let O=D=>{D.forEach(R=>{u(R.isIntersecting)})},k=new IntersectionObserver(O,{threshold:.5});return E.current&&k.observe(E.current),()=>{k.disconnect()}}},[n]),U.useEffect(()=>{if(r){let O=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(O)}}},[r]);let P=()=>{s(!0)},S=()=>{s(!1),u(!1)};return t?n!=="intent"?[a,E,{}]:[a,E,{onFocus:wl(d,P),onBlur:wl(f,S),onMouseEnter:wl(p,P),onMouseLeave:wl(g,S),onTouchStart:wl(v,P)}]:[!1,E,{}]}function wl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function gI({page:n,...e}){let{router:t}=hI(),r=U.useMemo(()=>Sw(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?U.createElement(_I,{page:n,matches:r,...e}):null}function yI(n){let{manifest:e,routeModules:t}=Ow(),[r,s]=U.useState([]);return U.useEffect(()=>{let a=!1;return aI(n,e,t).then(u=>{a||s(u)}),()=>{a=!0}},[n,e,t]),r}function _I({page:n,matches:e,...t}){let r=li(),{manifest:s,routeModules:a}=Ow(),{loaderData:u,matches:d}=pI(),f=U.useMemo(()=>N_(n,e,d,s,r,"data"),[n,e,d,s,r]),p=U.useMemo(()=>N_(n,e,d,s,r,"assets"),[n,e,d,s,r]),g=U.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let P=new Set,S=!1;if(e.forEach(k=>{var R;let D=s.routes[k.route.id];!D||!D.hasLoader||(!f.some(A=>A.route.id===k.route.id)&&k.route.id in u&&((R=a[k.route.id])!=null&&R.shouldRevalidate)||D.hasClientLoader?S=!0:P.add(k.route.id))}),P.size===0)return[];let O=fI(n);return S&&P.size>0&&O.searchParams.set("_routes",e.filter(k=>P.has(k.route.id)).map(k=>k.route.id).join(",")),[O.pathname+O.search]},[u,r,s,f,e,n,a]),v=U.useMemo(()=>lI(p,s),[p,s]),E=yI(p);return U.createElement(U.Fragment,null,g.map(P=>U.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...t})),v.map(P=>U.createElement("link",{key:P,rel:"modulepreload",href:P,...t})),E.map(({key:P,link:S})=>U.createElement("link",{key:P,...S})))}function vI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Lw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Lw&&(window.__reactRouterVersion="7.1.1")}catch{}function wI({basename:n,children:e,window:t}){let r=U.useRef();r.current==null&&(r.current=s1({window:t,v5Compat:!0}));let s=r.current,[a,u]=U.useState({action:s.action,location:s.location}),d=U.useCallback(f=>{U.startTransition(()=>u(f))},[u]);return U.useLayoutEffect(()=>s.listen(d),[s,d]),U.createElement(Q1,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s})}var Dw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ge=U.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:a,replace:u,state:d,target:f,to:p,preventScrollReset:g,viewTransition:v,...E},P){let{basename:S}=U.useContext(ur),O=typeof p=="string"&&Dw.test(p),k,D=!1;if(typeof p=="string"&&O&&(k=p,Lw))try{let x=new URL(window.location.href),L=p.startsWith("//")?new URL(x.protocol+p):new URL(p),V=Qi(L.pathname,S);L.origin===x.origin&&V!=null?p=V+L.search+L.hash:D=!0}catch{ar(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=k1(p,{relative:s}),[A,F,H]=mI(r,E),X=II(p,{replace:u,state:d,target:f,preventScrollReset:g,relative:s,viewTransition:v});function M(x){e&&e(x),x.defaultPrevented||X(x)}let I=U.createElement("a",{...E,...H,href:k||R,onClick:D||a?e:M,ref:vI(P,F),target:f,"data-discover":!O&&t==="render"?"true":void 0});return A&&!O?U.createElement(U.Fragment,null,I,U.createElement(gI,{page:R})):I});Ge.displayName="Link";var EI=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:a,to:u,viewTransition:d,children:f,...p},g){let v=Zl(u,{relative:p.relative}),E=li(),P=U.useContext(Nd),{navigator:S,basename:O}=U.useContext(ur),k=P!=null&&AI(v)&&d===!0,D=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,R=E.pathname,A=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;t||(R=R.toLowerCase(),A=A?A.toLowerCase():null,D=D.toLowerCase()),A&&O&&(A=Qi(A,O)||A);const F=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let H=R===D||!s&&R.startsWith(D)&&R.charAt(F)==="/",X=A!=null&&(A===D||!s&&A.startsWith(D)&&A.charAt(D.length)==="/"),M={isActive:H,isPending:X,isTransitioning:k},I=H?e:void 0,x;typeof r=="function"?x=r(M):x=[r,H?"active":null,X?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(M):a;return U.createElement(Ge,{...p,"aria-current":I,className:x,ref:g,style:L,to:u,viewTransition:d},typeof f=="function"?f(M):f)});EI.displayName="NavLink";var TI=U.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:a,method:u=Fc,action:d,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:v,...E},P)=>{let S=xI(),O=RI(d,{relative:p}),k=u.toLowerCase()==="get"?"get":"post",D=typeof d=="string"&&Dw.test(d),R=A=>{if(f&&f(A),A.defaultPrevented)return;A.preventDefault();let F=A.nativeEvent.submitter,H=(F==null?void 0:F.getAttribute("formmethod"))||u;S(F||A.currentTarget,{fetcherKey:e,method:H,navigate:t,replace:s,state:a,relative:p,preventScrollReset:g,viewTransition:v})};return U.createElement("form",{ref:P,method:k,action:O,onSubmit:r?f:R,...E,"data-discover":!D&&n==="render"?"true":void 0})});TI.displayName="Form";function SI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Mw(n){let e=U.useContext(ha);return nt(e,SI(n)),e}function II(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:a,viewTransition:u}={}){let d=ma(),f=li(),p=Zl(n,{relative:a});return U.useCallback(g=>{if(tI(g,e)){g.preventDefault();let v=t!==void 0?t:$l(f)===$l(p);d(n,{replace:v,state:r,preventScrollReset:s,relative:a,viewTransition:u})}},[f,d,p,t,r,e,n,s,a,u])}var CI=0,PI=()=>`__${String(++CI)}__`;function xI(){let{router:n}=Mw("useSubmit"),{basename:e}=U.useContext(ur),t=H1();return U.useCallback(async(r,s={})=>{let{action:a,method:u,encType:d,formData:f,body:p}=iI(r,e);if(s.navigate===!1){let g=s.fetcherKey||PI();await n.fetch(g,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||d,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function RI(n,{relative:e}={}){let{basename:t}=U.useContext(ur),r=U.useContext(jn);nt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Zl(n||".",{relative:e})},u=li();if(n==null){a.search=u.search;let d=new URLSearchParams(a.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(v=>v).forEach(v=>d.append("index",v));let g=d.toString();a.search=g?`?${g}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ei([t,a.pathname])),$l(a)}function AI(n,e={}){let t=U.useContext(xw);nt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Mw("useViewTransitionState"),s=Zl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Qi(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Qi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Zc(s.pathname,u)!=null||Zc(s.pathname,a)!=null}new TextEncoder;const bI="_h1_1cz7a_11",kI="_h2_1cz7a_33",NI="_h3_1cz7a_44",OI="_h4_1cz7a_66",LI="_h5_1cz7a_88",DI="_h6_1cz7a_100",MI="_item_1cz7a_100",VI="_subtitle_1cz7a_106",jI="_p_1cz7a_111",FI="_footer_1cz7a_121",$I="_body_1cz7a_126",Rc={h1:bI,h2:kI,h3:NI,h4:OI,h5:LI,h6:DI,item:MI,subtitle:VI,p:jI,footer:FI,body:$I},Vw=()=>C.jsx("div",{className:Rc.footer,children:C.jsx("div",{className:"container",children:C.jsxs("div",{className:Rc.body,children:[C.jsx("div",{className:Rc.item,children:"privacy policy | terms & conditions"}),C.jsx("div",{className:Rc.item,children:"all copyright (c) 2022 reserved"})]})})}),zI="_header_1j0mt_11",UI="_body_1j0mt_16",BI="_left_1j0mt_23",HI="_logo_1j0mt_34",WI="_logoName_1j0mt_49",GI="_right_1j0mt_64",qI="_favorite_1j0mt_80",KI="_count_1j0mt_112",Di={header:zI,body:UI,left:BI,logo:HI,logoName:WI,right:GI,favorite:qI,count:KI},QI="_h1_pdfk4_11",YI="_h2_pdfk4_33",XI="_h3_pdfk4_44",JI="_h4_pdfk4_66",ZI="_h5_pdfk4_88",eC="_h6_pdfk4_100",tC="_subtitle_pdfk4_106",nC="_p_pdfk4_111",tt={h1:QI,h2:YI,h3:XI,h4:JI,h5:ZI,h6:eC,subtitle:tC,p:nC},rC="_menu_1qm69_11",iC={menu:rC},sC=()=>C.jsxs("ul",{className:iC.menu,children:[C.jsx("li",{children:C.jsx(Ge,{to:"/albums",className:tt.h6,children:"Albums"})}),C.jsx("li",{children:C.jsx("a",{href:"",className:tt.h6,children:"Categories"})}),C.jsx("li",{children:C.jsx("a",{href:"",className:tt.h6,children:"Pages"})}),C.jsx("li",{children:C.jsx("a",{href:"",className:tt.h6,children:"contact us"})}),C.jsx("li",{children:C.jsx("a",{href:"",className:tt.h6,children:"about us"})})]});var jw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},O_=Be.createContext&&Be.createContext(jw),oC=["attr","size","title"];function aC(n,e){if(n==null)return{};var t=lC(n,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function lC(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function ed(){return ed=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ed.apply(this,arguments)}function L_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function td(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?L_(Object(t),!0).forEach(function(r){uC(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):L_(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function uC(n,e,t){return e=cC(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cC(n){var e=dC(n,"string");return typeof e=="symbol"?e:e+""}function dC(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Fw(n){return n&&n.map((e,t)=>Be.createElement(e.tag,td({key:t},e.attr),Fw(e.child)))}function dn(n){return e=>Be.createElement(fC,ed({attr:td({},n.attr)},e),Fw(n.child))}function fC(n){var e=t=>{var{attr:r,size:s,title:a}=n,u=aC(n,oC),d=s||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),Be.createElement("svg",ed({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:f,style:td(td({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),a&&Be.createElement("title",null,a),n.children)};return O_!==void 0?Be.createElement(O_.Consumer,null,t=>e(t)):e(jw)}function hC(n){return dn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function pC(n){return dn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z"},child:[]}]})(n)}function vp(n){return dn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h274.9c-2.4-6.8-3.4-14-2.6-21.3l6.8-60.9 1.2-11.1 7.9-7.9 77.3-77.3c-24.5-27.7-60-45.5-99.9-45.5zm45.3 145.3l-6.8 61c-1.1 10.2 7.5 18.8 17.6 17.6l60.9-6.8 137.9-137.9-71.7-71.7-137.9 137.8zM633 268.9L595.1 231c-9.3-9.3-24.5-9.3-33.8 0l-37.8 37.8-4.1 4.1 71.8 71.7 41.8-41.8c9.3-9.4 9.3-24.5 0-33.9z"},child:[]}]})(n)}function mC(n){return dn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M325.4 289.2L224 390.6 122.6 289.2C54 295.3 0 352.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-70.2-54-127.1-122.6-133.2zM32 192c27.3 0 51.8-11.5 69.2-29.7 15.1 53.9 64 93.7 122.8 93.7 70.7 0 128-57.3 128-128S294.7 0 224 0c-50.4 0-93.6 29.4-114.5 71.8C92.1 47.8 64 32 32 32c0 33.4 17.1 62.8 43.1 80-26 17.2-43.1 46.6-43.1 80zm144-96h96c17.7 0 32 14.3 32 32H144c0-17.7 14.3-32 32-32z"},child:[]}]})(n)}function gC(n){return dn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 64h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zm-6 400H54c-3.3 0-6-2.7-6-6V160h352v298c0 3.3-2.7 6-6 6z"},child:[]}]})(n)}const yC="_body_1i4h0_11",_C="_search_1i4h0_15",vC="_error_1i4h0_66",wC="_button_1i4h0_98",EC="_dropdown_1i4h0_111",TC="_card_1i4h0_144",SC="_image_1i4h0_152",IC="_content_1i4h0_168",CC="_title_1i4h0_174",PC="_user_1i4h0_186",er={body:yC,search:_C,error:vC,button:wC,dropdown:EC,card:TC,image:SC,content:IC,title:CC,user:PC};var $h={exports:{}},zh={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function xC(){if(D_)return zh;D_=1;var n=kd();function e(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var t=typeof Object.is=="function"?Object.is:e,r=n.useSyncExternalStore,s=n.useRef,a=n.useEffect,u=n.useMemo,d=n.useDebugValue;return zh.useSyncExternalStoreWithSelector=function(f,p,g,v,E){var P=s(null);if(P.current===null){var S={hasValue:!1,value:null};P.current=S}else S=P.current;P=u(function(){function k(H){if(!D){if(D=!0,R=H,H=v(H),E!==void 0&&S.hasValue){var X=S.value;if(E(X,H))return A=X}return A=H}if(X=A,t(R,H))return X;var M=v(H);return E!==void 0&&E(X,M)?(R=H,X):(R=H,A=M)}var D=!1,R,A,F=g===void 0?null:g;return[function(){return k(p())},F===null?void 0:function(){return k(F())}]},[p,g,v,E]);var O=r(f,P[0],P[1]);return a(function(){S.hasValue=!0,S.value=O},[O]),d(O),O},zh}var M_;function RC(){return M_||(M_=1,$h.exports=xC()),$h.exports}var AC=RC();function bC(n){n()}function kC(){let n=null,e=null;return{clear(){n=null,e=null},notify(){bC(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=n;for(;r;)t.push(r),r=r.next;return t},subscribe(t){let r=!0;const s=e={callback:t,next:null,prev:e};return s.prev?s.prev.next=s:n=s,function(){!r||n===null||(r=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:n=s.next)}}}}var V_={notify(){},get:()=>[]};function NC(n,e){let t,r=V_,s=0,a=!1;function u(O){g();const k=r.subscribe(O);let D=!1;return()=>{D||(D=!0,k(),v())}}function d(){r.notify()}function f(){S.onStateChange&&S.onStateChange()}function p(){return a}function g(){s++,t||(t=n.subscribe(f),r=kC())}function v(){s--,t&&s===0&&(t(),t=void 0,r.clear(),r=V_)}function E(){a||(a=!0,g())}function P(){a&&(a=!1,v())}const S={addNestedSub:u,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:p,trySubscribe:E,tryUnsubscribe:P,getListeners:()=>r};return S}var OC=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",LC=OC(),DC=()=>typeof navigator<"u"&&navigator.product==="ReactNative",MC=DC(),VC=()=>LC||MC?U.useLayoutEffect:U.useEffect,jC=VC(),Uh=Symbol.for("react-redux-context"),Bh=typeof globalThis<"u"?globalThis:{};function FC(){if(!U.createContext)return{};const n=Bh[Uh]??(Bh[Uh]=new Map);let e=n.get(U.createContext);return e||(e=U.createContext(null),n.set(U.createContext,e)),e}var Yi=FC();function $C(n){const{children:e,context:t,serverState:r,store:s}=n,a=U.useMemo(()=>{const f=NC(s);return{store:s,subscription:f,getServerState:r?()=>r:void 0}},[s,r]),u=U.useMemo(()=>s.getState(),[s]);jC(()=>{const{subscription:f}=a;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),u!==s.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[a,u]);const d=t||Yi;return U.createElement(d.Provider,{value:a},e)}var zC=$C;function dm(n=Yi){return function(){return U.useContext(n)}}var $w=dm();function zw(n=Yi){const e=n===Yi?$w:dm(n),t=()=>{const{store:r}=e();return r};return Object.assign(t,{withTypes:()=>t}),t}var UC=zw();function BC(n=Yi){const e=n===Yi?UC:zw(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var Sn=BC(),HC=(n,e)=>n===e;function WC(n=Yi){const e=n===Yi?$w:dm(n),t=(r,s={})=>{const{equalityFn:a=HC}=typeof s=="function"?{equalityFn:s}:s,u=e(),{store:d,subscription:f,getServerState:p}=u;U.useRef(!0);const g=U.useCallback({[r.name](E){return r(E)}}[r.name],[r]),v=AC.useSyncExternalStoreWithSelector(f.addNestedSub,d.getState,p||d.getState,g,a);return U.useDebugValue(v),v};return Object.assign(t,{withTypes:()=>t}),t}var rt=WC();const GC=()=>{const{images:n}=rt(p=>p.images),[e,t]=U.useState(""),[r,s]=U.useState(!1),a=U.useRef(null),u=U.useRef(null),d=n.filter(p=>e&&p.alt_description.toLowerCase().includes(e.toLowerCase())),f=p=>{const g=p.target;a.current&&!a.current.contains(g)&&u.current&&!u.current.contains(g)&&s(!1)};return U.useEffect(()=>(document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}),[]),C.jsxs("div",{className:er.body,children:[C.jsxs("div",{className:er.search,children:[C.jsx("input",{type:"text",placeholder:"Search anything",value:e,onChange:p=>{t(p.target.value),s(!0)},ref:a}),C.jsx("button",{className:er.button,children:C.jsx(hC,{})})]}),r&&e&&(d.length>0?C.jsx("div",{className:er.dropdown,ref:u,children:d.map(p=>C.jsxs(Ge,{to:`/card/${p.id}`,className:er.card,children:[C.jsx("div",{className:er.image,children:C.jsx("img",{src:p.urls.thumb,alt:""})}),C.jsxs("div",{className:er.content,children:[C.jsx("div",{className:er.title,children:p.alt_description}),C.jsxs("div",{className:er.user,children:[C.jsx(mC,{color:"#f81539",size:16}),p.user.username]})]})]},p.id))}):C.jsx("div",{className:er.dropdown,children:C.jsx("div",{className:er.title,children:"not found!"})}))]})};function fm(){const{email:n,token:e,id:t}=rt(r=>r.user);return{isAuth:!!n,email:n,token:e,id:t}}function Mt(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var qC=typeof Symbol=="function"&&Symbol.observable||"@@observable",j_=qC,Hh=()=>Math.random().toString(36).substring(7).split("").join("."),KC={INIT:`@@redux/INIT${Hh()}`,REPLACE:`@@redux/REPLACE${Hh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Hh()}`},nd=KC;function hm(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function Uw(n,e,t){if(typeof n!="function")throw new Error(Mt(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Mt(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Mt(1));return t(Uw)(n,e)}let r=n,s=e,a=new Map,u=a,d=0,f=!1;function p(){u===a&&(u=new Map,a.forEach((k,D)=>{u.set(D,k)}))}function g(){if(f)throw new Error(Mt(3));return s}function v(k){if(typeof k!="function")throw new Error(Mt(4));if(f)throw new Error(Mt(5));let D=!0;p();const R=d++;return u.set(R,k),function(){if(D){if(f)throw new Error(Mt(6));D=!1,p(),u.delete(R),a=null}}}function E(k){if(!hm(k))throw new Error(Mt(7));if(typeof k.type>"u")throw new Error(Mt(8));if(typeof k.type!="string")throw new Error(Mt(17));if(f)throw new Error(Mt(9));try{f=!0,s=r(s,k)}finally{f=!1}return(a=u).forEach(R=>{R()}),k}function P(k){if(typeof k!="function")throw new Error(Mt(10));r=k,E({type:nd.REPLACE})}function S(){const k=v;return{subscribe(D){if(typeof D!="object"||D===null)throw new Error(Mt(11));function R(){const F=D;F.next&&F.next(g())}return R(),{unsubscribe:k(R)}},[j_](){return this}}}return E({type:nd.INIT}),{dispatch:E,subscribe:v,getState:g,replaceReducer:P,[j_]:S}}function QC(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:nd.INIT})>"u")throw new Error(Mt(12));if(typeof t(void 0,{type:nd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Mt(13))})}function Bw(n){const e=Object.keys(n),t={};for(let a=0;a<e.length;a++){const u=e[a];typeof n[u]=="function"&&(t[u]=n[u])}const r=Object.keys(t);let s;try{QC(t)}catch(a){s=a}return function(u={},d){if(s)throw s;let f=!1;const p={};for(let g=0;g<r.length;g++){const v=r[g],E=t[v],P=u[v],S=E(P,d);if(typeof S>"u")throw d&&d.type,new Error(Mt(14));p[v]=S,f=f||S!==P}return f=f||r.length!==Object.keys(u).length,f?p:u}}function rd(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}function YC(...n){return e=>(t,r)=>{const s=e(t,r);let a=()=>{throw new Error(Mt(15))};const u={getState:s.getState,dispatch:(f,...p)=>a(f,...p)},d=n.map(f=>f(u));return a=rd(...d)(s.dispatch),{...s,dispatch:a}}}function XC(n){return hm(n)&&"type"in n&&typeof n.type=="string"}var Hw=Symbol.for("immer-nothing"),F_=Symbol.for("immer-draftable"),wn=Symbol.for("immer-state");function rr(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var ta=Object.getPrototypeOf;function Ms(n){return!!n&&!!n[wn]}function ri(n){var e;return n?Ww(n)||Array.isArray(n)||!!n[F_]||!!((e=n.constructor)!=null&&e[F_])||Dd(n)||Md(n):!1}var JC=Object.prototype.constructor.toString();function Ww(n){if(!n||typeof n!="object")return!1;const e=ta(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===JC}function id(n,e){Ld(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,r)=>e(r,t,n))}function Ld(n){const e=n[wn];return e?e.type_:Array.isArray(n)?1:Dd(n)?2:Md(n)?3:0}function wp(n,e){return Ld(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function Gw(n,e,t){const r=Ld(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function ZC(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function Dd(n){return n instanceof Map}function Md(n){return n instanceof Set}function Os(n){return n.copy_||n.base_}function Ep(n,e){if(Dd(n))return new Map(n);if(Md(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=Ww(n);if(e===!0||e==="class_only"&&!t){const r=Object.getOwnPropertyDescriptors(n);delete r[wn];let s=Reflect.ownKeys(r);for(let a=0;a<s.length;a++){const u=s[a],d=r[u];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[u]={configurable:!0,writable:!0,enumerable:d.enumerable,value:n[u]})}return Object.create(ta(n),r)}else{const r=ta(n);if(r!==null&&t)return{...n};const s=Object.create(r);return Object.assign(s,n)}}function pm(n,e=!1){return Vd(n)||Ms(n)||!ri(n)||(Ld(n)>1&&(n.set=n.add=n.clear=n.delete=eP),Object.freeze(n),e&&Object.entries(n).forEach(([t,r])=>pm(r,!0))),n}function eP(){rr(2)}function Vd(n){return Object.isFrozen(n)}var tP={};function Vs(n){const e=tP[n];return e||rr(0,n),e}var zl;function qw(){return zl}function nP(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function $_(n,e){e&&(Vs("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function Tp(n){Sp(n),n.drafts_.forEach(rP),n.drafts_=null}function Sp(n){n===zl&&(zl=n.parent_)}function z_(n){return zl=nP(zl,n)}function rP(n){const e=n[wn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function U_(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[wn].modified_&&(Tp(e),rr(4)),ri(n)&&(n=sd(e,n),e.parent_||od(e,n)),e.patches_&&Vs("Patches").generateReplacementPatches_(t[wn].base_,n,e.patches_,e.inversePatches_)):n=sd(e,t,[]),Tp(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==Hw?n:void 0}function sd(n,e,t){if(Vd(e))return e;const r=e[wn];if(!r)return id(e,(s,a)=>B_(n,r,e,s,a,t)),e;if(r.scope_!==n)return e;if(!r.modified_)return od(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let a=s,u=!1;r.type_===3&&(a=new Set(s),s.clear(),u=!0),id(a,(d,f)=>B_(n,r,s,d,f,t,u)),od(n,s,!1),t&&n.patches_&&Vs("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function B_(n,e,t,r,s,a,u){if(Ms(s)){const d=a&&e&&e.type_!==3&&!wp(e.assigned_,r)?a.concat(r):void 0,f=sd(n,s,d);if(Gw(t,r,f),Ms(f))n.canAutoFreeze_=!1;else return}else u&&t.add(s);if(ri(s)&&!Vd(s)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;sd(n,s),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,r)&&od(n,s)}}function od(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&pm(e,t)}function iP(n,e){const t=Array.isArray(n),r={type_:t?1:0,scope_:e?e.scope_:qw(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,a=mm;t&&(s=[r],a=Ul);const{revoke:u,proxy:d}=Proxy.revocable(s,a);return r.draft_=d,r.revoke_=u,d}var mm={get(n,e){if(e===wn)return n;const t=Os(n);if(!wp(t,e))return sP(n,t,e);const r=t[e];return n.finalized_||!ri(r)?r:r===Wh(n.base_,e)?(Gh(n),n.copy_[e]=Cp(r,n)):r},has(n,e){return e in Os(n)},ownKeys(n){return Reflect.ownKeys(Os(n))},set(n,e,t){const r=Kw(Os(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const s=Wh(Os(n),e),a=s==null?void 0:s[wn];if(a&&a.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(ZC(t,s)&&(t!==void 0||wp(n.base_,e)))return!0;Gh(n),Ip(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return Wh(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,Gh(n),Ip(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Os(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty(){rr(11)},getPrototypeOf(n){return ta(n.base_)},setPrototypeOf(){rr(12)}},Ul={};id(mm,(n,e)=>{Ul[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Ul.deleteProperty=function(n,e){return Ul.set.call(this,n,e,void 0)};Ul.set=function(n,e,t){return mm.set.call(this,n[0],e,t,n[0])};function Wh(n,e){const t=n[wn];return(t?Os(t):n)[e]}function sP(n,e,t){var s;const r=Kw(e,t);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(n.draft_):void 0}function Kw(n,e){if(!(e in n))return;let t=ta(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=ta(t)}}function Ip(n){n.modified_||(n.modified_=!0,n.parent_&&Ip(n.parent_))}function Gh(n){n.copy_||(n.copy_=Ep(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var oP=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if(typeof e=="function"&&typeof t!="function"){const a=t;t=e;const u=this;return function(f=a,...p){return u.produce(f,g=>t.call(this,g,...p))}}typeof t!="function"&&rr(6),r!==void 0&&typeof r!="function"&&rr(7);let s;if(ri(e)){const a=z_(this),u=Cp(e,void 0);let d=!0;try{s=t(u),d=!1}finally{d?Tp(a):Sp(a)}return $_(a,r),U_(s,a)}else if(!e||typeof e!="object"){if(s=t(e),s===void 0&&(s=e),s===Hw&&(s=void 0),this.autoFreeze_&&pm(s,!0),r){const a=[],u=[];Vs("Patches").generateReplacementPatches_(e,s,a,u),r(a,u)}return s}else rr(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(u,...d)=>this.produceWithPatches(u,f=>e(f,...d));let r,s;return[this.produce(e,t,(u,d)=>{r=u,s=d}),r,s]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){ri(n)||rr(8),Ms(n)&&(n=aP(n));const e=z_(this),t=Cp(n,void 0);return t[wn].isManual_=!0,Sp(e),t}finishDraft(n,e){const t=n&&n[wn];(!t||!t.isManual_)&&rr(9);const{scope_:r}=t;return $_(r,e),U_(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const s=e[t];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}t>-1&&(e=e.slice(t+1));const r=Vs("Patches").applyPatches_;return Ms(n)?r(n,e):this.produce(n,s=>r(s,e))}};function Cp(n,e){const t=Dd(n)?Vs("MapSet").proxyMap_(n,e):Md(n)?Vs("MapSet").proxySet_(n,e):iP(n,e);return(e?e.scope_:qw()).drafts_.push(t),t}function aP(n){return Ms(n)||rr(10,n),Qw(n)}function Qw(n){if(!ri(n)||Vd(n))return n;const e=n[wn];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=Ep(n,e.scope_.immer_.useStrictShallowCopy_)}else t=Ep(n,!0);return id(t,(r,s)=>{Gw(t,r,Qw(s))}),e&&(e.finalized_=!1),t}var En=new oP,Yw=En.produce;En.produceWithPatches.bind(En);En.setAutoFreeze.bind(En);En.setUseStrictShallowCopy.bind(En);En.applyPatches.bind(En);En.createDraft.bind(En);En.finishDraft.bind(En);function Xw(n){return({dispatch:t,getState:r})=>s=>a=>typeof a=="function"?a(t,r,n):s(a)}var lP=Xw(),uP=Xw,cP=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?rd:rd.apply(null,arguments)},dP=n=>n&&typeof n.match=="function";function Ol(n,e){function t(...r){if(e){let s=e(...r);if(!s)throw new Error(ti(0));return{type:n,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:n,payload:r[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=r=>XC(r)&&r.type===n,t}var Jw=class Cl extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Cl.prototype)}static get[Symbol.species](){return Cl}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Cl(...e[0].concat(this)):new Cl(...e.concat(this))}};function H_(n){return ri(n)?Yw(n,()=>{}):n}function W_(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function fP(n){return typeof n=="boolean"}var hP=()=>function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:a=!0}=e??{};let u=new Jw;return t&&(fP(t)?u.push(lP):u.push(uP(t.extraArgument))),u},pP="RTK_autoBatch",G_=n=>e=>{setTimeout(e,n)},mP=(n={type:"raf"})=>e=>(...t)=>{const r=e(...t);let s=!0,a=!1,u=!1;const d=new Set,f=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:G_(10):n.type==="callback"?n.queueNotification:G_(n.timeout),p=()=>{u=!1,a&&(a=!1,d.forEach(g=>g()))};return Object.assign({},r,{subscribe(g){const v=()=>s&&g(),E=r.subscribe(v);return d.add(g),()=>{E(),d.delete(g)}},dispatch(g){var v;try{return s=!((v=g==null?void 0:g.meta)!=null&&v[pP]),a=!s,a&&(u||(u=!0,f(p))),r.dispatch(g)}finally{s=!0}}})},gP=n=>function(t){const{autoBatch:r=!0}=t??{};let s=new Jw(n);return r&&s.push(mP(typeof r=="object"?r:void 0)),s};function yP(n){const e=hP(),{reducer:t=void 0,middleware:r,devTools:s=!0,preloadedState:a=void 0,enhancers:u=void 0}=n;let d;if(typeof t=="function")d=t;else if(hm(t))d=Bw(t);else throw new Error(ti(1));let f;typeof r=="function"?f=r(e):f=e();let p=rd;s&&(p=cP({trace:!1,...typeof s=="object"&&s}));const g=YC(...f),v=gP(g);let E=typeof u=="function"?u(v):v();const P=p(...E);return Uw(d,a,P)}function Zw(n){const e={},t=[];let r;const s={addCase(a,u){const d=typeof a=="string"?a:a.type;if(!d)throw new Error(ti(28));if(d in e)throw new Error(ti(29));return e[d]=u,s},addMatcher(a,u){return t.push({matcher:a,reducer:u}),s},addDefaultCase(a){return r=a,s}};return n(s),[e,t,r]}function _P(n){return typeof n=="function"}function vP(n,e){let[t,r,s]=Zw(e),a;if(_P(n))a=()=>H_(n());else{const d=H_(n);a=()=>d}function u(d=a(),f){let p=[t[f.type],...r.filter(({matcher:g})=>g(f)).map(({reducer:g})=>g)];return p.filter(g=>!!g).length===0&&(p=[s]),p.reduce((g,v)=>{if(v)if(Ms(g)){const P=v(g,f);return P===void 0?g:P}else{if(ri(g))return Yw(g,E=>v(E,f));{const E=v(g,f);if(E===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return E}}return g},d)}return u.getInitialState=a,u}var wP=(n,e)=>dP(n)?n.match(e):n(e);function EP(...n){return e=>n.some(t=>wP(t,e))}var TP="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",SP=(n=21)=>{let e="",t=n;for(;t--;)e+=TP[Math.random()*64|0];return e},IP=["name","message","stack","code"],qh=class{constructor(n,e){Nh(this,"_type");this.payload=n,this.meta=e}},q_=class{constructor(n,e){Nh(this,"_type");this.payload=n,this.meta=e}},CP=n=>{if(typeof n=="object"&&n!==null){const e={};for(const t of IP)typeof n[t]=="string"&&(e[t]=n[t]);return e}return{message:String(n)}},eE=(()=>{function n(e,t,r){const s=Ol(e+"/fulfilled",(f,p,g,v)=>({payload:f,meta:{...v||{},arg:g,requestId:p,requestStatus:"fulfilled"}})),a=Ol(e+"/pending",(f,p,g)=>({payload:void 0,meta:{...g||{},arg:p,requestId:f,requestStatus:"pending"}})),u=Ol(e+"/rejected",(f,p,g,v,E)=>({payload:v,error:(r&&r.serializeError||CP)(f||"Rejected"),meta:{...E||{},arg:g,requestId:p,rejectedWithValue:!!v,requestStatus:"rejected",aborted:(f==null?void 0:f.name)==="AbortError",condition:(f==null?void 0:f.name)==="ConditionError"}}));function d(f){return(p,g,v)=>{const E=r!=null&&r.idGenerator?r.idGenerator(f):SP(),P=new AbortController;let S,O;function k(R){O=R,P.abort()}const D=async function(){var F,H;let R;try{let X=(F=r==null?void 0:r.condition)==null?void 0:F.call(r,f,{getState:g,extra:v});if(xP(X)&&(X=await X),X===!1||P.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const M=new Promise((I,x)=>{S=()=>{x({name:"AbortError",message:O||"Aborted"})},P.signal.addEventListener("abort",S)});p(a(E,f,(H=r==null?void 0:r.getPendingMeta)==null?void 0:H.call(r,{requestId:E,arg:f},{getState:g,extra:v}))),R=await Promise.race([M,Promise.resolve(t(f,{dispatch:p,getState:g,extra:v,requestId:E,signal:P.signal,abort:k,rejectWithValue:(I,x)=>new qh(I,x),fulfillWithValue:(I,x)=>new q_(I,x)})).then(I=>{if(I instanceof qh)throw I;return I instanceof q_?s(I.payload,E,f,I.meta):s(I,E,f)})])}catch(X){R=X instanceof qh?u(null,E,f,X.payload,X.meta):u(X,E,f)}finally{S&&P.signal.removeEventListener("abort",S)}return r&&!r.dispatchConditionRejection&&u.match(R)&&R.meta.condition||p(R),R}();return Object.assign(D,{abort:k,requestId:E,arg:f,unwrap(){return D.then(PP)}})}}return Object.assign(d,{pending:a,rejected:u,fulfilled:s,settled:EP(u,s),typePrefix:e})}return n.withTypes=()=>n,n})();function PP(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function xP(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var RP=Symbol.for("rtk-slice-createasyncthunk");function AP(n,e){return`${n}/${e}`}function bP({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[RP];return function(s){const{name:a,reducerPath:u=a}=s;if(!a)throw new Error(ti(11));const d=(typeof s.reducers=="function"?s.reducers(NP()):s.reducers)||{},f=Object.keys(d),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(A,F){const H=typeof A=="string"?A:A.type;if(!H)throw new Error(ti(12));if(H in p.sliceCaseReducersByType)throw new Error(ti(13));return p.sliceCaseReducersByType[H]=F,g},addMatcher(A,F){return p.sliceMatchers.push({matcher:A,reducer:F}),g},exposeAction(A,F){return p.actionCreators[A]=F,g},exposeCaseReducer(A,F){return p.sliceCaseReducersByName[A]=F,g}};f.forEach(A=>{const F=d[A],H={reducerName:A,type:AP(a,A),createNotation:typeof s.reducers=="function"};LP(F)?MP(H,F,g,e):OP(H,F,g)});function v(){const[A={},F=[],H=void 0]=typeof s.extraReducers=="function"?Zw(s.extraReducers):[s.extraReducers],X={...A,...p.sliceCaseReducersByType};return vP(s.initialState,M=>{for(let I in X)M.addCase(I,X[I]);for(let I of p.sliceMatchers)M.addMatcher(I.matcher,I.reducer);for(let I of F)M.addMatcher(I.matcher,I.reducer);H&&M.addDefaultCase(H)})}const E=A=>A,P=new Map;let S;function O(A,F){return S||(S=v()),S(A,F)}function k(){return S||(S=v()),S.getInitialState()}function D(A,F=!1){function H(M){let I=M[A];return typeof I>"u"&&F&&(I=k()),I}function X(M=E){const I=W_(P,F,()=>new WeakMap);return W_(I,M,()=>{const x={};for(const[L,V]of Object.entries(s.selectors??{}))x[L]=kP(V,M,k,F);return x})}return{reducerPath:A,getSelectors:X,get selectors(){return X(H)},selectSlice:H}}const R={name:a,reducer:O,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:k,...D(u),injectInto(A,{reducerPath:F,...H}={}){const X=F??u;return A.inject({reducerPath:X,reducer:O},H),{...R,...D(X,!0)}}};return R}}function kP(n,e,t,r){function s(a,...u){let d=e(a);return typeof d>"u"&&r&&(d=t()),n(d,...u)}return s.unwrapped=n,s}var ga=bP();function NP(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function OP({type:n,reducerName:e,createNotation:t},r,s){let a,u;if("reducer"in r){if(t&&!DP(r))throw new Error(ti(17));a=r.reducer,u=r.prepare}else a=r;s.addCase(n,a).exposeCaseReducer(e,a).exposeAction(e,u?Ol(n,u):Ol(n))}function LP(n){return n._reducerDefinitionType==="asyncThunk"}function DP(n){return n._reducerDefinitionType==="reducerWithPrepare"}function MP({type:n,reducerName:e},t,r,s){if(!s)throw new Error(ti(18));const{payloadCreator:a,fulfilled:u,pending:d,rejected:f,settled:p,options:g}=t,v=s(n,a,g);r.exposeAction(e,v),u&&r.addCase(v.fulfilled,u),d&&r.addCase(v.pending,d),f&&r.addCase(v.rejected,f),p&&r.addMatcher(v.settled,p),r.exposeCaseReducer(e,{fulfilled:u||Ac,pending:d||Ac,rejected:f||Ac,settled:p||Ac})}function Ac(){}function ti(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const VP={email:"",token:"",id:""},jP=ga({name:"user",initialState:VP,reducers:{setUser(n,e){n.email=e.payload.email,n.token=e.payload.token,n.id=e.payload.id},removeUser(n){n.email="",n.token="",n.id=""}}}),{actions:gm,reducer:FP}=jP,$P="_user_ialcp_11",zP="_avatar_ialcp_22",UP="_name_ialcp_60",BP="_button_ialcp_74",HP="_open_ialcp_79",WP="_content_ialcp_84",GP="_dropdown_ialcp_91",qP="_link_ialcp_116",tr={user:$P,avatar:zP,name:UP,button:BP,open:HP,content:WP,dropdown:GP,link:qP};function KP(n){return dn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(n)}function QP(n){return dn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 277.4h189.7l-43.6 44.7L368 352l96-96-96-96-31 29.9 44.7 44.7H192v42.8z"},child:[]},{tag:"path",attr:{d:"M255.7 421.3c-44.1 0-85.5-17.2-116.7-48.4-31.2-31.2-48.3-72.7-48.3-116.9 0-44.1 17.2-85.7 48.3-116.9 31.2-31.2 72.6-48.4 116.7-48.4 44 0 85.3 17.1 116.5 48.2l30.3-30.3c-8.5-8.4-17.8-16.2-27.7-23.2C339.7 61 298.6 48 255.7 48 141.2 48 48 141.3 48 256s93.2 208 207.7 208c42.9 0 84-13 119-37.5 10-7 19.2-14.7 27.7-23.2l-30.2-30.2c-31.1 31.1-72.5 48.2-116.5 48.2zM448.004 256.847l-.849-.848.849-.849.848.849z"},child:[]}]})(n)}var K_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},YP=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],u=n[t++],d=n[t++],f=((s&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},nE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],u=s+1<n.length,d=u?n[s+1]:0,f=s+2<n.length,p=f?n[s+2]:0,g=a>>2,v=(a&3)<<4|d>>4;let E=(d&15)<<2|p>>6,P=p&63;f||(P=64,u||(E=64)),r.push(t[g],t[v],t[E],t[P])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(tE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):YP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const v=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||d==null||p==null||v==null)throw new XP;const E=a<<2|d>>4;if(r.push(E),p!==64){const P=d<<4&240|p>>2;if(r.push(P),v!==64){const S=p<<6&192|v;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class XP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JP=function(n){const e=tE(n);return nE.encodeByteArray(e,!0)},ad=function(n){return JP(n).replace(/\./g,"")},rE=function(n){try{return nE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=()=>ZP().__FIREBASE_DEFAULTS__,tx=()=>{if(typeof process>"u"||typeof K_>"u")return;const n=K_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},nx=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&rE(n[1]);return e&&JSON.parse(e)},jd=()=>{try{return ex()||tx()||nx()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},iE=n=>{var e,t;return(t=(e=jd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},rx=n=>{const e=iE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},sE=()=>{var n;return(n=jd())===null||n===void 0?void 0:n.config},oE=n=>{var e;return(e=jd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ad(JSON.stringify(t)),ad(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ox(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function ax(){var n;const e=(n=jd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ux(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function cx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dx(){const n=Kt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function fx(){return!ax()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hx(){try{return typeof indexedDB=="object"}catch{return!1}}function px(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx="FirebaseError";class ui extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=mx,Object.setPrototypeOf(this,ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?gx(a,r):"Error",d=`${this.serviceName}: ${u} (${s}).`;return new ui(s,d,r)}}function gx(n,e){return n.replace(yx,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const yx=/\{\$([^}]+)}/g;function _x(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ld(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],u=e[s];if(Q_(a)&&Q_(u)){if(!ld(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function Q_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Pl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function xl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function vx(n,e){const t=new wx(n,e);return t.subscribe.bind(t)}class wx{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Ex(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Kh),s.error===void 0&&(s.error=Kh),s.complete===void 0&&(s.complete=Kh);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ex(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Kh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(n){return n&&n._delegate?n._delegate:n}class js{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new ix;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ix(e))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ls){return this.instances.has(e)}getOptions(e=Ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Sx(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ls){return this.component?this.component.multipleInstances?e:Ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Sx(n){return n===Ls?void 0:n}function Ix(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Tx(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(De||(De={}));const Px={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},xx=De.INFO,Rx={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},Ax=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=Rx[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ym{constructor(e){this.name=e,this._logLevel=xx,this._logHandler=Ax,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Px[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const bx=(n,e)=>e.some(t=>n instanceof t);let Y_,X_;function kx(){return Y_||(Y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nx(){return X_||(X_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aE=new WeakMap,Pp=new WeakMap,lE=new WeakMap,Qh=new WeakMap,_m=new WeakMap;function Ox(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Hi(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&aE.set(t,n)}).catch(()=>{}),_m.set(e,n),e}function Lx(n){if(Pp.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Pp.set(n,e)}let xp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Pp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||lE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Hi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Dx(n){xp=n(xp)}function Mx(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Yh(this),e,...t);return lE.set(r,e.sort?e.sort():[e]),Hi(r)}:Nx().includes(n)?function(...e){return n.apply(Yh(this),e),Hi(aE.get(this))}:function(...e){return Hi(n.apply(Yh(this),e))}}function Vx(n){return typeof n=="function"?Mx(n):(n instanceof IDBTransaction&&Lx(n),bx(n,kx())?new Proxy(n,xp):n)}function Hi(n){if(n instanceof IDBRequest)return Ox(n);if(Qh.has(n))return Qh.get(n);const e=Vx(n);return e!==n&&(Qh.set(n,e),_m.set(e,n)),e}const Yh=n=>_m.get(n);function jx(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(n,e),d=Hi(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Hi(u.result),f.oldVersion,f.newVersion,Hi(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const Fx=["get","getKey","getAll","getAllKeys","count"],$x=["put","add","delete","clear"],Xh=new Map;function J_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Xh.get(e))return Xh.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=$x.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Fx.includes(t)))return;const a=async function(u,...d){const f=this.transaction(u,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),s&&f.done]))[0]};return Xh.set(e,a),a}Dx(n=>({...n,get:(e,t,r)=>J_(e,t)||n.get(e,t,r),has:(e,t)=>!!J_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Ux(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Ux(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rp="@firebase/app",Z_="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new ym("@firebase/app"),Bx="@firebase/app-compat",Hx="@firebase/analytics-compat",Wx="@firebase/analytics",Gx="@firebase/app-check-compat",qx="@firebase/app-check",Kx="@firebase/auth",Qx="@firebase/auth-compat",Yx="@firebase/database",Xx="@firebase/data-connect",Jx="@firebase/database-compat",Zx="@firebase/functions",eR="@firebase/functions-compat",tR="@firebase/installations",nR="@firebase/installations-compat",rR="@firebase/messaging",iR="@firebase/messaging-compat",sR="@firebase/performance",oR="@firebase/performance-compat",aR="@firebase/remote-config",lR="@firebase/remote-config-compat",uR="@firebase/storage",cR="@firebase/storage-compat",dR="@firebase/firestore",fR="@firebase/vertexai",hR="@firebase/firestore-compat",pR="firebase",mR="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="[DEFAULT]",gR={[Rp]:"fire-core",[Bx]:"fire-core-compat",[Wx]:"fire-analytics",[Hx]:"fire-analytics-compat",[qx]:"fire-app-check",[Gx]:"fire-app-check-compat",[Kx]:"fire-auth",[Qx]:"fire-auth-compat",[Yx]:"fire-rtdb",[Xx]:"fire-data-connect",[Jx]:"fire-rtdb-compat",[Zx]:"fire-fn",[eR]:"fire-fn-compat",[tR]:"fire-iid",[nR]:"fire-iid-compat",[rR]:"fire-fcm",[iR]:"fire-fcm-compat",[sR]:"fire-perf",[oR]:"fire-perf-compat",[aR]:"fire-rc",[lR]:"fire-rc-compat",[uR]:"fire-gcs",[cR]:"fire-gcs-compat",[dR]:"fire-fst",[hR]:"fire-fst-compat",[fR]:"fire-vertex","fire-js":"fire-js",[pR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud=new Map,yR=new Map,bp=new Map;function ev(n,e){try{n.container.addComponent(e)}catch(t){ii.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function na(n){const e=n.name;if(bp.has(e))return ii.debug(`There were multiple attempts to register component ${e}.`),!1;bp.set(e,n);for(const t of ud.values())ev(t,n);for(const t of yR.values())ev(t,n);return!0}function vm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ir(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wi=new eu("app","Firebase",_R);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=mR;function uE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ap,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Wi.create("bad-app-name",{appName:String(s)});if(t||(t=sE()),!t)throw Wi.create("no-options");const a=ud.get(s);if(a){if(ld(t,a.options)&&ld(r,a.config))return a;throw Wi.create("duplicate-app",{appName:s})}const u=new Cx(s);for(const f of bp.values())u.addComponent(f);const d=new vR(t,r,u);return ud.set(s,d),d}function cE(n=Ap){const e=ud.get(n);if(!e&&n===Ap&&sE())return uE();if(!e)throw Wi.create("no-app",{appName:n});return e}function Gi(n,e,t){var r;let s=(r=gR[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const d=[`Unable to register library "${s}" with version "${e}":`];a&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ii.warn(d.join(" "));return}na(new js(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR="firebase-heartbeat-database",ER=1,Bl="firebase-heartbeat-store";let Jh=null;function dE(){return Jh||(Jh=jx(wR,ER,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Bl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Wi.create("idb-open",{originalErrorMessage:n.message})})),Jh}async function TR(n){try{const t=(await dE()).transaction(Bl),r=await t.objectStore(Bl).get(fE(n));return await t.done,r}catch(e){if(e instanceof ui)ii.warn(e.message);else{const t=Wi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ii.warn(t.message)}}}async function tv(n,e){try{const r=(await dE()).transaction(Bl,"readwrite");await r.objectStore(Bl).put(e,fE(n)),await r.done}catch(t){if(t instanceof ui)ii.warn(t.message);else{const r=Wi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ii.warn(r.message)}}}function fE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=1024,IR=30*24*60*60*1e3;class CR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new xR(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=nv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const d=new Date(u.date).valueOf();return Date.now()-d<=IR}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ii.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=nv(),{heartbeatsToSend:r,unsentEntries:s}=PR(this._heartbeatsCache.heartbeats),a=ad(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ii.warn(t),""}}}function nv(){return new Date().toISOString().substring(0,10)}function PR(n,e=SR){const t=[];let r=n.slice();for(const s of n){const a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),rv(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),rv(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class xR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hx()?px().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await TR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return tv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return tv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function rv(n){return ad(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(n){na(new js("platform-logger",e=>new zx(e),"PRIVATE")),na(new js("heartbeat",e=>new CR(e),"PRIVATE")),Gi(Rp,Z_,n),Gi(Rp,Z_,"esm2017"),Gi("fire-js","")}RR("");function wm(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function hE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AR=hE,pE=new eu("auth","Firebase",hE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd=new ym("@firebase/auth");function bR(n,...e){cd.logLevel<=De.WARN&&cd.warn(`Auth (${ya}): ${n}`,...e)}function zc(n,...e){cd.logLevel<=De.ERROR&&cd.error(`Auth (${ya}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(n,...e){throw Em(n,...e)}function Ir(n,...e){return Em(n,...e)}function mE(n,e,t){const r=Object.assign(Object.assign({},AR()),{[e]:t});return new eu("auth","Firebase",r).create(e,{appName:n.name})}function Cr(n){return mE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Em(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return pE.create(n,...e)}function Ce(n,e,...t){if(!n)throw Em(e,...t)}function Xr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw zc(e),new Error(e)}function si(n,e){n||Xr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function kR(){return iv()==="http:"||iv()==="https:"}function iv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kR()||ux()||"connection"in navigator)?navigator.onLine:!0}function OR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,t){this.shortDelay=e,this.longDelay=t,si(t>e,"Short delay should be less than long delay!"),this.isMobile=ox()||cx()}get(){return NR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(n,e){si(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=new nu(3e4,6e4);function ns(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function kr(n,e,t,r,s={}){return yE(n,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=tu(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},a);return lx()||(p.referrerPolicy="no-referrer"),gE.fetch()(_E(n,n.config.apiHost,t,d),p)})}async function yE(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},LR),e);try{const s=new VR(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw bc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[f,p]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw bc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw bc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw bc(n,"user-disabled",u);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw mE(n,g,p);lr(n,g)}}catch(s){if(s instanceof ui)throw s;lr(n,"network-request-failed",{message:String(s)})}}async function ru(n,e,t,r,s={}){const a=await kr(n,e,t,r,s);return"mfaPendingCredential"in a&&lr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function _E(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?Tm(n.config,s):`${n.config.apiScheme}://${s}`}function MR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class VR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ir(this.auth,"network-request-failed")),DR.get())})}}function bc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Ir(n,e,r);return s.customData._tokenResponse=t,s}function sv(n){return n!==void 0&&n.enterprise!==void 0}class jR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return MR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function FR(n,e){return kr(n,"GET","/v2/recaptchaConfig",ns(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $R(n,e){return kr(n,"POST","/v1/accounts:delete",e)}async function vE(n,e){return kr(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zR(n,e=!1){const t=Tn(n),r=await t.getIdToken(e),s=Sm(r);Ce(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:Ll(Zh(s.auth_time)),issuedAtTime:Ll(Zh(s.iat)),expirationTime:Ll(Zh(s.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Zh(n){return Number(n)*1e3}function Sm(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return zc("JWT malformed, contained fewer than 3 sections"),null;try{const s=rE(t);return s?JSON.parse(s):(zc("Failed to decode base64 JWT payload"),null)}catch(s){return zc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function ov(n){const e=Sm(n);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fs(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ui&&UR(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function UR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ll(this.lastLoginAt),this.creationTime=Ll(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dd(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Fs(n,vE(t,{idToken:r}));Ce(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?wE(a.providerUserInfo):[],d=WR(n.providerData,u),f=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),g=f?p:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new Np(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function HR(n){const e=Tn(n);await dd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WR(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function wE(n){return n.map(e=>{var{providerId:t}=e,r=wm(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(n,e){const t=await yE(n,{},async()=>{const r=tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,u=_E(n,s,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",gE.fetch()(u,{method:"POST",headers:d,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function qR(n,e){return kr(n,"POST","/v2/accounts:revokeToken",ns(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ov(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=ov(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await GR(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,u=new Ko;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Ce(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(Ce(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ko,this.toJSON())}_performRefresh(){return Xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(n,e){Ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Jr{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,a=wm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new BR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Np(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Fs(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return zR(this,e)}reload(){return HR(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Jr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await dd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ir(this.auth.app))return Promise.reject(Cr(this.auth));const e=await this.getIdToken();return await Fs(this,$R(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,a,u,d,f,p,g;const v=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(s=t.email)!==null&&s!==void 0?s:void 0,P=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,S=(u=t.photoURL)!==null&&u!==void 0?u:void 0,O=(d=t.tenantId)!==null&&d!==void 0?d:void 0,k=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,D=(p=t.createdAt)!==null&&p!==void 0?p:void 0,R=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:A,emailVerified:F,isAnonymous:H,providerData:X,stsTokenManager:M}=t;Ce(A&&M,e,"internal-error");const I=Ko.fromJSON(this.name,M);Ce(typeof A=="string",e,"internal-error"),Mi(v,e.name),Mi(E,e.name),Ce(typeof F=="boolean",e,"internal-error"),Ce(typeof H=="boolean",e,"internal-error"),Mi(P,e.name),Mi(S,e.name),Mi(O,e.name),Mi(k,e.name),Mi(D,e.name),Mi(R,e.name);const x=new Jr({uid:A,auth:e,email:E,emailVerified:F,displayName:v,isAnonymous:H,photoURL:S,phoneNumber:P,tenantId:O,stsTokenManager:I,createdAt:D,lastLoginAt:R});return X&&Array.isArray(X)&&(x.providerData=X.map(L=>Object.assign({},L))),k&&(x._redirectEventId=k),x}static async _fromIdTokenResponse(e,t,r=!1){const s=new Ko;s.updateFromServerResponse(t);const a=new Jr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await dd(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ce(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?wE(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),d=new Ko;d.updateFromIdToken(r);const f=new Jr({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:u}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Np(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=new Map;function Zr(n){si(n instanceof Function,"Expected a class definition");let e=av.get(n);return e?(si(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,av.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}EE.type="NONE";const lv=EE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(n,e,t){return`firebase:${n}:${e}:${t}`}class Qo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Uc(this.userKey,s.apiKey,a),this.fullPersistenceKey=Uc("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Jr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Qo(Zr(lv),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||Zr(lv);const u=Uc(r,e.config.apiKey,e.name);let d=null;for(const p of t)try{const g=await p._get(u);if(g){const v=Jr._fromJSON(e,g);p!==a&&(d=v),a=p;break}}catch{}const f=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Qo(a,e,r):(a=f[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new Qo(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xE(e))return"Blackberry";if(RE(e))return"Webos";if(SE(e))return"Safari";if((e.includes("chrome/")||IE(e))&&!e.includes("edge/"))return"Chrome";if(PE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function TE(n=Kt()){return/firefox\//i.test(n)}function SE(n=Kt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IE(n=Kt()){return/crios\//i.test(n)}function CE(n=Kt()){return/iemobile/i.test(n)}function PE(n=Kt()){return/android/i.test(n)}function xE(n=Kt()){return/blackberry/i.test(n)}function RE(n=Kt()){return/webos/i.test(n)}function Im(n=Kt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function KR(n=Kt()){var e;return Im(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QR(){return dx()&&document.documentMode===10}function AE(n=Kt()){return Im(n)||PE(n)||RE(n)||xE(n)||/windows phone/i.test(n)||CE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(n,e=[]){let t;switch(n){case"Browser":t=uv(Kt());break;case"Worker":t=`${uv(Kt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ya}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,d)=>{try{const f=e(a);u(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(n,e={}){return kr(n,"GET","/v2/passwordPolicy",ns(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=6;class ZR{constructor(e){var t,r,s,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:JR,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,a,u,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cv(this),this.idTokenSubscription=new cv(this),this.beforeStateQueue=new YR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Zr(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Qo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await vE(this,{idToken:e}),r=await Jr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ir(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===d)&&(f!=null&&f.user)&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await dd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ir(this.app))return Promise.reject(Cr(this));const t=e?Tn(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ir(this.app)?Promise.reject(Cr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ir(this.app)?Promise.reject(Cr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XR(this),t=new ZR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new eu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await qR(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Zr(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await Qo.create(this,[Zr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&bR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Hs(n){return Tn(n)}class cv{constructor(e){this.auth=e,this.observer=null,this.addObserver=vx(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tA(n){Fd=n}function kE(n){return Fd.loadJS(n)}function nA(){return Fd.recaptchaEnterpriseScript}function rA(){return Fd.gapiScript}function iA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class sA{constructor(){this.enterprise=new oA}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class oA{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const aA="recaptcha-enterprise",NE="NO_RECAPTCHA";class lA{constructor(e){this.type=aA,this.auth=Hs(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,d)=>{FR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new jR(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,u(p.siteKey)}}).catch(f=>{d(f)})})}function s(a,u,d){const f=window.grecaptcha;sv(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{u(p)}).catch(()=>{u(NE)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new sA().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(d=>{if(!t&&sv(window.grecaptcha))s(d,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=nA();f.length!==0&&(f+=d),kE(f).then(()=>{s(d,a,u)}).catch(p=>{u(p)})}}).catch(d=>{u(d)})})}}async function dv(n,e,t,r=!1,s=!1){const a=new lA(n);let u;if(s)u=NE;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Op(n,e,t,r,s){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await dv(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await dv(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(n,e){const t=vm(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(ld(a,e??{}))return s;lr(s,"already-initialized")}return t.initialize({options:e})}function cA(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Zr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function dA(n,e,t){const r=Hs(n);Ce(r._canInitEmulator,r,"emulator-config-failed"),Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=OE(e),{host:u,port:d}=fA(e),f=d===null?"":`:${d}`;r.config.emulator={url:`${a}//${u}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),hA()}function OE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function fA(n){const e=OE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:fv(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:fv(u)}}}function fv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function hA(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Xr("not implemented")}_getIdTokenResponse(e){return Xr("not implemented")}_linkToIdToken(e,t){return Xr("not implemented")}_getReauthenticationResolver(e){return Xr("not implemented")}}async function pA(n,e){return kr(n,"POST","/v1/accounts:update",e)}async function mA(n,e){return kr(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gA(n,e){return ru(n,"POST","/v1/accounts:signInWithPassword",ns(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yA(n,e){return ru(n,"POST","/v1/accounts:signInWithEmailLink",ns(n,e))}async function _A(n,e){return ru(n,"POST","/v1/accounts:signInWithEmailLink",ns(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl extends Cm{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Hl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Hl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Op(e,t,"signInWithPassword",gA);case"emailLink":return yA(e,{email:this._email,oobCode:this._password});default:lr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Op(e,r,"signUpPassword",mA);case"emailLink":return _A(e,{idToken:t,email:this._email,oobCode:this._password});default:lr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(n,e){return ru(n,"POST","/v1/accounts:signInWithIdp",ns(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="http://localhost";class $s extends Cm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new $s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):lr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,a=wm(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new $s(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Yo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Yo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Yo(e,t)}buildRequest(){const e={requestUri:vA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=tu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function EA(n){const e=Pl(xl(n)).link,t=e?Pl(xl(e)).deep_link_id:null,r=Pl(xl(n)).deep_link_id;return(r?Pl(xl(r)).link:null)||r||t||e||n}class Pm{constructor(e){var t,r,s,a,u,d;const f=Pl(xl(e)),p=(t=f.apiKey)!==null&&t!==void 0?t:null,g=(r=f.oobCode)!==null&&r!==void 0?r:null,v=wA((s=f.mode)!==null&&s!==void 0?s:null);Ce(p&&g&&v,"argument-error"),this.apiKey=p,this.operation=v,this.code=g,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=f.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=EA(e);try{return new Pm(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(){this.providerId=_a.PROVIDER_ID}static credential(e,t){return Hl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Pm.parseLink(t);return Ce(r,"argument-error"),Hl._fromEmailAndCode(e,r.code,r.tenantId)}}_a.PROVIDER_ID="password";_a.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_a.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends LE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends iu{constructor(){super("facebook.com")}static credential(e){return $s._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return $s._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Fi.credential(t,r)}catch{return null}}}Fi.GOOGLE_SIGN_IN_METHOD="google.com";Fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends iu{constructor(){super("github.com")}static credential(e){return $s._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends iu{constructor(){super("twitter.com")}static credential(e,t){return $s._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return zi.credential(t,r)}catch{return null}}}zi.TWITTER_SIGN_IN_METHOD="twitter.com";zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TA(n,e){return ru(n,"POST","/v1/accounts:signUp",ns(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await Jr._fromIdTokenResponse(e,r,s),u=hv(r);return new zs({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=hv(r);return new zs({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function hv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd extends ui{constructor(e,t,r,s){var a;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,fd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new fd(e,t,r,s)}}function DE(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?fd._fromErrorAndOperation(n,a,e,r):a})}async function SA(n,e,t=!1){const r=await Fs(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return zs._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IA(n,e,t=!1){const{auth:r}=n;if(ir(r.app))return Promise.reject(Cr(r));const s="reauthenticate";try{const a=await Fs(n,DE(r,s,e,n),t);Ce(a.idToken,r,"internal-error");const u=Sm(a.idToken);Ce(u,r,"internal-error");const{sub:d}=u;return Ce(n.uid===d,r,"user-mismatch"),zs._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&lr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ME(n,e,t=!1){if(ir(n.app))return Promise.reject(Cr(n));const r="signIn",s=await DE(n,r,e),a=await zs._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}async function CA(n,e){return ME(Hs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VE(n){const e=Hs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function PA(n,e,t){if(ir(n.app))return Promise.reject(Cr(n));const r=Hs(n),u=await Op(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",TA).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&VE(n),f}),d=await zs._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(d.user),d}function xA(n,e,t){return ir(n.app)?Promise.reject(Cr(n)):CA(Tn(n),_a.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&VE(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RA(n,e){return kr(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AA(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Tn(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Fs(r,RA(r.auth,a));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const d=r.providerData.find(({providerId:f})=>f==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function bA(n,e){const t=Tn(n);return ir(t.auth.app)?Promise.reject(Cr(t.auth)):kA(t,e)}async function kA(n,e,t){const{auth:r}=n,a={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(a.email=e);const u=await Fs(n,pA(r,a));await n._updateTokensIfNecessary(u,!0)}function NA(n,e,t,r){return Tn(n).onIdTokenChanged(e,t,r)}function OA(n,e,t){return Tn(n).beforeAuthStateChanged(e,t)}const hd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(hd,"1"),this.storage.removeItem(hd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=1e3,DA=10;class FE extends jE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);QR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,DA):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},LA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}FE.type="LOCAL";const MA=FE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E extends jE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}$E.type="SESSION";const zE=$E;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new $d(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(u).map(async p=>p(t.origin,a)),f=await VA(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$d.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((d,f)=>{const p=xm("",20);s.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(v){const E=v;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(E.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(){return window}function FA(n){Pr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(){return typeof Pr().WorkerGlobalScope<"u"&&typeof Pr().importScripts=="function"}async function $A(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zA(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function UA(){return UE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="firebaseLocalStorageDb",BA=1,pd="firebaseLocalStorage",HE="fbase_key";class su{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function zd(n,e){return n.transaction([pd],e?"readwrite":"readonly").objectStore(pd)}function HA(){const n=indexedDB.deleteDatabase(BE);return new su(n).toPromise()}function Lp(){const n=indexedDB.open(BE,BA);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(pd,{keyPath:HE})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(pd)?e(r):(r.close(),await HA(),e(await Lp()))})})}async function pv(n,e,t){const r=zd(n,!0).put({[HE]:e,value:t});return new su(r).toPromise()}async function WA(n,e){const t=zd(n,!1).get(e),r=await new su(t).toPromise();return r===void 0?null:r.value}function mv(n,e){const t=zd(n,!0).delete(e);return new su(t).toPromise()}const GA=800,qA=3;class WE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>qA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$d._getInstance(UA()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await $A(),!this.activeServiceWorker)return;this.sender=new jA(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lp();return await pv(e,hd,"1"),await mv(e,hd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>pv(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>WA(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>mv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=zd(s,!1).getAll();return new su(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WE.type="LOCAL";const KA=WE;new nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(n,e){return e?Zr(e):(Ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm extends Cm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Yo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function YA(n){return ME(n.auth,new Rm(n),n.bypassAuthState)}function XA(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),IA(t,new Rm(n),n.bypassAuthState)}async function JA(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),SA(t,new Rm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YA;case"linkViaPopup":case"linkViaRedirect":return JA;case"reauthViaPopup":case"reauthViaRedirect":return XA;default:lr(this.auth,"internal-error")}}resolve(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=new nu(2e3,1e4);class Go extends GE{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Go.currentPopupAction&&Go.currentPopupAction.cancel(),Go.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){si(this.filter.length===1,"Popup operations only handle one event");const e=xm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Go.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ZA.get())};e()}}Go.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="pendingRedirect",Bc=new Map;class tb extends GE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Bc.get(this.auth._key());if(!e){try{const r=await nb(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Bc.set(this.auth._key(),e)}return this.bypassAuthState||Bc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nb(n,e){const t=sb(e),r=ib(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function rb(n,e){Bc.set(n._key(),e)}function ib(n){return Zr(n._redirectPersistence)}function sb(n){return Uc(eb,n.config.apiKey,n.name)}async function ob(n,e,t=!1){if(ir(n.app))return Promise.reject(Cr(n));const r=Hs(n),s=QA(r,e),u=await new tb(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab=10*60*1e3;class lb{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ub(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!qE(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ir(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ab&&this.cachedEventUids.clear(),this.cachedEventUids.has(gv(e))}saveEventToCache(e){this.cachedEventUids.add(gv(e)),this.lastProcessedEventTime=Date.now()}}function gv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function qE({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ub(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cb(n,e={}){return kr(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fb=/^https?/;async function hb(n){if(n.config.emulator)return;const{authorizedDomains:e}=await cb(n);for(const t of e)try{if(pb(t))return}catch{}lr(n,"unauthorized-domain")}function pb(n){const e=kp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!fb.test(t))return!1;if(db.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb=new nu(3e4,6e4);function yv(){const n=Pr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function gb(n){return new Promise((e,t)=>{var r,s,a;function u(){yv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yv(),t(Ir(n,"network-request-failed"))},timeout:mb.get()})}if(!((s=(r=Pr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Pr().gapi)===null||a===void 0)&&a.load)u();else{const d=iA("iframefcb");return Pr()[d]=()=>{gapi.load?u():t(Ir(n,"network-request-failed"))},kE(`${rA()}?onload=${d}`).catch(f=>t(f))}}).catch(e=>{throw Hc=null,e})}let Hc=null;function yb(n){return Hc=Hc||gb(n),Hc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=new nu(5e3,15e3),vb="__/auth/iframe",wb="emulator/auth/iframe",Eb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Sb(n){const e=n.config;Ce(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Tm(e,wb):`https://${n.config.authDomain}/${vb}`,r={apiKey:e.apiKey,appName:n.name,v:ya},s=Tb.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${tu(r).slice(1)}`}async function Ib(n){const e=await yb(n),t=Pr().gapi;return Ce(t,n,"internal-error"),e.open({where:document.body,url:Sb(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Eb,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=Ir(n,"network-request-failed"),d=Pr().setTimeout(()=>{a(u)},_b.get());function f(){Pr().clearTimeout(d),s(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Pb=500,xb=600,Rb="_blank",Ab="http://localhost";class _v{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bb(n,e,t,r=Pb,s=xb){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f=Object.assign(Object.assign({},Cb),{width:r.toString(),height:s.toString(),top:a,left:u}),p=Kt().toLowerCase();t&&(d=IE(p)?Rb:t),TE(p)&&(e=e||Ab,f.scrollbars="yes");const g=Object.entries(f).reduce((E,[P,S])=>`${E}${P}=${S},`,"");if(KR(p)&&d!=="_self")return kb(e||"",d),new _v(null);const v=window.open(e||"",d,g);Ce(v,n,"popup-blocked");try{v.focus()}catch{}return new _v(v)}function kb(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="__/auth/handler",Ob="emulator/auth/handler",Lb=encodeURIComponent("fac");async function vv(n,e,t,r,s,a){Ce(n.config.authDomain,n,"auth-domain-config-required"),Ce(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ya,eventId:s};if(e instanceof LE){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",_x(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))u[g]=v}if(e instanceof iu){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const f=await n._getAppCheckToken(),p=f?`#${Lb}=${encodeURIComponent(f)}`:"";return`${Db(n)}?${tu(d).slice(1)}${p}`}function Db({config:n}){return n.emulator?Tm(n,Ob):`https://${n.authDomain}/${Nb}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="webStorageSupport";class Mb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zE,this._completeRedirectFn=ob,this._overrideRedirectResult=rb}async _openPopup(e,t,r,s){var a;si((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await vv(e,t,r,kp(),s);return bb(e,u,xm())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await vv(e,t,r,kp(),s);return FA(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(si(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Ib(e),r=new lb(e);return t.register("authEvent",s=>(Ce(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ep,{type:ep},s=>{var a;const u=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[ep];u!==void 0&&t(!!u),lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=hb(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return AE()||SE()||Im()}}const Vb=Mb;var wv="@firebase/auth",Ev="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $b(n){na(new js("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;Ce(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bE(n)},p=new eA(r,s,a,f);return cA(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),na(new js("auth-internal",e=>{const t=Hs(e.getProvider("auth").getImmediate());return(r=>new jb(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gi(wv,Ev,Fb(n)),Gi(wv,Ev,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=5*60,Ub=oE("authIdTokenMaxAge")||zb;let Tv=null;const Bb=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Ub)return;const s=t==null?void 0:t.token;Tv!==s&&(Tv=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function ra(n=cE()){const e=vm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=uA(n,{popupRedirectResolver:Vb,persistence:[KA,MA,zE]}),r=oE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=Bb(a.toString());OA(t,u,()=>u(t.currentUser)),NA(t,d=>u(d))}}const s=iE("auth");return s&&dA(t,`http://${s}`),t}function Hb(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}tA({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=Ir("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",Hb().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$b("Browser");const Wb=()=>{const n=Sn(),{isAuth:e,email:t}=fm(),[r,s]=U.useState(!1),{id:a}=rt(p=>p.user),d=ra().currentUser,f=()=>{s(p=>!p)};return C.jsxs("div",{className:tr.user,children:[C.jsx("div",{className:tr.avatar,children:e&&d?C.jsx(Ge,{to:`/user-page/${a}`,children:C.jsx("img",{src:d.photoURL??void 0,alt:"User Profile"})}):C.jsx(Ge,{to:"/login",children:C.jsx(pC,{size:24})})}),e&&d?C.jsxs("div",{className:tr.content,children:[C.jsx(Ge,{to:`/user-page/${a}`,className:tr.name,children:d.displayName?d.displayName:t}),C.jsx("button",{type:"button",className:r?`${tr.button} ${tr.open}`:tr.button,onClick:f,children:C.jsx(KP,{})}),r&&C.jsxs("div",{className:tr.dropdown,children:[C.jsxs(Ge,{className:tr.link,to:"/profile-edit",children:[C.jsx(vp,{size:16}),"profile edit"]}),C.jsxs("button",{className:tr.link,onClick:()=>n(gm.removeUser()),children:[C.jsx(QP,{size:16})," log out"]})]})]}):C.jsx(Ge,{to:"/login",className:tr.name,children:"login"})]})};function KE(n){return dn({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"m3.196 12.87-.825.483a.75.75 0 0 0 0 1.294l7.25 4.25a.75.75 0 0 0 .758 0l7.25-4.25a.75.75 0 0 0 0-1.294l-.825-.484-5.666 3.322a2.25 2.25 0 0 1-2.276 0L3.196 12.87Z"},child:[]},{tag:"path",attr:{d:"m3.196 8.87-.825.483a.75.75 0 0 0 0 1.294l7.25 4.25a.75.75 0 0 0 .758 0l7.25-4.25a.75.75 0 0 0 0-1.294l-.825-.484-5.666 3.322a2.25 2.25 0 0 1-2.276 0L3.196 8.87Z"},child:[]},{tag:"path",attr:{d:"M10.38 1.103a.75.75 0 0 0-.76 0l-7.25 4.25a.75.75 0 0 0 0 1.294l7.25 4.25a.75.75 0 0 0 .76 0l7.25-4.25a.75.75 0 0 0 0-1.294l-7.25-4.25Z"},child:[]}]})(n)}const QE=()=>{const{favorites:n}=rt(e=>e.favorites);return C.jsx("header",{className:Di.header,children:C.jsx("div",{className:"container",children:C.jsxs("div",{className:Di.body,children:[C.jsxs("div",{className:Di.left,children:[C.jsxs(Ge,{to:"/main",className:Di.logo,children:[C.jsx("img",{src:"/gallery-website/gallery.png",alt:""}),C.jsx("span",{className:Di.logoName,children:"gallery"})]}),C.jsx(sC,{})]}),C.jsxs("div",{className:Di.right,children:[C.jsx(GC,{}),C.jsx(Wb,{}),C.jsxs(Ge,{to:"/favorites",className:Di.favorite,children:[C.jsx(KE,{size:24}),n.length>=1&&C.jsx("span",{className:Di.count,children:n.length})]})]})]})})})},Gb="_modal_10wpc_11",qb="_active_10wpc_19",Kb="_content_10wpc_24",Qb="_title_10wpc_35",El={modal:Gb,active:qb,content:Kb,title:Qb},Am=({active:n,message:e})=>C.jsx("div",{className:n?`${El.modal} ${El.active}`:El.modal,children:C.jsx("div",{className:El.content,children:C.jsx("div",{className:El.title,children:e})})}),Yb=()=>{const{isOpen:n,message:e}=rt(t=>t.modal);return C.jsxs("div",{className:"wrapper",children:[C.jsx(QE,{}),C.jsx("main",{children:C.jsx("div",{className:"container",children:C.jsx(lm,{})})}),C.jsx(Vw,{}),C.jsx(Am,{active:n,message:e})]})},Xb="_wrap_vkef0_11",Jb="_top_vkef0_20",Zb="_navigation_vkef0_26",ek="_title_vkef0_32",Rl={wrap:Xb,top:Jb,navigation:Zb,title:ek};function Sv(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function bm(n,e){n===void 0&&(n={}),e===void 0&&(e={});const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:Sv(e[r])&&Sv(n[r])&&Object.keys(e[r]).length>0&&bm(n[r],e[r])})}const YE={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function rs(){const n=typeof document<"u"?document:{};return bm(n,YE),n}const tk={document:YE,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function Zt(){const n=typeof window<"u"?window:{};return bm(n,tk),n}function nk(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function rk(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function Dp(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function md(){return Date.now()}function ik(n){const e=Zt();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function sk(n,e){e===void 0&&(e="x");const t=Zt();let r,s,a;const u=ik(n);return t.WebKitCSSMatrix?(s=u.transform||u.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(d=>d.replace(",",".")).join(", ")),a=new t.WebKitCSSMatrix(s==="none"?"":s)):(a=u.MozTransform||u.OTransform||u.MsTransform||u.msTransform||u.transform||u.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=a.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?s=a.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?s=a.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function kc(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function ok(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function vn(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const r=t<0||arguments.length<=t?void 0:arguments[t];if(r!=null&&!ok(r)){const s=Object.keys(Object(r)).filter(a=>e.indexOf(a)<0);for(let a=0,u=s.length;a<u;a+=1){const d=s[a],f=Object.getOwnPropertyDescriptor(r,d);f!==void 0&&f.enumerable&&(kc(n[d])&&kc(r[d])?r[d].__swiper__?n[d]=r[d]:vn(n[d],r[d]):!kc(n[d])&&kc(r[d])?(n[d]={},r[d].__swiper__?n[d]=r[d]:vn(n[d],r[d])):n[d]=r[d])}}}return n}function Al(n,e,t){n.style.setProperty(e,t)}function XE(n){let{swiper:e,targetPosition:t,side:r}=n;const s=Zt(),a=-e.translate;let u=null,d;const f=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const p=t>a?"next":"prev",g=(E,P)=>p==="next"&&E>=P||p==="prev"&&E<=P,v=()=>{d=new Date().getTime(),u===null&&(u=d);const E=Math.max(Math.min((d-u)/f,1),0),P=.5-Math.cos(E*Math.PI)/2;let S=a+P*(t-a);if(g(S,t)&&(S=t),e.wrapperEl.scrollTo({[r]:S}),g(S,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:S})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(v)};v()}function sr(n,e){e===void 0&&(e="");const t=Zt(),r=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&r.push(...n.assignedElements()),e?r.filter(s=>s.matches(e)):r}function ak(n,e){const t=[e];for(;t.length>0;){const r=t.shift();if(n===r)return!0;t.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function lk(n,e){const t=Zt();let r=e.contains(n);return!r&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(n),r||(r=ak(n,e))),r}function gd(n){try{console.warn(n);return}catch{}}function ia(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:nk(e)),t}function uk(n,e){const t=[];for(;n.previousElementSibling;){const r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function ck(n,e){const t=[];for(;n.nextElementSibling;){const r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function Ui(n,e){return Zt().getComputedStyle(n,null).getPropertyValue(e)}function yd(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function JE(n,e){const t=[];let r=n.parentElement;for(;r;)e?r.matches(e)&&t.push(r):t.push(r),r=r.parentElement;return t}function Mp(n,e,t){const r=Zt();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function At(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}let tp;function dk(){const n=Zt(),e=rs();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function ZE(){return tp||(tp=dk()),tp}let np;function fk(n){let{userAgent:e}=n===void 0?{}:n;const t=ZE(),r=Zt(),s=r.navigator.platform,a=e||r.navigator.userAgent,u={ios:!1,android:!1},d=r.screen.width,f=r.screen.height,p=a.match(/(Android);?[\s\/]+([\d.]+)?/);let g=a.match(/(iPad).*OS\s([\d_]+)/);const v=a.match(/(iPod)(.*OS\s([\d_]+))?/),E=!g&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),P=s==="Win32";let S=s==="MacIntel";const O=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!g&&S&&t.touch&&O.indexOf(`${d}x${f}`)>=0&&(g=a.match(/(Version)\/([\d.]+)/),g||(g=[0,1,"13_0_0"]),S=!1),p&&!P&&(u.os="android",u.android=!0),(g||E||v)&&(u.os="ios",u.ios=!0),u}function eT(n){return n===void 0&&(n={}),np||(np=fk(n)),np}let rp;function hk(){const n=Zt(),e=eT();let t=!1;function r(){const d=n.navigator.userAgent.toLowerCase();return d.indexOf("safari")>=0&&d.indexOf("chrome")<0&&d.indexOf("android")<0}if(r()){const d=String(n.navigator.userAgent);if(d.includes("Version/")){const[f,p]=d.split("Version/")[1].split(" ")[0].split(".").map(g=>Number(g));t=f<16||f===16&&p<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),a=r(),u=a||s&&e.ios;return{isSafari:t||a,needPerspectiveFix:t,need3dFix:u,isWebView:s}}function tT(){return rp||(rp=hk()),rp}function pk(n){let{swiper:e,on:t,emit:r}=n;const s=Zt();let a=null,u=null;const d=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},f=()=>{!e||e.destroyed||!e.initialized||(a=new ResizeObserver(v=>{u=s.requestAnimationFrame(()=>{const{width:E,height:P}=e;let S=E,O=P;v.forEach(k=>{let{contentBoxSize:D,contentRect:R,target:A}=k;A&&A!==e.el||(S=R?R.width:(D[0]||D).inlineSize,O=R?R.height:(D[0]||D).blockSize)}),(S!==E||O!==P)&&d()})}),a.observe(e.el))},p=()=>{u&&s.cancelAnimationFrame(u),a&&a.unobserve&&e.el&&(a.unobserve(e.el),a=null)},g=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver<"u"){f();return}s.addEventListener("resize",d),s.addEventListener("orientationchange",g)}),t("destroy",()=>{p(),s.removeEventListener("resize",d),s.removeEventListener("orientationchange",g)})}function mk(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;const a=[],u=Zt(),d=function(g,v){v===void 0&&(v={});const E=u.MutationObserver||u.WebkitMutationObserver,P=new E(S=>{if(e.__preventObserver__)return;if(S.length===1){s("observerUpdate",S[0]);return}const O=function(){s("observerUpdate",S[0])};u.requestAnimationFrame?u.requestAnimationFrame(O):u.setTimeout(O,0)});P.observe(g,{attributes:typeof v.attributes>"u"?!0:v.attributes,childList:e.isElement||(typeof v.childList>"u"?!0:v).childList,characterData:typeof v.characterData>"u"?!0:v.characterData}),a.push(P)},f=()=>{if(e.params.observer){if(e.params.observeParents){const g=JE(e.hostEl);for(let v=0;v<g.length;v+=1)d(g[v])}d(e.hostEl,{childList:e.params.observeSlideChildren}),d(e.wrapperEl,{attributes:!1})}},p=()=>{a.forEach(g=>{g.disconnect()}),a.splice(0,a.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",f),r("destroy",p)}var gk={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=t?"unshift":"push";return n.split(" ").forEach(a=>{r.eventsListeners[a]||(r.eventsListeners[a]=[]),r.eventsListeners[a][s](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(){r.off(n,s),s.__emitterProxy&&delete s.__emitterProxy;for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];e.apply(r,u)}return s.__emitterProxy=e,r.on(n,s,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((s,a)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&t.eventsListeners[r].splice(a,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,r;for(var s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return typeof a[0]=="string"||Array.isArray(a[0])?(e=a[0],t=a.slice(1,a.length),r=n):(e=a[0].events,t=a[0].data,r=a[0].context||n),t.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(f=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(p=>{p.apply(r,[f,...t])}),n.eventsListeners&&n.eventsListeners[f]&&n.eventsListeners[f].forEach(p=>{p.apply(r,t)})}),n}};function yk(){const n=this;let e,t;const r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(Ui(r,"padding-left")||0,10)-parseInt(Ui(r,"padding-right")||0,10),t=t-parseInt(Ui(r,"padding-top")||0,10)-parseInt(Ui(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function _k(){const n=this;function e(L,V){return parseFloat(L.getPropertyValue(n.getDirectionLabel(V))||0)}const t=n.params,{wrapperEl:r,slidesEl:s,size:a,rtlTranslate:u,wrongRTL:d}=n,f=n.virtual&&t.virtual.enabled,p=f?n.virtual.slides.length:n.slides.length,g=sr(s,`.${n.params.slideClass}, swiper-slide`),v=f?n.virtual.slides.length:g.length;let E=[];const P=[],S=[];let O=t.slidesOffsetBefore;typeof O=="function"&&(O=t.slidesOffsetBefore.call(n));let k=t.slidesOffsetAfter;typeof k=="function"&&(k=t.slidesOffsetAfter.call(n));const D=n.snapGrid.length,R=n.slidesGrid.length;let A=t.spaceBetween,F=-O,H=0,X=0;if(typeof a>"u")return;typeof A=="string"&&A.indexOf("%")>=0?A=parseFloat(A.replace("%",""))/100*a:typeof A=="string"&&(A=parseFloat(A)),n.virtualSize=-A,g.forEach(L=>{u?L.style.marginLeft="":L.style.marginRight="",L.style.marginBottom="",L.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(Al(r,"--swiper-centered-offset-before",""),Al(r,"--swiper-centered-offset-after",""));const M=t.grid&&t.grid.rows>1&&n.grid;M?n.grid.initSlides(g):n.grid&&n.grid.unsetSlides();let I;const x=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(L=>typeof t.breakpoints[L].slidesPerView<"u").length>0;for(let L=0;L<v;L+=1){I=0;let V;if(g[L]&&(V=g[L]),M&&n.grid.updateSlide(L,V,g),!(g[L]&&Ui(V,"display")==="none")){if(t.slidesPerView==="auto"){x&&(g[L].style[n.getDirectionLabel("width")]="");const $=getComputedStyle(V),N=V.style.transform,ue=V.style.webkitTransform;if(N&&(V.style.transform="none"),ue&&(V.style.webkitTransform="none"),t.roundLengths)I=n.isHorizontal()?Mp(V,"width"):Mp(V,"height");else{const _e=e($,"width"),ve=e($,"padding-left"),Pe=e($,"padding-right"),re=e($,"margin-left"),le=e($,"margin-right"),oe=$.getPropertyValue("box-sizing");if(oe&&oe==="border-box")I=_e+re+le;else{const{clientWidth:W,offsetWidth:J}=V;I=_e+ve+Pe+re+le+(J-W)}}N&&(V.style.transform=N),ue&&(V.style.webkitTransform=ue),t.roundLengths&&(I=Math.floor(I))}else I=(a-(t.slidesPerView-1)*A)/t.slidesPerView,t.roundLengths&&(I=Math.floor(I)),g[L]&&(g[L].style[n.getDirectionLabel("width")]=`${I}px`);g[L]&&(g[L].swiperSlideSize=I),S.push(I),t.centeredSlides?(F=F+I/2+H/2+A,H===0&&L!==0&&(F=F-a/2-A),L===0&&(F=F-a/2-A),Math.abs(F)<1/1e3&&(F=0),t.roundLengths&&(F=Math.floor(F)),X%t.slidesPerGroup===0&&E.push(F),P.push(F)):(t.roundLengths&&(F=Math.floor(F)),(X-Math.min(n.params.slidesPerGroupSkip,X))%n.params.slidesPerGroup===0&&E.push(F),P.push(F),F=F+I+A),n.virtualSize+=I+A,H=I,X+=1}}if(n.virtualSize=Math.max(n.virtualSize,a)+k,u&&d&&(t.effect==="slide"||t.effect==="coverflow")&&(r.style.width=`${n.virtualSize+A}px`),t.setWrapperSize&&(r.style[n.getDirectionLabel("width")]=`${n.virtualSize+A}px`),M&&n.grid.updateWrapperSize(I,E),!t.centeredSlides){const L=[];for(let V=0;V<E.length;V+=1){let $=E[V];t.roundLengths&&($=Math.floor($)),E[V]<=n.virtualSize-a&&L.push($)}E=L,Math.floor(n.virtualSize-a)-Math.floor(E[E.length-1])>1&&E.push(n.virtualSize-a)}if(f&&t.loop){const L=S[0]+A;if(t.slidesPerGroup>1){const V=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),$=L*t.slidesPerGroup;for(let N=0;N<V;N+=1)E.push(E[E.length-1]+$)}for(let V=0;V<n.virtual.slidesBefore+n.virtual.slidesAfter;V+=1)t.slidesPerGroup===1&&E.push(E[E.length-1]+L),P.push(P[P.length-1]+L),n.virtualSize+=L}if(E.length===0&&(E=[0]),A!==0){const L=n.isHorizontal()&&u?"marginLeft":n.getDirectionLabel("marginRight");g.filter((V,$)=>!t.cssMode||t.loop?!0:$!==g.length-1).forEach(V=>{V.style[L]=`${A}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let L=0;S.forEach($=>{L+=$+(A||0)}),L-=A;const V=L>a?L-a:0;E=E.map($=>$<=0?-O:$>V?V+k:$)}if(t.centerInsufficientSlides){let L=0;S.forEach($=>{L+=$+(A||0)}),L-=A;const V=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(L+V<a){const $=(a-L-V)/2;E.forEach((N,ue)=>{E[ue]=N-$}),P.forEach((N,ue)=>{P[ue]=N+$})}}if(Object.assign(n,{slides:g,snapGrid:E,slidesGrid:P,slidesSizesGrid:S}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){Al(r,"--swiper-centered-offset-before",`${-E[0]}px`),Al(r,"--swiper-centered-offset-after",`${n.size/2-S[S.length-1]/2}px`);const L=-n.snapGrid[0],V=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map($=>$+L),n.slidesGrid=n.slidesGrid.map($=>$+V)}if(v!==p&&n.emit("slidesLengthChange"),E.length!==D&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),P.length!==R&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!f&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const L=`${t.containerModifierClass}backface-hidden`,V=n.el.classList.contains(L);v<=t.maxBackfaceHiddenSlides?V||n.el.classList.add(L):V&&n.el.classList.remove(L)}}function vk(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let s=0,a;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const u=d=>r?e.slides[e.getSlideIndexByData(d)]:e.slides[d];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(d=>{t.push(d)});else for(a=0;a<Math.ceil(e.params.slidesPerView);a+=1){const d=e.activeIndex+a;if(d>e.slides.length&&!r)break;t.push(u(d))}else t.push(u(e.activeIndex));for(a=0;a<t.length;a+=1)if(typeof t[a]<"u"){const d=t[a].offsetHeight;s=d>s?d:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function wk(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}const Iv=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function Ek(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:r,rtlTranslate:s,snapGrid:a}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let u=-n;s&&(u=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let d=t.spaceBetween;typeof d=="string"&&d.indexOf("%")>=0?d=parseFloat(d.replace("%",""))/100*e.size:typeof d=="string"&&(d=parseFloat(d));for(let f=0;f<r.length;f+=1){const p=r[f];let g=p.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(g-=r[0].swiperSlideOffset);const v=(u+(t.centeredSlides?e.minTranslate():0)-g)/(p.swiperSlideSize+d),E=(u-a[0]+(t.centeredSlides?e.minTranslate():0)-g)/(p.swiperSlideSize+d),P=-(u-g),S=P+e.slidesSizesGrid[f],O=P>=0&&P<=e.size-e.slidesSizesGrid[f],k=P>=0&&P<e.size-1||S>1&&S<=e.size||P<=0&&S>=e.size;k&&(e.visibleSlides.push(p),e.visibleSlidesIndexes.push(f)),Iv(p,k,t.slideVisibleClass),Iv(p,O,t.slideFullyVisibleClass),p.progress=s?-v:v,p.originalProgress=s?-E:E}}function Tk(n){const e=this;if(typeof n>"u"){const g=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*g||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:a,isEnd:u,progressLoop:d}=e;const f=a,p=u;if(r===0)s=0,a=!0,u=!0;else{s=(n-e.minTranslate())/r;const g=Math.abs(n-e.minTranslate())<1,v=Math.abs(n-e.maxTranslate())<1;a=g||s<=0,u=v||s>=1,g&&(s=0),v&&(s=1)}if(t.loop){const g=e.getSlideIndexByData(0),v=e.getSlideIndexByData(e.slides.length-1),E=e.slidesGrid[g],P=e.slidesGrid[v],S=e.slidesGrid[e.slidesGrid.length-1],O=Math.abs(n);O>=E?d=(O-E)/S:d=(O+S-P)/S,d>1&&(d-=1)}Object.assign(e,{progress:s,progressLoop:d,isBeginning:a,isEnd:u}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),a&&!f&&e.emit("reachBeginning toEdge"),u&&!p&&e.emit("reachEnd toEdge"),(f&&!a||p&&!u)&&e.emit("fromEdge"),e.emit("progress",s)}const ip=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function Sk(){const n=this,{slides:e,params:t,slidesEl:r,activeIndex:s}=n,a=n.virtual&&t.virtual.enabled,u=n.grid&&t.grid&&t.grid.rows>1,d=v=>sr(r,`.${t.slideClass}${v}, swiper-slide${v}`)[0];let f,p,g;if(a)if(t.loop){let v=s-n.virtual.slidesBefore;v<0&&(v=n.virtual.slides.length+v),v>=n.virtual.slides.length&&(v-=n.virtual.slides.length),f=d(`[data-swiper-slide-index="${v}"]`)}else f=d(`[data-swiper-slide-index="${s}"]`);else u?(f=e.find(v=>v.column===s),g=e.find(v=>v.column===s+1),p=e.find(v=>v.column===s-1)):f=e[s];f&&(u||(g=ck(f,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!g&&(g=e[0]),p=uk(f,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!p===0&&(p=e[e.length-1]))),e.forEach(v=>{ip(v,v===f,t.slideActiveClass),ip(v,v===g,t.slideNextClass),ip(v,v===p,t.slidePrevClass)}),n.emitSlidesClasses()}const Wc=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let s=r.querySelector(`.${n.params.lazyPreloaderClass}`);!s&&n.isElement&&(r.shadowRoot?s=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(s=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},sp=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},Vp=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),s=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const u=s,d=[u-e];d.push(...Array.from({length:e}).map((f,p)=>u+r+p)),n.slides.forEach((f,p)=>{d.includes(f.column)&&sp(n,p)});return}const a=s+r-1;if(n.params.rewind||n.params.loop)for(let u=s-e;u<=a+e;u+=1){const d=(u%t+t)%t;(d<s||d>a)&&sp(n,d)}else for(let u=Math.max(s-e,0);u<=Math.min(a+e,t-1);u+=1)u!==s&&(u>a||u<s)&&sp(n,u)};function Ik(n){const{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate;let s;for(let a=0;a<e.length;a+=1)typeof e[a+1]<"u"?r>=e[a]&&r<e[a+1]-(e[a+1]-e[a])/2?s=a:r>=e[a]&&r<e[a+1]&&(s=a+1):r>=e[a]&&(s=a);return t.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function Ck(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:s,activeIndex:a,realIndex:u,snapIndex:d}=e;let f=n,p;const g=P=>{let S=P-e.virtual.slidesBefore;return S<0&&(S=e.virtual.slides.length+S),S>=e.virtual.slides.length&&(S-=e.virtual.slides.length),S};if(typeof f>"u"&&(f=Ik(e)),r.indexOf(t)>=0)p=r.indexOf(t);else{const P=Math.min(s.slidesPerGroupSkip,f);p=P+Math.floor((f-P)/s.slidesPerGroup)}if(p>=r.length&&(p=r.length-1),f===a&&!e.params.loop){p!==d&&(e.snapIndex=p,e.emit("snapIndexChange"));return}if(f===a&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=g(f);return}const v=e.grid&&s.grid&&s.grid.rows>1;let E;if(e.virtual&&s.virtual.enabled&&s.loop)E=g(f);else if(v){const P=e.slides.find(O=>O.column===f);let S=parseInt(P.getAttribute("data-swiper-slide-index"),10);Number.isNaN(S)&&(S=Math.max(e.slides.indexOf(P),0)),E=Math.floor(S/s.grid.rows)}else if(e.slides[f]){const P=e.slides[f].getAttribute("data-swiper-slide-index");P?E=parseInt(P,10):E=f}else E=f;Object.assign(e,{previousSnapIndex:d,snapIndex:p,previousRealIndex:u,realIndex:E,previousIndex:a,activeIndex:f}),e.initialized&&Vp(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(u!==E&&e.emit("realIndexChange"),e.emit("slideChange"))}function Pk(n,e){const t=this,r=t.params;let s=n.closest(`.${r.slideClass}, swiper-slide`);!s&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(d=>{!s&&d.matches&&d.matches(`.${r.slideClass}, swiper-slide`)&&(s=d)});let a=!1,u;if(s){for(let d=0;d<t.slides.length;d+=1)if(t.slides[d]===s){a=!0,u=d;break}}if(s&&a)t.clickedSlide=s,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=u;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var xk={updateSize:yk,updateSlides:_k,updateAutoHeight:vk,updateSlidesOffset:wk,updateSlidesProgress:Ek,updateProgress:Tk,updateSlidesClasses:Sk,updateActiveIndex:Ck,updateClickedSlide:Pk};function Rk(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:r,translate:s,wrapperEl:a}=e;if(t.virtualTranslate)return r?-s:s;if(t.cssMode)return s;let u=sk(a,n);return u+=e.cssOverflowAdjustment(),r&&(u=-u),u||0}function Ak(n,e){const t=this,{rtlTranslate:r,params:s,wrapperEl:a,progress:u}=t;let d=0,f=0;const p=0;t.isHorizontal()?d=r?-n:n:f=n,s.roundLengths&&(d=Math.floor(d),f=Math.floor(f)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?d:f,s.cssMode?a[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-d:-f:s.virtualTranslate||(t.isHorizontal()?d-=t.cssOverflowAdjustment():f-=t.cssOverflowAdjustment(),a.style.transform=`translate3d(${d}px, ${f}px, ${p}px)`);let g;const v=t.maxTranslate()-t.minTranslate();v===0?g=0:g=(n-t.minTranslate())/v,g!==u&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function bk(){return-this.snapGrid[0]}function kk(){return-this.snapGrid[this.snapGrid.length-1]}function Nk(n,e,t,r,s){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=!0);const a=this,{params:u,wrapperEl:d}=a;if(a.animating&&u.preventInteractionOnTransition)return!1;const f=a.minTranslate(),p=a.maxTranslate();let g;if(r&&n>f?g=f:r&&n<p?g=p:g=n,a.updateProgress(g),u.cssMode){const v=a.isHorizontal();if(e===0)d[v?"scrollLeft":"scrollTop"]=-g;else{if(!a.support.smoothScroll)return XE({swiper:a,targetPosition:-g,side:v?"left":"top"}),!0;d.scrollTo({[v?"left":"top"]:-g,behavior:"smooth"})}return!0}return e===0?(a.setTransition(0),a.setTranslate(g),t&&(a.emit("beforeTransitionStart",e,s),a.emit("transitionEnd"))):(a.setTransition(e),a.setTranslate(g),t&&(a.emit("beforeTransitionStart",e,s),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(E){!a||a.destroyed||E.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,a.animating=!1,t&&a.emit("transitionEnd"))}),a.wrapperEl.addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd))),!0}var Ok={getTranslate:Rk,setTranslate:Ak,minTranslate:bk,maxTranslate:kk,translateTo:Nk};function Lk(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function nT(n){let{swiper:e,runCallbacks:t,direction:r,step:s}=n;const{activeIndex:a,previousIndex:u}=e;let d=r;if(d||(a>u?d="next":a<u?d="prev":d="reset"),e.emit(`transition${s}`),t&&a!==u){if(d==="reset"){e.emit(`slideResetTransition${s}`);return}e.emit(`slideChangeTransition${s}`),d==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`)}}function Dk(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),nT({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function Mk(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),nT({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var Vk={setTransition:Lk,transitionStart:Dk,transitionEnd:Mk};function jk(n,e,t,r,s){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const a=this;let u=n;u<0&&(u=0);const{params:d,snapGrid:f,slidesGrid:p,previousIndex:g,activeIndex:v,rtlTranslate:E,wrapperEl:P,enabled:S}=a;if(!S&&!r&&!s||a.destroyed||a.animating&&d.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=a.params.speed);const O=Math.min(a.params.slidesPerGroupSkip,u);let k=O+Math.floor((u-O)/a.params.slidesPerGroup);k>=f.length&&(k=f.length-1);const D=-f[k];if(d.normalizeSlideIndex)for(let M=0;M<p.length;M+=1){const I=-Math.floor(D*100),x=Math.floor(p[M]*100),L=Math.floor(p[M+1]*100);typeof p[M+1]<"u"?I>=x&&I<L-(L-x)/2?u=M:I>=x&&I<L&&(u=M+1):I>=x&&(u=M)}if(a.initialized&&u!==v&&(!a.allowSlideNext&&(E?D>a.translate&&D>a.minTranslate():D<a.translate&&D<a.minTranslate())||!a.allowSlidePrev&&D>a.translate&&D>a.maxTranslate()&&(v||0)!==u))return!1;u!==(g||0)&&t&&a.emit("beforeSlideChangeStart"),a.updateProgress(D);let R;u>v?R="next":u<v?R="prev":R="reset";const A=a.virtual&&a.params.virtual.enabled;if(!(A&&s)&&(E&&-D===a.translate||!E&&D===a.translate))return a.updateActiveIndex(u),d.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),d.effect!=="slide"&&a.setTranslate(D),R!=="reset"&&(a.transitionStart(t,R),a.transitionEnd(t,R)),!1;if(d.cssMode){const M=a.isHorizontal(),I=E?D:-D;if(e===0)A&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),A&&!a._cssModeVirtualInitialSet&&a.params.initialSlide>0?(a._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{P[M?"scrollLeft":"scrollTop"]=I})):P[M?"scrollLeft":"scrollTop"]=I,A&&requestAnimationFrame(()=>{a.wrapperEl.style.scrollSnapType="",a._immediateVirtual=!1});else{if(!a.support.smoothScroll)return XE({swiper:a,targetPosition:I,side:M?"left":"top"}),!0;P.scrollTo({[M?"left":"top"]:I,behavior:"smooth"})}return!0}const X=tT().isSafari;return A&&!s&&X&&a.isElement&&a.virtual.update(!1,!1,u),a.setTransition(e),a.setTranslate(D),a.updateActiveIndex(u),a.updateSlidesClasses(),a.emit("beforeTransitionStart",e,r),a.transitionStart(t,R),e===0?a.transitionEnd(t,R):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(I){!a||a.destroyed||I.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(t,R))}),a.wrapperEl.addEventListener("transitionend",a.onSlideToWrapperTransitionEnd)),!0}function Fk(n,e,t,r){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);const a=s.grid&&s.params.grid&&s.params.grid.rows>1;let u=n;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)u=u+s.virtual.slidesBefore;else{let d;if(a){const E=u*s.params.grid.rows;d=s.slides.find(P=>P.getAttribute("data-swiper-slide-index")*1===E).column}else d=s.getSlideIndexByData(u);const f=a?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:p}=s.params;let g=s.params.slidesPerView;g==="auto"?g=s.slidesPerViewDynamic():(g=Math.ceil(parseFloat(s.params.slidesPerView,10)),p&&g%2===0&&(g=g+1));let v=f-d<g;if(p&&(v=v||d<Math.ceil(g/2)),r&&p&&s.params.slidesPerView!=="auto"&&!a&&(v=!1),v){const E=p?d<s.activeIndex?"prev":"next":d-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:E,slideTo:!0,activeSlideIndex:E==="next"?d+1:d-f+1,slideRealIndex:E==="next"?s.realIndex:void 0})}if(a){const E=u*s.params.grid.rows;u=s.slides.find(P=>P.getAttribute("data-swiper-slide-index")*1===E).column}else u=s.getSlideIndexByData(u)}return requestAnimationFrame(()=>{s.slideTo(u,e,t,r)}),s}function $k(n,e,t){e===void 0&&(e=!0);const r=this,{enabled:s,params:a,animating:u}=r;if(!s||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let d=a.slidesPerGroup;a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(d=Math.max(r.slidesPerViewDynamic("current",!0),1));const f=r.activeIndex<a.slidesPerGroupSkip?1:d,p=r.virtual&&a.virtual.enabled;if(a.loop){if(u&&!p&&a.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&a.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+f,n,e,t)}),!0}return a.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+f,n,e,t)}function zk(n,e,t){e===void 0&&(e=!0);const r=this,{params:s,snapGrid:a,slidesGrid:u,rtlTranslate:d,enabled:f,animating:p}=r;if(!f||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);const g=r.virtual&&s.virtual.enabled;if(s.loop){if(p&&!g&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const v=d?r.translate:-r.translate;function E(R){return R<0?-Math.floor(Math.abs(R)):Math.floor(R)}const P=E(v),S=a.map(R=>E(R)),O=s.freeMode&&s.freeMode.enabled;let k=a[S.indexOf(P)-1];if(typeof k>"u"&&(s.cssMode||O)){let R;a.forEach((A,F)=>{P>=A&&(R=F)}),typeof R<"u"&&(k=O?a[R]:a[R>0?R-1:R])}let D=0;if(typeof k<"u"&&(D=u.indexOf(k),D<0&&(D=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(D=D-r.slidesPerViewDynamic("previous",!0)+1,D=Math.max(D,0))),s.rewind&&r.isBeginning){const R=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(R,n,e,t)}else if(s.loop&&r.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(D,n,e,t)}),!0;return r.slideTo(D,n,e,t)}function Uk(n,e,t){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof n>"u"&&(n=r.params.speed),r.slideTo(r.activeIndex,n,e,t)}function Bk(n,e,t,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const s=this;if(s.destroyed)return;typeof n>"u"&&(n=s.params.speed);let a=s.activeIndex;const u=Math.min(s.params.slidesPerGroupSkip,a),d=u+Math.floor((a-u)/s.params.slidesPerGroup),f=s.rtlTranslate?s.translate:-s.translate;if(f>=s.snapGrid[d]){const p=s.snapGrid[d],g=s.snapGrid[d+1];f-p>(g-p)*r&&(a+=s.params.slidesPerGroup)}else{const p=s.snapGrid[d-1],g=s.snapGrid[d];f-p<=(g-p)*r&&(a-=s.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,s.slidesGrid.length-1),s.slideTo(a,n,e,t)}function Hk(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let s=n.clickedIndex,a;const u=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;a=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s<n.loopedSlides-r/2||s>n.slides.length-n.loopedSlides+r/2?(n.loopFix(),s=n.getSlideIndex(sr(t,`${u}[data-swiper-slide-index="${a}"]`)[0]),Dp(()=>{n.slideTo(s)})):n.slideTo(s):s>n.slides.length-r?(n.loopFix(),s=n.getSlideIndex(sr(t,`${u}[data-swiper-slide-index="${a}"]`)[0]),Dp(()=>{n.slideTo(s)})):n.slideTo(s)}else n.slideTo(s)}var Wk={slideTo:jk,slideToLoop:Fk,slideNext:$k,slidePrev:zk,slideReset:Uk,slideToClosest:Bk,slideToClickedSlide:Hk};function Gk(n){const e=this,{params:t,slidesEl:r}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;const s=()=>{sr(r,`.${t.slideClass}, swiper-slide`).forEach((v,E)=>{v.setAttribute("data-swiper-slide-index",E)})},a=e.grid&&t.grid&&t.grid.rows>1,u=t.slidesPerGroup*(a?t.grid.rows:1),d=e.slides.length%u!==0,f=a&&e.slides.length%t.grid.rows!==0,p=g=>{for(let v=0;v<g;v+=1){const E=e.isElement?ia("swiper-slide",[t.slideBlankClass]):ia("div",[t.slideClass,t.slideBlankClass]);e.slidesEl.append(E)}};if(d){if(t.loopAddBlankSlides){const g=u-e.slides.length%u;p(g),e.recalcSlides(),e.updateSlides()}else gd("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(f){if(t.loopAddBlankSlides){const g=t.grid.rows-e.slides.length%t.grid.rows;p(g),e.recalcSlides(),e.updateSlides()}else gd("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();e.loopFix({slideRealIndex:n,direction:t.centeredSlides?void 0:"next"})}function qk(n){let{slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:s,activeSlideIndex:a,byController:u,byMousewheel:d}=n===void 0?{}:n;const f=this;if(!f.params.loop)return;f.emit("beforeLoopFix");const{slides:p,allowSlidePrev:g,allowSlideNext:v,slidesEl:E,params:P}=f,{centeredSlides:S}=P;if(f.allowSlidePrev=!0,f.allowSlideNext=!0,f.virtual&&P.virtual.enabled){t&&(!P.centeredSlides&&f.snapIndex===0?f.slideTo(f.virtual.slides.length,0,!1,!0):P.centeredSlides&&f.snapIndex<P.slidesPerView?f.slideTo(f.virtual.slides.length+f.snapIndex,0,!1,!0):f.snapIndex===f.snapGrid.length-1&&f.slideTo(f.virtual.slidesBefore,0,!1,!0)),f.allowSlidePrev=g,f.allowSlideNext=v,f.emit("loopFix");return}let O=P.slidesPerView;O==="auto"?O=f.slidesPerViewDynamic():(O=Math.ceil(parseFloat(P.slidesPerView,10)),S&&O%2===0&&(O=O+1));const k=P.slidesPerGroupAuto?O:P.slidesPerGroup;let D=k;D%k!==0&&(D+=k-D%k),D+=P.loopAdditionalSlides,f.loopedSlides=D;const R=f.grid&&P.grid&&P.grid.rows>1;p.length<O+D?gd("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):R&&P.grid.fill==="row"&&gd("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const A=[],F=[];let H=f.activeIndex;typeof a>"u"?a=f.getSlideIndex(p.find(N=>N.classList.contains(P.slideActiveClass))):H=a;const X=r==="next"||!r,M=r==="prev"||!r;let I=0,x=0;const L=R?Math.ceil(p.length/P.grid.rows):p.length,$=(R?p[a].column:a)+(S&&typeof s>"u"?-O/2+.5:0);if($<D){I=Math.max(D-$,k);for(let N=0;N<D-$;N+=1){const ue=N-Math.floor(N/L)*L;if(R){const _e=L-ue-1;for(let ve=p.length-1;ve>=0;ve-=1)p[ve].column===_e&&A.push(ve)}else A.push(L-ue-1)}}else if($+O>L-D){x=Math.max($-(L-D*2),k);for(let N=0;N<x;N+=1){const ue=N-Math.floor(N/L)*L;R?p.forEach((_e,ve)=>{_e.column===ue&&F.push(ve)}):F.push(ue)}}if(f.__preventObserver__=!0,requestAnimationFrame(()=>{f.__preventObserver__=!1}),M&&A.forEach(N=>{p[N].swiperLoopMoveDOM=!0,E.prepend(p[N]),p[N].swiperLoopMoveDOM=!1}),X&&F.forEach(N=>{p[N].swiperLoopMoveDOM=!0,E.append(p[N]),p[N].swiperLoopMoveDOM=!1}),f.recalcSlides(),P.slidesPerView==="auto"?f.updateSlides():R&&(A.length>0&&M||F.length>0&&X)&&f.slides.forEach((N,ue)=>{f.grid.updateSlide(ue,N,f.slides)}),P.watchSlidesProgress&&f.updateSlidesOffset(),t){if(A.length>0&&M){if(typeof e>"u"){const N=f.slidesGrid[H],_e=f.slidesGrid[H+I]-N;d?f.setTranslate(f.translate-_e):(f.slideTo(H+Math.ceil(I),0,!1,!0),s&&(f.touchEventsData.startTranslate=f.touchEventsData.startTranslate-_e,f.touchEventsData.currentTranslate=f.touchEventsData.currentTranslate-_e))}else if(s){const N=R?A.length/P.grid.rows:A.length;f.slideTo(f.activeIndex+N,0,!1,!0),f.touchEventsData.currentTranslate=f.translate}}else if(F.length>0&&X)if(typeof e>"u"){const N=f.slidesGrid[H],_e=f.slidesGrid[H-x]-N;d?f.setTranslate(f.translate-_e):(f.slideTo(H-x,0,!1,!0),s&&(f.touchEventsData.startTranslate=f.touchEventsData.startTranslate-_e,f.touchEventsData.currentTranslate=f.touchEventsData.currentTranslate-_e))}else{const N=R?F.length/P.grid.rows:F.length;f.slideTo(f.activeIndex-N,0,!1,!0)}}if(f.allowSlidePrev=g,f.allowSlideNext=v,f.controller&&f.controller.control&&!u){const N={slideRealIndex:e,direction:r,setTranslate:s,activeSlideIndex:a,byController:!0};Array.isArray(f.controller.control)?f.controller.control.forEach(ue=>{!ue.destroyed&&ue.params.loop&&ue.loopFix({...N,slideTo:ue.params.slidesPerView===P.slidesPerView?t:!1})}):f.controller.control instanceof f.constructor&&f.controller.control.params.loop&&f.controller.control.loopFix({...N,slideTo:f.controller.control.params.slidesPerView===P.slidesPerView?t:!1})}f.emit("loopFix")}function Kk(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const r=[];n.slides.forEach(s=>{const a=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;r[a]=s}),n.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),r.forEach(s=>{t.append(s)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var Qk={loopCreate:Gk,loopFix:qk,loopDestroy:Kk};function Yk(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Xk(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var Jk={setGrabCursor:Yk,unsetGrabCursor:Xk};function Zk(n,e){e===void 0&&(e=this);function t(r){if(!r||r===rs()||r===Zt())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(n);return!s&&!r.getRootNode?null:s||t(r.getRootNode().host)}return t(e)}function Cv(n,e,t){const r=Zt(),{params:s}=n,a=s.edgeSwipeDetection,u=s.edgeSwipeThreshold;return a&&(t<=u||t>=r.innerWidth-u)?a==="prevent"?(e.preventDefault(),!0):!1:!0}function e2(n){const e=this,t=rs();let r=n;r.originalEvent&&(r=r.originalEvent);const s=e.touchEventsData;if(r.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(s.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){Cv(e,r,r.targetTouches[0].pageX);return}const{params:a,touches:u,enabled:d}=e;if(!d||!a.simulateTouch&&r.pointerType==="mouse"||e.animating&&a.preventInteractionOnTransition)return;!e.animating&&a.cssMode&&a.loop&&e.loopFix();let f=r.target;if(a.touchEventsTarget==="wrapper"&&!lk(f,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||s.isTouched&&s.isMoved)return;const p=!!a.noSwipingClass&&a.noSwipingClass!=="",g=r.composedPath?r.composedPath():r.path;p&&r.target&&r.target.shadowRoot&&g&&(f=g[0]);const v=a.noSwipingSelector?a.noSwipingSelector:`.${a.noSwipingClass}`,E=!!(r.target&&r.target.shadowRoot);if(a.noSwiping&&(E?Zk(v,f):f.closest(v))){e.allowClick=!0;return}if(a.swipeHandler&&!f.closest(a.swipeHandler))return;u.currentX=r.pageX,u.currentY=r.pageY;const P=u.currentX,S=u.currentY;if(!Cv(e,r,P))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),u.startX=P,u.startY=S,s.touchStartTime=md(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,a.threshold>0&&(s.allowThresholdMove=!1);let O=!0;f.matches(s.focusableElements)&&(O=!1,f.nodeName==="SELECT"&&(s.isTouched=!1)),t.activeElement&&t.activeElement.matches(s.focusableElements)&&t.activeElement!==f&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!f.matches(s.focusableElements))&&t.activeElement.blur();const k=O&&e.allowTouchMove&&a.touchStartPreventDefault;(a.touchStartForcePreventDefault||k)&&!f.isContentEditable&&r.preventDefault(),a.freeMode&&a.freeMode.enabled&&e.freeMode&&e.animating&&!a.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function t2(n){const e=rs(),t=this,r=t.touchEventsData,{params:s,touches:a,rtlTranslate:u,enabled:d}=t;if(!d||!s.simulateTouch&&n.pointerType==="mouse")return;let f=n;if(f.originalEvent&&(f=f.originalEvent),f.type==="pointermove"&&(r.touchId!==null||f.pointerId!==r.pointerId))return;let p;if(f.type==="touchmove"){if(p=[...f.changedTouches].find(H=>H.identifier===r.touchId),!p||p.identifier!==r.touchId)return}else p=f;if(!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",f);return}const g=p.pageX,v=p.pageY;if(f.preventedByNestedSwiper){a.startX=g,a.startY=v;return}if(!t.allowTouchMove){f.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(a,{startX:g,startY:v,currentX:g,currentY:v}),r.touchStartTime=md());return}if(s.touchReleaseOnEdges&&!s.loop){if(t.isVertical()){if(v<a.startY&&t.translate<=t.maxTranslate()||v>a.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(g<a.startX&&t.translate<=t.maxTranslate()||g>a.startX&&t.translate>=t.minTranslate())return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==f.target&&f.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&f.target===e.activeElement&&f.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}r.allowTouchCallbacks&&t.emit("touchMove",f),a.previousX=a.currentX,a.previousY=a.currentY,a.currentX=g,a.currentY=v;const E=a.currentX-a.startX,P=a.currentY-a.startY;if(t.params.threshold&&Math.sqrt(E**2+P**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let H;t.isHorizontal()&&a.currentY===a.startY||t.isVertical()&&a.currentX===a.startX?r.isScrolling=!1:E*E+P*P>=25&&(H=Math.atan2(Math.abs(P),Math.abs(E))*180/Math.PI,r.isScrolling=t.isHorizontal()?H>s.touchAngle:90-H>s.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",f),typeof r.startMoving>"u"&&(a.currentX!==a.startX||a.currentY!==a.startY)&&(r.startMoving=!0),r.isScrolling||f.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!s.cssMode&&f.cancelable&&f.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&f.stopPropagation();let S=t.isHorizontal()?E:P,O=t.isHorizontal()?a.currentX-a.previousX:a.currentY-a.previousY;s.oneWayMovement&&(S=Math.abs(S)*(u?1:-1),O=Math.abs(O)*(u?1:-1)),a.diff=S,S*=s.touchRatio,u&&(S=-S,O=-O);const k=t.touchesDirection;t.swipeDirection=S>0?"prev":"next",t.touchesDirection=O>0?"prev":"next";const D=t.params.loop&&!s.cssMode,R=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(D&&R&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const H=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(H)}r.allowMomentumBounce=!1,s.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",f)}if(new Date().getTime(),s._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&k!==t.touchesDirection&&D&&R&&Math.abs(S)>=1){Object.assign(a,{startX:g,startY:v,currentX:g,currentY:v,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}t.emit("sliderMove",f),r.isMoved=!0,r.currentTranslate=S+r.startTranslate;let A=!0,F=s.resistanceRatio;if(s.touchReleaseOnEdges&&(F=0),S>0?(D&&R&&r.allowThresholdMove&&r.currentTranslate>(s.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(A=!1,s.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+S)**F))):S<0&&(D&&R&&r.allowThresholdMove&&r.currentTranslate<(s.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(s.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(A=!1,s.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-S)**F))),A&&(f.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(S)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,r.currentTranslate=r.startTranslate,a.diff=t.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&t.freeMode||s.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function n2(n){const e=this,t=e.touchEventsData;let r=n;r.originalEvent&&(r=r.originalEvent);let s;if(r.type==="touchend"||r.type==="touchcancel"){if(s=[...r.changedTouches].find(H=>H.identifier===t.touchId),!s||s.identifier!==t.touchId)return}else{if(t.touchId!==null||r.pointerId!==t.pointerId)return;s=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:u,touches:d,rtlTranslate:f,slidesGrid:p,enabled:g}=e;if(!g||!u.simulateTouch&&r.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",r),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&u.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}u.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const v=md(),E=v-t.touchStartTime;if(e.allowClick){const H=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(H&&H[0]||r.target,H),e.emit("tap click",r),E<300&&v-t.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(t.lastClickTime=md(),Dp(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||d.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let P;if(u.followFinger?P=f?e.translate:-e.translate:P=-t.currentTranslate,u.cssMode)return;if(u.freeMode&&u.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:P});return}const S=P>=-e.maxTranslate()&&!e.params.loop;let O=0,k=e.slidesSizesGrid[0];for(let H=0;H<p.length;H+=H<u.slidesPerGroupSkip?1:u.slidesPerGroup){const X=H<u.slidesPerGroupSkip-1?1:u.slidesPerGroup;typeof p[H+X]<"u"?(S||P>=p[H]&&P<p[H+X])&&(O=H,k=p[H+X]-p[H]):(S||P>=p[H])&&(O=H,k=p[p.length-1]-p[p.length-2])}let D=null,R=null;u.rewind&&(e.isBeginning?R=u.virtual&&u.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(D=0));const A=(P-p[O])/k,F=O<u.slidesPerGroupSkip-1?1:u.slidesPerGroup;if(E>u.longSwipesMs){if(!u.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(A>=u.longSwipesRatio?e.slideTo(u.rewind&&e.isEnd?D:O+F):e.slideTo(O)),e.swipeDirection==="prev"&&(A>1-u.longSwipesRatio?e.slideTo(O+F):R!==null&&A<0&&Math.abs(A)>u.longSwipesRatio?e.slideTo(R):e.slideTo(O))}else{if(!u.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(O+F):e.slideTo(O):(e.swipeDirection==="next"&&e.slideTo(D!==null?D:O+F),e.swipeDirection==="prev"&&e.slideTo(R!==null?R:O))}}function Pv(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:a}=n,u=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const d=u&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!d?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!u?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=s,n.allowSlideNext=r,n.params.watchOverflow&&a!==n.snapGrid&&n.checkOverflow()}function r2(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function i2(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let s;const a=n.maxTranslate()-n.minTranslate();a===0?s=0:s=(n.translate-n.minTranslate())/a,s!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function s2(n){const e=this;Wc(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function o2(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const rT=(n,e)=>{const t=rs(),{params:r,el:s,wrapperEl:a,device:u}=n,d=!!r.nested,f=e==="on"?"addEventListener":"removeEventListener",p=e;!s||typeof s=="string"||(t[f]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:d}),s[f]("touchstart",n.onTouchStart,{passive:!1}),s[f]("pointerdown",n.onTouchStart,{passive:!1}),t[f]("touchmove",n.onTouchMove,{passive:!1,capture:d}),t[f]("pointermove",n.onTouchMove,{passive:!1,capture:d}),t[f]("touchend",n.onTouchEnd,{passive:!0}),t[f]("pointerup",n.onTouchEnd,{passive:!0}),t[f]("pointercancel",n.onTouchEnd,{passive:!0}),t[f]("touchcancel",n.onTouchEnd,{passive:!0}),t[f]("pointerout",n.onTouchEnd,{passive:!0}),t[f]("pointerleave",n.onTouchEnd,{passive:!0}),t[f]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[f]("click",n.onClick,!0),r.cssMode&&a[f]("scroll",n.onScroll),r.updateOnWindowResize?n[p](u.ios||u.android?"resize orientationchange observerUpdate":"resize observerUpdate",Pv,!0):n[p]("observerUpdate",Pv,!0),s[f]("load",n.onLoad,{capture:!0}))};function a2(){const n=this,{params:e}=n;n.onTouchStart=e2.bind(n),n.onTouchMove=t2.bind(n),n.onTouchEnd=n2.bind(n),n.onDocumentTouchStart=o2.bind(n),e.cssMode&&(n.onScroll=i2.bind(n)),n.onClick=r2.bind(n),n.onLoad=s2.bind(n),rT(n,"on")}function l2(){rT(this,"off")}var u2={attachEvents:a2,detachEvents:l2};const xv=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function c2(){const n=this,{realIndex:e,initialized:t,params:r,el:s}=n,a=r.breakpoints;if(!a||a&&Object.keys(a).length===0)return;const u=rs(),d=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",f=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?n.el:u.querySelector(r.breakpointsBase),p=n.getBreakpoint(a,d,f);if(!p||n.currentBreakpoint===p)return;const v=(p in a?a[p]:void 0)||n.originalParams,E=xv(n,r),P=xv(n,v),S=n.params.grabCursor,O=v.grabCursor,k=r.enabled;E&&!P?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!E&&P&&(s.classList.add(`${r.containerModifierClass}grid`),(v.grid.fill&&v.grid.fill==="column"||!v.grid.fill&&r.grid.fill==="column")&&s.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),S&&!O?n.unsetGrabCursor():!S&&O&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(X=>{if(typeof v[X]>"u")return;const M=r[X]&&r[X].enabled,I=v[X]&&v[X].enabled;M&&!I&&n[X].disable(),!M&&I&&n[X].enable()});const D=v.direction&&v.direction!==r.direction,R=r.loop&&(v.slidesPerView!==r.slidesPerView||D),A=r.loop;D&&t&&n.changeDirection(),vn(n.params,v);const F=n.params.enabled,H=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),k&&!F?n.disable():!k&&F&&n.enable(),n.currentBreakpoint=p,n.emit("_beforeBreakpoint",v),t&&(R?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!A&&H?(n.loopCreate(e),n.updateSlides()):A&&!H&&n.loopDestroy()),n.emit("breakpoint",v)}function d2(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let r=!1;const s=Zt(),a=e==="window"?s.innerHeight:t.clientHeight,u=Object.keys(n).map(d=>{if(typeof d=="string"&&d.indexOf("@")===0){const f=parseFloat(d.substr(1));return{value:a*f,point:d}}return{value:d,point:d}});u.sort((d,f)=>parseInt(d.value,10)-parseInt(f.value,10));for(let d=0;d<u.length;d+=1){const{point:f,value:p}=u[d];e==="window"?s.matchMedia(`(min-width: ${p}px)`).matches&&(r=f):p<=t.clientWidth&&(r=f)}return r||"max"}var f2={setBreakpoint:c2,getBreakpoint:d2};function h2(n,e){const t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&t.push(e+s)}):typeof r=="string"&&t.push(e+r)}),t}function p2(){const n=this,{classNames:e,params:t,rtl:r,el:s,device:a}=n,u=h2(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:a.android},{ios:a.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...u),s.classList.add(...e),n.emitContainerClasses()}function m2(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var g2={addClasses:p2,removeClasses:m2};function y2(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const s=n.slides.length-1,a=n.slidesGrid[s]+n.slidesSizesGrid[s]+r*2;n.isLocked=n.size>a}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var _2={checkOverflow:y2},jp={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function v2(n,e){return function(r){r===void 0&&(r={});const s=Object.keys(r)[0],a=r[s];if(typeof a!="object"||a===null){vn(e,r);return}if(n[s]===!0&&(n[s]={enabled:!0}),s==="navigation"&&n[s]&&n[s].enabled&&!n[s].prevEl&&!n[s].nextEl&&(n[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&n[s]&&n[s].enabled&&!n[s].el&&(n[s].auto=!0),!(s in n&&"enabled"in a)){vn(e,r);return}typeof n[s]=="object"&&!("enabled"in n[s])&&(n[s].enabled=!0),n[s]||(n[s]={enabled:!1}),vn(e,r)}}const op={eventsEmitter:gk,update:xk,translate:Ok,transition:Vk,slide:Wk,loop:Qk,grabCursor:Jk,events:u2,breakpoints:f2,checkOverflow:_2,classes:g2},ap={};let km=class Yr{constructor(){let e,t;for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?t=s[0]:[e,t]=s,t||(t={}),t=vn({},t),e&&!t.el&&(t.el=e);const u=rs();if(t.el&&typeof t.el=="string"&&u.querySelectorAll(t.el).length>1){const g=[];return u.querySelectorAll(t.el).forEach(v=>{const E=vn({},t,{el:v});g.push(new Yr(E))}),g}const d=this;d.__swiper__=!0,d.support=ZE(),d.device=eT({userAgent:t.userAgent}),d.browser=tT(),d.eventsListeners={},d.eventsAnyListeners=[],d.modules=[...d.__modules__],t.modules&&Array.isArray(t.modules)&&d.modules.push(...t.modules);const f={};d.modules.forEach(g=>{g({params:t,swiper:d,extendParams:v2(t,f),on:d.on.bind(d),once:d.once.bind(d),off:d.off.bind(d),emit:d.emit.bind(d)})});const p=vn({},jp,f);return d.params=vn({},p,ap,t),d.originalParams=vn({},d.params),d.passedParams=vn({},t),d.params&&d.params.on&&Object.keys(d.params.on).forEach(g=>{d.on(g,d.params.on[g])}),d.params&&d.params.onAny&&d.onAny(d.params.onAny),Object.assign(d,{enabled:d.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return d.params.direction==="horizontal"},isVertical(){return d.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:d.params.allowSlideNext,allowSlidePrev:d.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:d.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:d.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),d.emit("_swiper"),d.params.init&&d.init(),d}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:r}=this,s=sr(t,`.${r.slideClass}, swiper-slide`),a=yd(s[0]);return yd(e)-a}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:t,params:r}=e;e.slides=sr(t,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),u=(r.maxTranslate()-s)*e+s;r.translateTo(u,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const s=e.getSlideClasses(r);t.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const r=this,{params:s,slides:a,slidesGrid:u,slidesSizesGrid:d,size:f,activeIndex:p}=r;let g=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let v=a[p]?Math.ceil(a[p].swiperSlideSize):0,E;for(let P=p+1;P<a.length;P+=1)a[P]&&!E&&(v+=Math.ceil(a[P].swiperSlideSize),g+=1,v>f&&(E=!0));for(let P=p-1;P>=0;P-=1)a[P]&&!E&&(v+=a[P].swiperSlideSize,g+=1,v>f&&(E=!0))}else if(e==="current")for(let v=p+1;v<a.length;v+=1)(t?u[v]+d[v]-u[p]<f:u[v]-u[p]<f)&&(g+=1);else for(let v=p-1;v>=0;v-=1)u[p]-u[v]<f&&(g+=1);return g}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(u=>{u.complete&&Wc(e,u)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const u=e.rtlTranslate?e.translate*-1:e.translate,d=Math.min(Math.max(u,e.maxTranslate()),e.minTranslate());e.setTranslate(d),e.updateActiveIndex(),e.updateSlidesClasses()}let a;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)s(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const u=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;a=e.slideTo(u.length-1,0,!1,!0)}else a=e.slideTo(e.activeIndex,0,!1,!0);a||s()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(a=>{e==="vertical"?a.style.width="":a.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const s=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let u=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(s()):sr(r,s())[0];return!u&&t.params.createElements&&(u=ia("div",t.params.wrapperClass),r.append(u),sr(r,`.${t.params.slideClass}`).forEach(d=>{u.append(d)})),Object.assign(t,{el:r,wrapperEl:u,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:u,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Ui(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Ui(r,"direction")==="rtl"),wrongRTL:Ui(u,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();const s=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&s.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(a=>{a.complete?Wc(t,a):a.addEventListener("load",u=>{Wc(t,u.target)})}),Vp(t),t.initialized=!0,Vp(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const r=this,{params:s,el:a,wrapperEl:u,slides:d}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),t&&(r.removeClasses(),a&&typeof a!="string"&&a.removeAttribute("style"),u&&u.removeAttribute("style"),d&&d.length&&d.forEach(f=>{f.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),f.removeAttribute("style"),f.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(f=>{r.off(f)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),rk(r)),r.destroyed=!0),null}static extendDefaults(e){vn(ap,e)}static get extendedDefaults(){return ap}static get defaults(){return jp}static installModule(e){Yr.prototype.__modules__||(Yr.prototype.__modules__=[]);const t=Yr.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>Yr.installModule(t)),Yr):(Yr.installModule(e),Yr)}};Object.keys(op).forEach(n=>{Object.keys(op[n]).forEach(e=>{km.prototype[e]=op[n][e]})});km.use([pk,mk]);const iT=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Us(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function Xo(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:Us(e[r])&&Us(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:Xo(n[r],e[r]):n[r]=e[r]})}function sT(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function oT(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function aT(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function lT(n){n===void 0&&(n="");const e=n.split(" ").map(r=>r.trim()).filter(r=>!!r),t=[];return e.forEach(r=>{t.indexOf(r)<0&&t.push(r)}),t.join(" ")}function w2(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function E2(n){let{swiper:e,slides:t,passedParams:r,changedParams:s,nextEl:a,prevEl:u,scrollbarEl:d,paginationEl:f}=n;const p=s.filter(x=>x!=="children"&&x!=="direction"&&x!=="wrapperClass"),{params:g,pagination:v,navigation:E,scrollbar:P,virtual:S,thumbs:O}=e;let k,D,R,A,F,H,X,M;s.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&g.thumbs&&(!g.thumbs.swiper||g.thumbs.swiper.destroyed)&&(k=!0),s.includes("controller")&&r.controller&&r.controller.control&&g.controller&&!g.controller.control&&(D=!0),s.includes("pagination")&&r.pagination&&(r.pagination.el||f)&&(g.pagination||g.pagination===!1)&&v&&!v.el&&(R=!0),s.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||d)&&(g.scrollbar||g.scrollbar===!1)&&P&&!P.el&&(A=!0),s.includes("navigation")&&r.navigation&&(r.navigation.prevEl||u)&&(r.navigation.nextEl||a)&&(g.navigation||g.navigation===!1)&&E&&!E.prevEl&&!E.nextEl&&(F=!0);const I=x=>{e[x]&&(e[x].destroy(),x==="navigation"?(e.isElement&&(e[x].prevEl.remove(),e[x].nextEl.remove()),g[x].prevEl=void 0,g[x].nextEl=void 0,e[x].prevEl=void 0,e[x].nextEl=void 0):(e.isElement&&e[x].el.remove(),g[x].el=void 0,e[x].el=void 0))};s.includes("loop")&&e.isElement&&(g.loop&&!r.loop?H=!0:!g.loop&&r.loop?X=!0:M=!0),p.forEach(x=>{if(Us(g[x])&&Us(r[x]))Object.assign(g[x],r[x]),(x==="navigation"||x==="pagination"||x==="scrollbar")&&"enabled"in r[x]&&!r[x].enabled&&I(x);else{const L=r[x];(L===!0||L===!1)&&(x==="navigation"||x==="pagination"||x==="scrollbar")?L===!1&&I(x):g[x]=r[x]}}),p.includes("controller")&&!D&&e.controller&&e.controller.control&&g.controller&&g.controller.control&&(e.controller.control=g.controller.control),s.includes("children")&&t&&S&&g.virtual.enabled?(S.slides=t,S.update(!0)):s.includes("virtual")&&S&&g.virtual.enabled&&(t&&(S.slides=t),S.update(!0)),s.includes("children")&&t&&g.loop&&(M=!0),k&&O.init()&&O.update(!0),D&&(e.controller.control=g.controller.control),R&&(e.isElement&&(!f||typeof f=="string")&&(f=document.createElement("div"),f.classList.add("swiper-pagination"),f.part.add("pagination"),e.el.appendChild(f)),f&&(g.pagination.el=f),v.init(),v.render(),v.update()),A&&(e.isElement&&(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-scrollbar"),d.part.add("scrollbar"),e.el.appendChild(d)),d&&(g.scrollbar.el=d),P.init(),P.updateSize(),P.setTranslate()),F&&(e.isElement&&((!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-next"),a.innerHTML=e.hostEl.constructor.nextButtonSvg,a.part.add("button-next"),e.el.appendChild(a)),(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-button-prev"),u.innerHTML=e.hostEl.constructor.prevButtonSvg,u.part.add("button-prev"),e.el.appendChild(u))),a&&(g.navigation.nextEl=a),u&&(g.navigation.prevEl=u),E.init(),E.update()),s.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),s.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),s.includes("direction")&&e.changeDirection(r.direction,!1),(H||M)&&e.loopDestroy(),(X||M)&&e.loopCreate(),e.update()}function T2(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},r={},s={};Xo(t,jp),t._emitClasses=!0,t.init=!1;const a={},u=iT.map(f=>f.replace(/_/,"")),d=Object.assign({},n);return Object.keys(d).forEach(f=>{typeof n[f]>"u"||(u.indexOf(f)>=0?Us(n[f])?(t[f]={},s[f]={},Xo(t[f],n[f]),Xo(s[f],n[f])):(t[f]=n[f],s[f]=n[f]):f.search(/on[A-Z]/)===0&&typeof n[f]=="function"?e?r[`${f[2].toLowerCase()}${f.substr(3)}`]=n[f]:t.on[`${f[2].toLowerCase()}${f.substr(3)}`]=n[f]:a[f]=n[f])}),["navigation","pagination","scrollbar"].forEach(f=>{t[f]===!0&&(t[f]={}),t[f]===!1&&delete t[f]}),{params:t,passedParams:s,rest:a,events:r}}function S2(n,e){let{el:t,nextEl:r,prevEl:s,paginationEl:a,scrollbarEl:u,swiper:d}=n;sT(e)&&r&&s&&(d.params.navigation.nextEl=r,d.originalParams.navigation.nextEl=r,d.params.navigation.prevEl=s,d.originalParams.navigation.prevEl=s),oT(e)&&a&&(d.params.pagination.el=a,d.originalParams.pagination.el=a),aT(e)&&u&&(d.params.scrollbar.el=u,d.originalParams.scrollbar.el=u),d.init(t)}function I2(n,e,t,r,s){const a=[];if(!e)return a;const u=f=>{a.indexOf(f)<0&&a.push(f)};if(t&&r){const f=r.map(s),p=t.map(s);f.join("")!==p.join("")&&u("children"),r.length!==t.length&&u("children")}return iT.filter(f=>f[0]==="_").map(f=>f.replace(/_/,"")).forEach(f=>{if(f in n&&f in e)if(Us(n[f])&&Us(e[f])){const p=Object.keys(n[f]),g=Object.keys(e[f]);p.length!==g.length?u(f):(p.forEach(v=>{n[f][v]!==e[f][v]&&u(f)}),g.forEach(v=>{n[f][v]!==e[f][v]&&u(f)}))}else n[f]!==e[f]&&u(f)}),a}const C2=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function _d(){return _d=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_d.apply(this,arguments)}function uT(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function cT(n){const e=[];return Be.Children.toArray(n).forEach(t=>{uT(t)?e.push(t):t.props&&t.props.children&&cT(t.props.children).forEach(r=>e.push(r))}),e}function P2(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Be.Children.toArray(n).forEach(r=>{if(uT(r))e.push(r);else if(r.props&&r.props.slot&&t[r.props.slot])t[r.props.slot].push(r);else if(r.props&&r.props.children){const s=cT(r.props.children);s.length>0?s.forEach(a=>e.push(a)):t["container-end"].push(r)}else t["container-end"].push(r)}),{slides:e,slots:t}}function x2(n,e,t){if(!t)return null;const r=g=>{let v=g;return g<0?v=e.length+g:v>=e.length&&(v=v-e.length),v},s=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:a,to:u}=t,d=n.params.loop?-e.length:0,f=n.params.loop?e.length*2:e.length,p=[];for(let g=d;g<f;g+=1)g>=a&&g<=u&&p.push(e[r(g)]);return p.map((g,v)=>Be.cloneElement(g,{swiper:n,style:s,key:g.props.virtualIndex||g.key||`slide-${v}`}))}function Dl(n,e){return typeof window>"u"?U.useEffect(n,e):U.useLayoutEffect(n,e)}const Rv=U.createContext(null),R2=U.createContext(null),Nm=U.forwardRef(function(n,e){let{className:t,tag:r="div",wrapperTag:s="div",children:a,onSwiper:u,...d}=n===void 0?{}:n,f=!1;const[p,g]=U.useState("swiper"),[v,E]=U.useState(null),[P,S]=U.useState(!1),O=U.useRef(!1),k=U.useRef(null),D=U.useRef(null),R=U.useRef(null),A=U.useRef(null),F=U.useRef(null),H=U.useRef(null),X=U.useRef(null),M=U.useRef(null),{params:I,passedParams:x,rest:L,events:V}=T2(d),{slides:$,slots:N}=P2(a),ue=()=>{S(!P)};Object.assign(I.on,{_containerClasses(le,oe){g(oe)}});const _e=()=>{Object.assign(I.on,V),f=!0;const le={...I};if(delete le.wrapperClass,D.current=new km(le),D.current.virtual&&D.current.params.virtual.enabled){D.current.virtual.slides=$;const oe={cache:!1,slides:$,renderExternal:E,renderExternalUpdate:!1};Xo(D.current.params.virtual,oe),Xo(D.current.originalParams.virtual,oe)}};k.current||_e(),D.current&&D.current.on("_beforeBreakpoint",ue);const ve=()=>{f||!V||!D.current||Object.keys(V).forEach(le=>{D.current.on(le,V[le])})},Pe=()=>{!V||!D.current||Object.keys(V).forEach(le=>{D.current.off(le,V[le])})};U.useEffect(()=>()=>{D.current&&D.current.off("_beforeBreakpoint",ue)}),U.useEffect(()=>{!O.current&&D.current&&(D.current.emitSlidesClasses(),O.current=!0)}),Dl(()=>{if(e&&(e.current=k.current),!!k.current)return D.current.destroyed&&_e(),S2({el:k.current,nextEl:F.current,prevEl:H.current,paginationEl:X.current,scrollbarEl:M.current,swiper:D.current},I),u&&!D.current.destroyed&&u(D.current),()=>{D.current&&!D.current.destroyed&&D.current.destroy(!0,!1)}},[]),Dl(()=>{ve();const le=I2(x,R.current,$,A.current,oe=>oe.key);return R.current=x,A.current=$,le.length&&D.current&&!D.current.destroyed&&E2({swiper:D.current,slides:$,passedParams:x,changedParams:le,nextEl:F.current,prevEl:H.current,scrollbarEl:M.current,paginationEl:X.current}),()=>{Pe()}}),Dl(()=>{C2(D.current)},[v]);function re(){return I.virtual?x2(D.current,$,v):$.map((le,oe)=>Be.cloneElement(le,{swiper:D.current,swiperSlideIndex:oe}))}return Be.createElement(r,_d({ref:k,className:lT(`${p}${t?` ${t}`:""}`)},L),Be.createElement(R2.Provider,{value:D.current},N["container-start"],Be.createElement(s,{className:w2(I.wrapperClass)},N["wrapper-start"],re(),N["wrapper-end"]),sT(I)&&Be.createElement(Be.Fragment,null,Be.createElement("div",{ref:H,className:"swiper-button-prev"}),Be.createElement("div",{ref:F,className:"swiper-button-next"})),aT(I)&&Be.createElement("div",{ref:M,className:"swiper-scrollbar"}),oT(I)&&Be.createElement("div",{ref:X,className:"swiper-pagination"}),N["container-end"]))});Nm.displayName="Swiper";const Om=U.forwardRef(function(n,e){let{tag:t="div",children:r,className:s="",swiper:a,zoom:u,lazy:d,virtualIndex:f,swiperSlideIndex:p,...g}=n===void 0?{}:n;const v=U.useRef(null),[E,P]=U.useState("swiper-slide"),[S,O]=U.useState(!1);function k(F,H,X){H===v.current&&P(X)}Dl(()=>{if(typeof p<"u"&&(v.current.swiperSlideIndex=p),e&&(e.current=v.current),!(!v.current||!a)){if(a.destroyed){E!=="swiper-slide"&&P("swiper-slide");return}return a.on("_slideClass",k),()=>{a&&a.off("_slideClass",k)}}}),Dl(()=>{a&&v.current&&!a.destroyed&&P(a.getSlideClasses(v.current))},[a]);const D={isActive:E.indexOf("swiper-slide-active")>=0,isVisible:E.indexOf("swiper-slide-visible")>=0,isPrev:E.indexOf("swiper-slide-prev")>=0,isNext:E.indexOf("swiper-slide-next")>=0},R=()=>typeof r=="function"?r(D):r,A=()=>{O(!0)};return Be.createElement(t,_d({ref:v,className:lT(`${E}${s?` ${s}`:""}`),"data-swiper-slide-index":f,onLoad:A},g),u&&Be.createElement(Rv.Provider,{value:D},Be.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof u=="number"?u:void 0},R(),d&&!S&&Be.createElement("div",{className:"swiper-lazy-preloader"}))),!u&&Be.createElement(Rv.Provider,{value:D},R(),d&&!S&&Be.createElement("div",{className:"swiper-lazy-preloader"})))});Om.displayName="SwiperSlide";function dT(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;t({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});let a;const u=rs();e.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};const d=u.createElement("div");function f(S,O){const k=e.params.virtual;if(k.cache&&e.virtual.cache[O])return e.virtual.cache[O];let D;return k.renderSlide?(D=k.renderSlide.call(e,S,O),typeof D=="string"&&(d.innerHTML=D,D=d.children[0])):e.isElement?D=ia("swiper-slide"):D=ia("div",e.params.slideClass),D.setAttribute("data-swiper-slide-index",O),k.renderSlide||(D.innerHTML=S),k.cache&&(e.virtual.cache[O]=D),D}function p(S,O,k){const{slidesPerView:D,slidesPerGroup:R,centeredSlides:A,loop:F,initialSlide:H}=e.params;if(O&&!F&&H>0)return;const{addSlidesBefore:X,addSlidesAfter:M}=e.params.virtual,{from:I,to:x,slides:L,slidesGrid:V,offset:$}=e.virtual;e.params.cssMode||e.updateActiveIndex();const N=typeof k>"u"?e.activeIndex||0:k;let ue;e.rtlTranslate?ue="right":ue=e.isHorizontal()?"left":"top";let _e,ve;A?(_e=Math.floor(D/2)+R+M,ve=Math.floor(D/2)+R+X):(_e=D+(R-1)+M,ve=(F?D:R)+X);let Pe=N-ve,re=N+_e;F||(Pe=Math.max(Pe,0),re=Math.min(re,L.length-1));let le=(e.slidesGrid[Pe]||0)-(e.slidesGrid[0]||0);F&&N>=ve?(Pe-=ve,A||(le+=e.slidesGrid[0])):F&&N<ve&&(Pe=-ve,A&&(le+=e.slidesGrid[0])),Object.assign(e.virtual,{from:Pe,to:re,offset:le,slidesGrid:e.slidesGrid,slidesBefore:ve,slidesAfter:_e});function oe(){e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),s("virtualUpdate")}if(I===Pe&&x===re&&!S){e.slidesGrid!==V&&le!==$&&e.slides.forEach(ce=>{ce.style[ue]=`${le-Math.abs(e.cssOverflowAdjustment())}px`}),e.updateProgress(),s("virtualUpdate");return}if(e.params.virtual.renderExternal){e.params.virtual.renderExternal.call(e,{offset:le,from:Pe,to:re,slides:function(){const we=[];for(let Oe=Pe;Oe<=re;Oe+=1)we.push(L[Oe]);return we}()}),e.params.virtual.renderExternalUpdate?oe():s("virtualUpdate");return}const W=[],J=[],ge=ce=>{let we=ce;return ce<0?we=L.length+ce:we>=L.length&&(we=we-L.length),we};if(S)e.slides.filter(ce=>ce.matches(`.${e.params.slideClass}, swiper-slide`)).forEach(ce=>{ce.remove()});else for(let ce=I;ce<=x;ce+=1)if(ce<Pe||ce>re){const we=ge(ce);e.slides.filter(Oe=>Oe.matches(`.${e.params.slideClass}[data-swiper-slide-index="${we}"], swiper-slide[data-swiper-slide-index="${we}"]`)).forEach(Oe=>{Oe.remove()})}const ke=F?-L.length:0,Ne=F?L.length*2:L.length;for(let ce=ke;ce<Ne;ce+=1)if(ce>=Pe&&ce<=re){const we=ge(ce);typeof x>"u"||S?J.push(we):(ce>x&&J.push(we),ce<I&&W.push(we))}if(J.forEach(ce=>{e.slidesEl.append(f(L[ce],ce))}),F)for(let ce=W.length-1;ce>=0;ce-=1){const we=W[ce];e.slidesEl.prepend(f(L[we],we))}else W.sort((ce,we)=>we-ce),W.forEach(ce=>{e.slidesEl.prepend(f(L[ce],ce))});sr(e.slidesEl,".swiper-slide, swiper-slide").forEach(ce=>{ce.style[ue]=`${le-Math.abs(e.cssOverflowAdjustment())}px`}),oe()}function g(S){if(typeof S=="object"&&"length"in S)for(let O=0;O<S.length;O+=1)S[O]&&e.virtual.slides.push(S[O]);else e.virtual.slides.push(S);p(!0)}function v(S){const O=e.activeIndex;let k=O+1,D=1;if(Array.isArray(S)){for(let R=0;R<S.length;R+=1)S[R]&&e.virtual.slides.unshift(S[R]);k=O+S.length,D=S.length}else e.virtual.slides.unshift(S);if(e.params.virtual.cache){const R=e.virtual.cache,A={};Object.keys(R).forEach(F=>{const H=R[F],X=H.getAttribute("data-swiper-slide-index");X&&H.setAttribute("data-swiper-slide-index",parseInt(X,10)+D),A[parseInt(F,10)+D]=H}),e.virtual.cache=A}p(!0),e.slideTo(k,0)}function E(S){if(typeof S>"u"||S===null)return;let O=e.activeIndex;if(Array.isArray(S))for(let k=S.length-1;k>=0;k-=1)e.params.virtual.cache&&(delete e.virtual.cache[S[k]],Object.keys(e.virtual.cache).forEach(D=>{D>S&&(e.virtual.cache[D-1]=e.virtual.cache[D],e.virtual.cache[D-1].setAttribute("data-swiper-slide-index",D-1),delete e.virtual.cache[D])})),e.virtual.slides.splice(S[k],1),S[k]<O&&(O-=1),O=Math.max(O,0);else e.params.virtual.cache&&(delete e.virtual.cache[S],Object.keys(e.virtual.cache).forEach(k=>{k>S&&(e.virtual.cache[k-1]=e.virtual.cache[k],e.virtual.cache[k-1].setAttribute("data-swiper-slide-index",k-1),delete e.virtual.cache[k])})),e.virtual.slides.splice(S,1),S<O&&(O-=1),O=Math.max(O,0);p(!0),e.slideTo(O,0)}function P(){e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),p(!0),e.slideTo(0,0)}r("beforeInit",()=>{if(!e.params.virtual.enabled)return;let S;if(typeof e.passedParams.virtual.slides>"u"){const O=[...e.slidesEl.children].filter(k=>k.matches(`.${e.params.slideClass}, swiper-slide`));O.length&&(e.virtual.slides=[...O],S=!0,O.forEach((k,D)=>{k.setAttribute("data-swiper-slide-index",D),e.virtual.cache[D]=k,k.remove()}))}S||(e.virtual.slides=e.params.virtual.slides),e.classNames.push(`${e.params.containerModifierClass}virtual`),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0,p(!1,!0)}),r("setTranslate",()=>{e.params.virtual.enabled&&(e.params.cssMode&&!e._immediateVirtual?(clearTimeout(a),a=setTimeout(()=>{p()},100)):p())}),r("init update resize",()=>{e.params.virtual.enabled&&e.params.cssMode&&Al(e.wrapperEl,"--swiper-virtual-size",`${e.virtualSize}px`)}),Object.assign(e.virtual,{appendSlide:g,prependSlide:v,removeSlide:E,removeAllSlides:P,update:p})}function fT(n,e,t,r){return n.params.createElements&&Object.keys(r).forEach(s=>{if(!t[s]&&t.auto===!0){let a=sr(n.el,`.${r[s]}`)[0];a||(a=ia("div",r[s]),a.className=r[s],n.el.append(a)),t[s]=a,e[s]=a}}),t}function hT(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function a(S){let O;return S&&typeof S=="string"&&e.isElement&&(O=e.el.querySelector(S)||e.hostEl.querySelector(S),O)?O:(S&&(typeof S=="string"&&(O=[...document.querySelectorAll(S)]),e.params.uniqueNavElements&&typeof S=="string"&&O&&O.length>1&&e.el.querySelectorAll(S).length===1?O=e.el.querySelector(S):O&&O.length===1&&(O=O[0])),S&&!O?S:O)}function u(S,O){const k=e.params.navigation;S=At(S),S.forEach(D=>{D&&(D.classList[O?"add":"remove"](...k.disabledClass.split(" ")),D.tagName==="BUTTON"&&(D.disabled=O),e.params.watchOverflow&&e.enabled&&D.classList[e.isLocked?"add":"remove"](k.lockClass))})}function d(){const{nextEl:S,prevEl:O}=e.navigation;if(e.params.loop){u(O,!1),u(S,!1);return}u(O,e.isBeginning&&!e.params.rewind),u(S,e.isEnd&&!e.params.rewind)}function f(S){S.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),s("navigationPrev"))}function p(S){S.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),s("navigationNext"))}function g(){const S=e.params.navigation;if(e.params.navigation=fT(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(S.nextEl||S.prevEl))return;let O=a(S.nextEl),k=a(S.prevEl);Object.assign(e.navigation,{nextEl:O,prevEl:k}),O=At(O),k=At(k);const D=(R,A)=>{R&&R.addEventListener("click",A==="next"?p:f),!e.enabled&&R&&R.classList.add(...S.lockClass.split(" "))};O.forEach(R=>D(R,"next")),k.forEach(R=>D(R,"prev"))}function v(){let{nextEl:S,prevEl:O}=e.navigation;S=At(S),O=At(O);const k=(D,R)=>{D.removeEventListener("click",R==="next"?p:f),D.classList.remove(...e.params.navigation.disabledClass.split(" "))};S.forEach(D=>k(D,"next")),O.forEach(D=>k(D,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?P():(g(),d())}),r("toEdge fromEdge lock unlock",()=>{d()}),r("destroy",()=>{v()}),r("enable disable",()=>{let{nextEl:S,prevEl:O}=e.navigation;if(S=At(S),O=At(O),e.enabled){d();return}[...S,...O].filter(k=>!!k).forEach(k=>k.classList.add(e.params.navigation.lockClass))}),r("click",(S,O)=>{let{nextEl:k,prevEl:D}=e.navigation;k=At(k),D=At(D);const R=O.target;let A=D.includes(R)||k.includes(R);if(e.isElement&&!A){const F=O.path||O.composedPath&&O.composedPath();F&&(A=F.find(H=>k.includes(H)||D.includes(H)))}if(e.params.navigation.hideOnClick&&!A){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===R||e.pagination.el.contains(R)))return;let F;k.length?F=k[0].classList.contains(e.params.navigation.hiddenClass):D.length&&(F=D[0].classList.contains(e.params.navigation.hiddenClass)),s(F===!0?"navigationShow":"navigationHide"),[...k,...D].filter(H=>!!H).forEach(H=>H.classList.toggle(e.params.navigation.hiddenClass))}});const E=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),g(),d()},P=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),v()};Object.assign(e.navigation,{enable:E,disable:P,update:d,init:g,destroy:v})}function Tl(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function pT(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;const a="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:R=>R,formatFractionTotal:R=>R,bulletClass:`${a}-bullet`,bulletActiveClass:`${a}-bullet-active`,modifierClass:`${a}-`,currentClass:`${a}-current`,totalClass:`${a}-total`,hiddenClass:`${a}-hidden`,progressbarFillClass:`${a}-progressbar-fill`,progressbarOppositeClass:`${a}-progressbar-opposite`,clickableClass:`${a}-clickable`,lockClass:`${a}-lock`,horizontalClass:`${a}-horizontal`,verticalClass:`${a}-vertical`,paginationDisabledClass:`${a}-disabled`}}),e.pagination={el:null,bullets:[]};let u,d=0;function f(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function p(R,A){const{bulletActiveClass:F}=e.params.pagination;R&&(R=R[`${A==="prev"?"previous":"next"}ElementSibling`],R&&(R.classList.add(`${F}-${A}`),R=R[`${A==="prev"?"previous":"next"}ElementSibling`],R&&R.classList.add(`${F}-${A}-${A}`)))}function g(R,A,F){if(R=R%F,A=A%F,A===R+1)return"next";if(A===R-1)return"previous"}function v(R){const A=R.target.closest(Tl(e.params.pagination.bulletClass));if(!A)return;R.preventDefault();const F=yd(A)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===F)return;const H=g(e.realIndex,F,e.slides.length);H==="next"?e.slideNext():H==="previous"?e.slidePrev():e.slideToLoop(F)}else e.slideTo(F)}function E(){const R=e.rtl,A=e.params.pagination;if(f())return;let F=e.pagination.el;F=At(F);let H,X;const M=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,I=e.params.loop?Math.ceil(M/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(X=e.previousRealIndex||0,H=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(H=e.snapIndex,X=e.previousSnapIndex):(X=e.previousIndex||0,H=e.activeIndex||0),A.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const x=e.pagination.bullets;let L,V,$;if(A.dynamicBullets&&(u=Mp(x[0],e.isHorizontal()?"width":"height"),F.forEach(N=>{N.style[e.isHorizontal()?"width":"height"]=`${u*(A.dynamicMainBullets+4)}px`}),A.dynamicMainBullets>1&&X!==void 0&&(d+=H-(X||0),d>A.dynamicMainBullets-1?d=A.dynamicMainBullets-1:d<0&&(d=0)),L=Math.max(H-d,0),V=L+(Math.min(x.length,A.dynamicMainBullets)-1),$=(V+L)/2),x.forEach(N=>{const ue=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(_e=>`${A.bulletActiveClass}${_e}`)].map(_e=>typeof _e=="string"&&_e.includes(" ")?_e.split(" "):_e).flat();N.classList.remove(...ue)}),F.length>1)x.forEach(N=>{const ue=yd(N);ue===H?N.classList.add(...A.bulletActiveClass.split(" ")):e.isElement&&N.setAttribute("part","bullet"),A.dynamicBullets&&(ue>=L&&ue<=V&&N.classList.add(...`${A.bulletActiveClass}-main`.split(" ")),ue===L&&p(N,"prev"),ue===V&&p(N,"next"))});else{const N=x[H];if(N&&N.classList.add(...A.bulletActiveClass.split(" ")),e.isElement&&x.forEach((ue,_e)=>{ue.setAttribute("part",_e===H?"bullet-active":"bullet")}),A.dynamicBullets){const ue=x[L],_e=x[V];for(let ve=L;ve<=V;ve+=1)x[ve]&&x[ve].classList.add(...`${A.bulletActiveClass}-main`.split(" "));p(ue,"prev"),p(_e,"next")}}if(A.dynamicBullets){const N=Math.min(x.length,A.dynamicMainBullets+4),ue=(u*N-u)/2-$*u,_e=R?"right":"left";x.forEach(ve=>{ve.style[e.isHorizontal()?_e:"top"]=`${ue}px`})}}F.forEach((x,L)=>{if(A.type==="fraction"&&(x.querySelectorAll(Tl(A.currentClass)).forEach(V=>{V.textContent=A.formatFractionCurrent(H+1)}),x.querySelectorAll(Tl(A.totalClass)).forEach(V=>{V.textContent=A.formatFractionTotal(I)})),A.type==="progressbar"){let V;A.progressbarOpposite?V=e.isHorizontal()?"vertical":"horizontal":V=e.isHorizontal()?"horizontal":"vertical";const $=(H+1)/I;let N=1,ue=1;V==="horizontal"?N=$:ue=$,x.querySelectorAll(Tl(A.progressbarFillClass)).forEach(_e=>{_e.style.transform=`translate3d(0,0,0) scaleX(${N}) scaleY(${ue})`,_e.style.transitionDuration=`${e.params.speed}ms`})}A.type==="custom"&&A.renderCustom?(x.innerHTML=A.renderCustom(e,H+1,I),L===0&&s("paginationRender",x)):(L===0&&s("paginationRender",x),s("paginationUpdate",x)),e.params.watchOverflow&&e.enabled&&x.classList[e.isLocked?"add":"remove"](A.lockClass)})}function P(){const R=e.params.pagination;if(f())return;const A=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let F=e.pagination.el;F=At(F);let H="";if(R.type==="bullets"){let X=e.params.loop?Math.ceil(A/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&X>A&&(X=A);for(let M=0;M<X;M+=1)R.renderBullet?H+=R.renderBullet.call(e,M,R.bulletClass):H+=`<${R.bulletElement} ${e.isElement?'part="bullet"':""} class="${R.bulletClass}"></${R.bulletElement}>`}R.type==="fraction"&&(R.renderFraction?H=R.renderFraction.call(e,R.currentClass,R.totalClass):H=`<span class="${R.currentClass}"></span> / <span class="${R.totalClass}"></span>`),R.type==="progressbar"&&(R.renderProgressbar?H=R.renderProgressbar.call(e,R.progressbarFillClass):H=`<span class="${R.progressbarFillClass}"></span>`),e.pagination.bullets=[],F.forEach(X=>{R.type!=="custom"&&(X.innerHTML=H||""),R.type==="bullets"&&e.pagination.bullets.push(...X.querySelectorAll(Tl(R.bulletClass)))}),R.type!=="custom"&&s("paginationRender",F[0])}function S(){e.params.pagination=fT(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const R=e.params.pagination;if(!R.el)return;let A;typeof R.el=="string"&&e.isElement&&(A=e.el.querySelector(R.el)),!A&&typeof R.el=="string"&&(A=[...document.querySelectorAll(R.el)]),A||(A=R.el),!(!A||A.length===0)&&(e.params.uniqueNavElements&&typeof R.el=="string"&&Array.isArray(A)&&A.length>1&&(A=[...e.el.querySelectorAll(R.el)],A.length>1&&(A=A.find(F=>JE(F,".swiper")[0]===e.el))),Array.isArray(A)&&A.length===1&&(A=A[0]),Object.assign(e.pagination,{el:A}),A=At(A),A.forEach(F=>{R.type==="bullets"&&R.clickable&&F.classList.add(...(R.clickableClass||"").split(" ")),F.classList.add(R.modifierClass+R.type),F.classList.add(e.isHorizontal()?R.horizontalClass:R.verticalClass),R.type==="bullets"&&R.dynamicBullets&&(F.classList.add(`${R.modifierClass}${R.type}-dynamic`),d=0,R.dynamicMainBullets<1&&(R.dynamicMainBullets=1)),R.type==="progressbar"&&R.progressbarOpposite&&F.classList.add(R.progressbarOppositeClass),R.clickable&&F.addEventListener("click",v),e.enabled||F.classList.add(R.lockClass)}))}function O(){const R=e.params.pagination;if(f())return;let A=e.pagination.el;A&&(A=At(A),A.forEach(F=>{F.classList.remove(R.hiddenClass),F.classList.remove(R.modifierClass+R.type),F.classList.remove(e.isHorizontal()?R.horizontalClass:R.verticalClass),R.clickable&&(F.classList.remove(...(R.clickableClass||"").split(" ")),F.removeEventListener("click",v))})),e.pagination.bullets&&e.pagination.bullets.forEach(F=>F.classList.remove(...R.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const R=e.params.pagination;let{el:A}=e.pagination;A=At(A),A.forEach(F=>{F.classList.remove(R.horizontalClass,R.verticalClass),F.classList.add(e.isHorizontal()?R.horizontalClass:R.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?D():(S(),P(),E())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&E()}),r("snapIndexChange",()=>{E()}),r("snapGridLengthChange",()=>{P(),E()}),r("destroy",()=>{O()}),r("enable disable",()=>{let{el:R}=e.pagination;R&&(R=At(R),R.forEach(A=>A.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{E()}),r("click",(R,A)=>{const F=A.target,H=At(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&H&&H.length>0&&!F.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&F===e.navigation.nextEl||e.navigation.prevEl&&F===e.navigation.prevEl))return;const X=H[0].classList.contains(e.params.pagination.hiddenClass);s(X===!0?"paginationShow":"paginationHide"),H.forEach(M=>M.classList.toggle(e.params.pagination.hiddenClass))}});const k=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:R}=e.pagination;R&&(R=At(R),R.forEach(A=>A.classList.remove(e.params.pagination.paginationDisabledClass))),S(),P(),E()},D=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:R}=e.pagination;R&&(R=At(R),R.forEach(A=>A.classList.add(e.params.pagination.paginationDisabledClass))),O()};Object.assign(e.pagination,{enable:k,disable:D,render:P,update:E,init:S,destroy:O})}const Jo=eE("images/fetchImages",async(n,{rejectWithValue:e})=>{try{return await(await fetch("https://api.unsplash.com/photos?page=2&&per_page=30&client_id=Y5sNf_2ibXSXDmY9kK3XWrVaDqIianhpaC7Fs3LZfqc")).json()}catch(t){return t instanceof Error?e(t.message):e("Неизвестная ошибка")}}),A2="_wrapper_zdnam_11",b2="_prevButton_zdnam_21",k2="_nextButton_zdnam_22",qo={wrapper:A2,prevButton:b2,nextButton:k2},N2="_card_133hg_11",O2="_image_133hg_22",L2="_block_133hg_37",D2="_title_133hg_44",M2="_description_133hg_49",V2="_user_133hg_58",j2="_wrap_133hg_72",F2="_icon_133hg_78",$2="_content_133hg_91",z2="_name_133hg_97",U2="_data_133hg_103",B2="_favorite_133hg_114",Ln={card:N2,image:O2,block:L2,title:D2,description:M2,user:V2,wrap:j2,icon:F2,content:$2,name:z2,data:U2,favorite:B2},H2={favorites:[],loading:!1,error:null},W2=ga({name:"favorites",initialState:H2,reducers:{addToFavorites:(n,e)=>{const t=e.payload;n.favorites.push(t)},removeFavorites:(n,e)=>{const t=e.payload;return{...n,favorites:n.favorites.filter(r=>r.id!==t.id)}}}}),{actions:Av,reducer:G2}=W2,q2={isOpen:!1,message:"",error:!1},K2=ga({name:"modal",initialState:q2,reducers:{modalOpen:(n,e)=>{n.isOpen=!0,n.message=e.payload},modalClosed:n=>{n.isOpen=!1,n.message=""},setError:(n,e)=>{n.error=e.payload}}}),{actions:Sr,reducer:Q2}=K2,Ud=({card:n})=>{const e=Sn(),{favorites:t}=rt(a=>a.favorites),r=t.some(a=>a.id===n.id),s=()=>{r?(e(Av.removeFavorites(n)),e(Sr.modalOpen("Delete from favorites!"))):(e(Av.addToFavorites(n)),e(Sr.modalOpen("Added to favorites!")))};return C.jsxs("div",{className:Ln.card,children:[C.jsx(Ge,{to:`/card/${n.id}`,className:Ln.image,children:C.jsx("img",{src:n.urls.regular,alt:""})}),C.jsxs("div",{className:Ln.block,children:[C.jsx(Ge,{to:`/card/${n.id}`,className:`${Ln.title} ${tt.h5}`,children:n.alt_description}),C.jsx("div",{className:`${Ln.description} ${tt.p}`,children:n.description}),C.jsxs("div",{className:Ln.user,children:[C.jsxs("div",{className:Ln.wrap,children:[C.jsx(Ge,{to:`/author-page/${n.id}`,className:Ln.icon,children:C.jsx("img",{src:n.user.profile_image.large,alt:""})}),C.jsxs("div",{className:Ln.content,children:[C.jsx(Ge,{to:`/author-page/${n.id}`,className:Ln.name,children:n.user.username}),C.jsx("div",{className:Ln.data,children:n.created_at})]})]}),C.jsx("button",{onClick:s,className:Ln.favorite,children:C.jsx(KE,{size:20,color:r?"#F81539":""})})]})]})]})},Y2=()=>{const{images:n}=rt(t=>t.images),e=Sn();return U.useEffect(()=>{e(Jo())},[e]),C.jsx("div",{className:qo.wrapper,children:C.jsx(Nm,{modules:[dT,hT,pT],spaceBetween:20,slidesPerView:4,breakpoints:{320:{slidesPerView:1},520:{slidesPerView:2},650:{slidesPerView:3,spaceBetween:10},992:{slidesPerView:4,spaceBetween:20}},className:qo.sliderPosts,navigation:{prevEl:`.${qo.prevButton}`,nextEl:`.${qo.nextButton}`},children:n.map((t,r)=>C.jsx(Om,{virtualIndex:r,children:C.jsx(Ud,{card:t},r)},r))})})};function Lm(n){return dn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"},child:[]}]})(n)}function mT(n){return dn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z",opacity:".87"},child:[]},{tag:"path",attr:{d:"M17.51 3.87 15.73 2.1 5.84 12l9.9 9.9 1.77-1.77L9.38 12l8.13-8.13z"},child:[]}]})(n)}const X2=()=>C.jsxs("div",{className:Rl.wrap,children:[C.jsxs("div",{className:Rl.top,children:[C.jsx("div",{className:Rl.title,children:"popular posts"}),C.jsxs("div",{className:Rl.navigation,children:[C.jsx("button",{className:qo.prevButton,children:C.jsx(mT,{})}),C.jsx("button",{className:qo.nextButton,children:C.jsx(Lm,{})})]})]}),C.jsx(Y2,{})]}),J2="_card_dobe4_12",Z2="_content_dobe4_21",eN="_wrap_dobe4_33",tN="_image_dobe4_48",nN="_imageSlide_dobe4_66",rN="_title_dobe4_85",iN="_description_dobe4_92",Dn={card:J2,content:Z2,wrap:eN,image:tN,imageSlide:nN,title:rN,description:iN},sN=({card:n})=>C.jsxs("div",{className:Dn.card,children:[C.jsx("div",{className:Dn.image,children:C.jsx("img",{src:n.urls.regular,alt:""})}),C.jsx("div",{className:Dn.content,children:C.jsxs("div",{className:Dn.wrap,children:[C.jsx(Ge,{to:`/card/${n.id}`,className:`${Dn.title} ${tt.h4}`,children:n.alt_description}),C.jsx("div",{className:`${Dn.description} ${tt.p}`,children:n.description})]})})]}),oN="_cards_k9ho0_11",aN="_list_k9ho0_25",bv={cards:oN,list:aN},lN=()=>{const{images:n}=rt(t=>t.images),e=Sn();return U.useEffect(()=>{e(Jo())},[e]),C.jsx("div",{className:bv.cards,children:C.jsx("div",{className:bv.list,children:n.slice(0,2).map((t,r)=>C.jsx(sN,{card:t},r))})})},uN="_wrapper_svj9t_11",cN="_pagination_svj9t_24",dN="_bullet_svj9t_40",fN="_bulletActive_svj9t_48",hN="_prevButton_svj9t_54",pN="_nextButton_svj9t_55",Er={wrapper:uN,pagination:cN,"swiper-pagination-bullet":"_swiper-pagination-bullet_svj9t_33",bullet:dN,bulletActive:fN,prevButton:hN,nextButton:pN,"swiper-button-disabled":"_swiper-button-disabled_svj9t_76"},mN=({card:n})=>C.jsxs("div",{className:Dn.card,children:[C.jsx("div",{className:Dn.imageSlide,children:C.jsx("img",{src:n.urls.regular,alt:""})}),C.jsx("div",{className:Dn.content,children:C.jsxs("div",{className:Dn.wrap,children:[C.jsx(Ge,{to:`/card/${n.id}`,className:`${Dn.title} ${tt.h3}`,children:n.alt_description}),C.jsx("div",{className:`${Dn.description} ${tt.p}`,children:n.description})]})})]}),gN=()=>{const{images:n}=rt(t=>t.images),e=Sn();return U.useEffect(()=>{e(Jo())},[e]),C.jsx("div",{className:Er.wrapper,children:C.jsxs(Nm,{modules:[dT,hT,pT],spaceBetween:20,slidesPerView:1,className:Er.sliderCards,pagination:{clickable:!0,el:`.${Er.pagination}`,renderBullet:(t,r)=>`<span class="${r} ${Er.bullet}"></span>`,bulletActiveClass:`${Er.bulletActive}`},navigation:{prevEl:`.${Er.prevButton}`,nextEl:`.${Er.nextButton}`},children:[n.slice(2,7).map((t,r)=>C.jsx(Om,{virtualIndex:r,children:C.jsx(mN,{card:t},r)},r)),C.jsx("button",{className:Er.prevButton,children:C.jsx(mT,{})}),C.jsx("button",{className:Er.nextButton,children:C.jsx(Lm,{})}),C.jsx("div",{className:Er.pagination})]})})},yN="_section_17gax_11",kv={section:yN},_N="_heading_10fed_11",vN="_list_10fed_28",wN="_bottom_10fed_56",EN="_button_10fed_62",Nc={heading:_N,list:vN,bottom:wN,button:EN},TN=()=>{const{images:n}=rt(s=>s.images),[e,t]=U.useState(8),r=()=>{t(s=>s+8)};return C.jsxs("div",{className:Rl.wrap,children:[C.jsx("div",{className:Nc.heading,children:"All Posts"}),C.jsx("div",{className:Nc.list,children:n.slice(0,e).map((s,a)=>C.jsx(Ud,{card:s},a))}),C.jsx("div",{className:Nc.bottom,children:C.jsx("button",{onClick:r,className:Nc.button,children:"showmore"})})]})},SN=()=>C.jsxs("div",{className:kv.main,children:[C.jsxs("div",{className:kv.section,children:[C.jsx(lN,{}),C.jsx(gN,{})]}),C.jsx(X2,{}),C.jsx(TN,{})]}),IN="_h1_16yen_11",CN="_h2_16yen_33",PN="_h3_16yen_44",xN="_h4_16yen_66",RN="_h5_16yen_88",AN="_info_16yen_88",bN="_h6_16yen_100",kN="_subtitle_16yen_106",NN="_p_16yen_111",ON="_list_16yen_121",Nv={h1:IN,h2:CN,h3:PN,h4:xN,h5:RN,info:AN,h6:bN,subtitle:kN,p:NN,list:ON},LN="_h1_c4pa9_11",DN="_h2_c4pa9_33",MN="_h3_c4pa9_44",VN="_h4_c4pa9_66",jN="_h5_c4pa9_88",FN="_h6_c4pa9_100",$N="_subtitle_c4pa9_106",zN="_p_c4pa9_111",UN="_wrap_c4pa9_121",BN="_item_c4pa9_133",HN="_link_c4pa9_144",WN="_active_c4pa9_148",Sl={h1:LN,h2:DN,h3:MN,h4:VN,h5:jN,h6:FN,subtitle:$N,p:zN,wrap:UN,item:BN,link:HN,active:WN},va=({items:n=[]})=>C.jsx("div",{children:C.jsx("ul",{className:Sl.wrap,children:n.map((e,t)=>C.jsxs("li",{className:Sl.item,children:[e.link?C.jsx(Ge,{className:`${Sl.link} ${tt.h5}`,to:e.link,children:e.name}):C.jsx("span",{className:`${Sl.link} ${tt.h5} ${Sl.active}`,children:e.name}),t<n.length-1&&C.jsx(Lm,{size:14})]},t))})}),GN=()=>{const{favorites:n}=rt(t=>t.favorites),e=[{name:"Home",link:"/"},{name:"Favorites"}];return C.jsxs("div",{children:[C.jsx(va,{items:e}),n.length>0?C.jsx("div",{className:Nv.list,children:n.map((t,r)=>C.jsx(Ud,{card:t},r))}):C.jsx("div",{className:Nv.info,children:"nothing in favorites!"})]})},qN=()=>{const{isOpen:n,message:e}=rt(t=>t.modal);return C.jsxs("div",{className:"wrapper",children:[C.jsx(QE,{}),C.jsx("main",{children:C.jsx("div",{className:"container",children:C.jsx(lm,{})})}),C.jsx(Vw,{}),C.jsx(Am,{active:n,message:e})]})},KN="_h1_szbbl_11",QN="_h2_szbbl_33",YN="_h3_szbbl_44",XN="_h4_szbbl_66",JN="_h5_szbbl_88",ZN="_link_szbbl_88",eO="_h6_szbbl_100",tO="_total_szbbl_100",nO="_subtitle_szbbl_106",rO="_p_szbbl_111",iO="_card_szbbl_121",sO="_content_szbbl_132",oO="_wrap_szbbl_136",aO="_image_szbbl_152",lO="_info_szbbl_173",uO="_item_szbbl_187",cO="_sidebar_szbbl_195",dO="_block_szbbl_213",fO="_line_szbbl_222",hO="_list_szbbl_227",pO="_avatar_szbbl_244",mO="_links_szbbl_260",gO="_inner_szbbl_265",yO="_follow_szbbl_280",lt={h1:KN,h2:QN,h3:YN,h4:XN,h5:JN,link:ZN,h6:eO,total:tO,subtitle:nO,p:rO,card:iO,content:sO,wrap:oO,image:aO,info:lO,item:uO,sidebar:cO,block:dO,line:fO,list:hO,avatar:pO,links:mO,inner:gO,follow:yO};function _O(n){return dn({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 0 0-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4A106.62 106.62 0 0 0 471 99.9c-52 0-98 35-111.8 85.1l-85.9 311H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h601.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7-.2-12.6-2-25.1-5.6-37.1zM184 852V568h81v284h-81zm636.4-353l-21.9 19 13.9 25.4a56.2 56.2 0 0 1 6.9 27.3c0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 0 1 6.9 27.3c0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 0 1 6.9 27.3c0 22.4-13.2 42.6-33.6 51.8H329V564.8l99.5-360.5a44.1 44.1 0 0 1 42.2-32.3c7.6 0 15.1 2.2 21.1 6.7 9.9 7.4 15.2 18.6 14.6 30.5l-9.6 198.4h314.4C829 418.5 840 436.9 840 456c0 16.5-7.2 32.1-19.6 43z"},child:[]}]})(n)}function vO(n){return dn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Folder_On"},child:[{tag:"path",attr:{d:"M19.435,19.94H4.565a2.5,2.5,0,0,1-2.5-2.5V6.56a2.5,2.5,0,0,1,2.5-2.5h5.27A2.5,2.5,0,0,1,12.292,6.1l.042.222a.5.5,0,0,0,.491.408h6.61a2.5,2.5,0,0,1,2.5,2.5v8.21A2.5,2.5,0,0,1,19.435,19.94ZM4.565,5.06a1.5,1.5,0,0,0-1.5,1.5V17.44a1.5,1.5,0,0,0,1.5,1.5h14.87a1.5,1.5,0,0,0,1.5-1.5V9.23a1.5,1.5,0,0,0-1.5-1.5h-6.61a1.5,1.5,0,0,1-1.474-1.225l-.042-.221A1.5,1.5,0,0,0,9.835,5.06Z"},child:[]}]}]})(n)}const wO="_card_bruws_11",EO="_content_bruws_16",TO="_image_bruws_22",lp={card:wO,content:EO,image:TO},SO=({card:n})=>C.jsxs("div",{className:lp.card,children:[C.jsx(Ge,{to:`/card/${n.id}`,className:lp.image,children:C.jsx("img",{src:n.urls.regular,alt:""})}),C.jsxs("div",{className:lp.content,children:[C.jsx(Ge,{to:`/card/${n.id}`,className:tt.h5,children:n.alt_description}),C.jsxs("div",{className:tt.h6,children:[n.likes," likes"]})]})]},n.id),IO={authors:[],loading:!1,error:null},CO=ga({name:"follow-author",initialState:IO,reducers:{addToSub:(n,e)=>{const t=e.payload;n.authors.push(t)},removeSub:(n,e)=>{const t=e.payload;return{...n,authors:n.authors.filter(r=>r.id!==t.id)}}}}),{actions:Ov,reducer:PO}=CO,Bd=(n,e)=>n.authors.authors.some(t=>t.id===e),Dm=n=>(e,t)=>{const r=t();Bd(r,n.id)?(e(Ov.removeSub(n)),e(Sr.modalOpen("Unsubscribe!"))):(e(Ov.addToSub(n)),e(Sr.modalOpen("Subscribe!")))},xO=()=>{const e=li().pathname.split("/").pop()||"",{images:t}=rt(p=>p.images),{id:r}=bw(),s=t.find(p=>p.id===r),a=t.find(p=>p.id===e),u=[{name:"Home",link:"/"},{name:a?`${a.alt_description}`:""}],d=Sn(),f=rt(p=>Bd(p,s.id));return C.jsxs("div",{children:[C.jsx(va,{items:u}),s?C.jsxs("div",{className:lt.card,children:[C.jsx("div",{className:lt.content,children:C.jsxs("div",{className:lt.wrap,children:[C.jsx("div",{className:tt.h1,children:s.alt_description}),C.jsx("div",{className:lt.image,children:C.jsx("img",{src:s.urls.regular,alt:""})}),C.jsxs("div",{className:lt.info,children:[C.jsxs("div",{className:lt.item,children:[C.jsx(gC,{}),s.created_at]}),C.jsxs("div",{className:lt.item,children:[C.jsx(_O,{size:20}),"likes:",s.likes]}),C.jsxs("div",{className:lt.item,children:[C.jsx(vO,{size:20}),Object.keys(s.topic_submissions)]})]})]})}),C.jsxs("div",{className:lt.sidebar,children:[C.jsxs("div",{className:lt.links,children:[C.jsx("a",{href:"#",className:lt.link,children:"share"}),C.jsx("a",{href:"#",className:lt.link,children:"marking"}),C.jsx("a",{href:"#",className:lt.link,children:"comment"})]}),C.jsx("div",{className:lt.block,children:C.jsxs("div",{className:lt.line,children:[C.jsx(Ge,{to:`/author-page/${s.id}`,className:lt.avatar,children:C.jsx("img",{src:s.user.profile_image.large,alt:""})}),C.jsxs("div",{className:lt.inner,children:[C.jsx(Ge,{to:`/author-page/${s.id}`,className:tt.h5,children:s.user.username}),C.jsxs("div",{className:lt.total,children:[s.user.total_photos," photos"]}),C.jsx("button",{onClick:()=>d(Dm(s)),type:"button",className:lt.follow,children:f?"unsubscribe":"subscribe"})]})]})}),C.jsxs("div",{className:lt.block,children:[C.jsx("div",{className:tt.h4,children:"top post"}),C.jsx("div",{className:lt.list,children:[...t].sort((p,g)=>g.likes-p.likes).slice(0,5).map(p=>C.jsx(SO,{card:p},p.id))})]})]})]}):""]})},RO="_form_yppex_11",AO="_input_yppex_17",bO="_error_yppex_63",kO="_button_yppex_84",Vi={form:RO,input:AO,error:bO,button:kO},gT=({title:n,handleClick:e})=>{const[t,r]=U.useState(""),[s,a]=U.useState(""),{error:u}=rt(d=>d.modal);return C.jsxs("div",{className:Vi.form,children:[C.jsx("div",{className:u?`${Vi.input} ${Vi.error}`:Vi.input,children:C.jsx("input",{type:"email",value:t,onChange:d=>r(d.target.value),placeholder:"email"})}),C.jsx("div",{className:u?`${Vi.input} ${Vi.error}`:Vi.input,children:C.jsx("input",{type:"password",value:s,onChange:d=>a(d.target.value),placeholder:"password"})}),C.jsx("button",{className:Vi.button,onClick:()=>e(t,s),children:n})]})},NO=()=>{const n=Sn(),e=ma(),t=({email:s,password:a})=>{n(!s||!a?Sr.modalOpen("Empty fields!"):Sr.modalOpen("Incorrect password or login!")),n(Sr.setError(!0))},r=(s,a)=>{const u=ra();xA(u,s,a).then(({user:d})=>{console.log(d),n(gm.setUser({email:d.email,id:d.uid,token:d.accessToken})),e("/"),n(Sr.setError(!1))}).catch(()=>t({email:s,password:a}))};return C.jsx("div",{children:C.jsx(gT,{title:"Login",handleClick:r})})},OO="_login_v6t8g_11",LO="_form_v6t8g_18",DO="_link_v6t8g_33",Zo={login:OO,form:LO,link:DO},MO=()=>C.jsx("div",{className:Zo.login,children:C.jsxs("div",{className:Zo.form,children:[C.jsx("h1",{className:tt.h1,children:"Login"}),C.jsx(NO,{}),C.jsxs("div",{className:Zo.link,children:["No account? ",C.jsx(Ge,{to:"/register",children:"register"})]})]})}),VO=()=>{const n=Sn(),e=ma(),t=(r,s)=>{const a=ra();console.log(a),PA(a,r,s).then(({user:u})=>{console.log(u),n(gm.setUser({email:u.email,id:u.uid,token:u.accessToken})),e("/")}).catch(console.error)};return C.jsx("div",{children:C.jsx(gT,{title:"register",handleClick:t})})},jO=()=>C.jsx("div",{className:Zo.login,children:C.jsxs("div",{className:Zo.form,children:[C.jsx("h1",{className:tt.h1,children:"Register"}),C.jsx(VO,{}),C.jsxs("div",{className:Zo.link,children:["Have an account? ",C.jsx(Ge,{to:"/login",children:"Login"})]})]})}),FO=()=>{const{isOpen:n,message:e}=rt(t=>t.modal);return C.jsxs("div",{className:"wrapper",children:[C.jsx("main",{children:C.jsx("div",{className:"container",children:C.jsx(lm,{})})}),C.jsx(Am,{active:n,message:e})]})},$O="_top_1s1pg_11",zO="_banner_1s1pg_30",UO="_avatar_1s1pg_46",BO="_image_1s1pg_52",HO="_row_1s1pg_72",WO="_line_1s1pg_84",GO="_block_1s1pg_96",qO="_name_1s1pg_102",KO="_email_1s1pg_108",QO="_edit_1s1pg_113",YO="_editMob_1s1pg_139",XO="_menu_1s1pg_165",JO="_link_1s1pg_171",ZO="_content_1s1pg_178",eL="_list_1s1pg_187",Dt={top:$O,banner:zO,avatar:UO,image:BO,row:HO,line:WO,block:GO,name:qO,email:KO,edit:QO,editMob:YO,menu:XO,link:JO,content:ZO,list:eL};var Lv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qi,yT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,I){function x(){}x.prototype=I.prototype,M.D=I.prototype,M.prototype=new x,M.prototype.constructor=M,M.C=function(L,V,$){for(var N=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)N[ue-2]=arguments[ue];return I.prototype[V].apply(L,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(M,I,x){x||(x=0);var L=Array(16);if(typeof I=="string")for(var V=0;16>V;++V)L[V]=I.charCodeAt(x++)|I.charCodeAt(x++)<<8|I.charCodeAt(x++)<<16|I.charCodeAt(x++)<<24;else for(V=0;16>V;++V)L[V]=I[x++]|I[x++]<<8|I[x++]<<16|I[x++]<<24;I=M.g[0],x=M.g[1],V=M.g[2];var $=M.g[3],N=I+($^x&(V^$))+L[0]+3614090360&4294967295;I=x+(N<<7&4294967295|N>>>25),N=$+(V^I&(x^V))+L[1]+3905402710&4294967295,$=I+(N<<12&4294967295|N>>>20),N=V+(x^$&(I^x))+L[2]+606105819&4294967295,V=$+(N<<17&4294967295|N>>>15),N=x+(I^V&($^I))+L[3]+3250441966&4294967295,x=V+(N<<22&4294967295|N>>>10),N=I+($^x&(V^$))+L[4]+4118548399&4294967295,I=x+(N<<7&4294967295|N>>>25),N=$+(V^I&(x^V))+L[5]+1200080426&4294967295,$=I+(N<<12&4294967295|N>>>20),N=V+(x^$&(I^x))+L[6]+2821735955&4294967295,V=$+(N<<17&4294967295|N>>>15),N=x+(I^V&($^I))+L[7]+4249261313&4294967295,x=V+(N<<22&4294967295|N>>>10),N=I+($^x&(V^$))+L[8]+1770035416&4294967295,I=x+(N<<7&4294967295|N>>>25),N=$+(V^I&(x^V))+L[9]+2336552879&4294967295,$=I+(N<<12&4294967295|N>>>20),N=V+(x^$&(I^x))+L[10]+4294925233&4294967295,V=$+(N<<17&4294967295|N>>>15),N=x+(I^V&($^I))+L[11]+2304563134&4294967295,x=V+(N<<22&4294967295|N>>>10),N=I+($^x&(V^$))+L[12]+1804603682&4294967295,I=x+(N<<7&4294967295|N>>>25),N=$+(V^I&(x^V))+L[13]+4254626195&4294967295,$=I+(N<<12&4294967295|N>>>20),N=V+(x^$&(I^x))+L[14]+2792965006&4294967295,V=$+(N<<17&4294967295|N>>>15),N=x+(I^V&($^I))+L[15]+1236535329&4294967295,x=V+(N<<22&4294967295|N>>>10),N=I+(V^$&(x^V))+L[1]+4129170786&4294967295,I=x+(N<<5&4294967295|N>>>27),N=$+(x^V&(I^x))+L[6]+3225465664&4294967295,$=I+(N<<9&4294967295|N>>>23),N=V+(I^x&($^I))+L[11]+643717713&4294967295,V=$+(N<<14&4294967295|N>>>18),N=x+($^I&(V^$))+L[0]+3921069994&4294967295,x=V+(N<<20&4294967295|N>>>12),N=I+(V^$&(x^V))+L[5]+3593408605&4294967295,I=x+(N<<5&4294967295|N>>>27),N=$+(x^V&(I^x))+L[10]+38016083&4294967295,$=I+(N<<9&4294967295|N>>>23),N=V+(I^x&($^I))+L[15]+3634488961&4294967295,V=$+(N<<14&4294967295|N>>>18),N=x+($^I&(V^$))+L[4]+3889429448&4294967295,x=V+(N<<20&4294967295|N>>>12),N=I+(V^$&(x^V))+L[9]+568446438&4294967295,I=x+(N<<5&4294967295|N>>>27),N=$+(x^V&(I^x))+L[14]+3275163606&4294967295,$=I+(N<<9&4294967295|N>>>23),N=V+(I^x&($^I))+L[3]+4107603335&4294967295,V=$+(N<<14&4294967295|N>>>18),N=x+($^I&(V^$))+L[8]+1163531501&4294967295,x=V+(N<<20&4294967295|N>>>12),N=I+(V^$&(x^V))+L[13]+2850285829&4294967295,I=x+(N<<5&4294967295|N>>>27),N=$+(x^V&(I^x))+L[2]+4243563512&4294967295,$=I+(N<<9&4294967295|N>>>23),N=V+(I^x&($^I))+L[7]+1735328473&4294967295,V=$+(N<<14&4294967295|N>>>18),N=x+($^I&(V^$))+L[12]+2368359562&4294967295,x=V+(N<<20&4294967295|N>>>12),N=I+(x^V^$)+L[5]+4294588738&4294967295,I=x+(N<<4&4294967295|N>>>28),N=$+(I^x^V)+L[8]+2272392833&4294967295,$=I+(N<<11&4294967295|N>>>21),N=V+($^I^x)+L[11]+1839030562&4294967295,V=$+(N<<16&4294967295|N>>>16),N=x+(V^$^I)+L[14]+4259657740&4294967295,x=V+(N<<23&4294967295|N>>>9),N=I+(x^V^$)+L[1]+2763975236&4294967295,I=x+(N<<4&4294967295|N>>>28),N=$+(I^x^V)+L[4]+1272893353&4294967295,$=I+(N<<11&4294967295|N>>>21),N=V+($^I^x)+L[7]+4139469664&4294967295,V=$+(N<<16&4294967295|N>>>16),N=x+(V^$^I)+L[10]+3200236656&4294967295,x=V+(N<<23&4294967295|N>>>9),N=I+(x^V^$)+L[13]+681279174&4294967295,I=x+(N<<4&4294967295|N>>>28),N=$+(I^x^V)+L[0]+3936430074&4294967295,$=I+(N<<11&4294967295|N>>>21),N=V+($^I^x)+L[3]+3572445317&4294967295,V=$+(N<<16&4294967295|N>>>16),N=x+(V^$^I)+L[6]+76029189&4294967295,x=V+(N<<23&4294967295|N>>>9),N=I+(x^V^$)+L[9]+3654602809&4294967295,I=x+(N<<4&4294967295|N>>>28),N=$+(I^x^V)+L[12]+3873151461&4294967295,$=I+(N<<11&4294967295|N>>>21),N=V+($^I^x)+L[15]+530742520&4294967295,V=$+(N<<16&4294967295|N>>>16),N=x+(V^$^I)+L[2]+3299628645&4294967295,x=V+(N<<23&4294967295|N>>>9),N=I+(V^(x|~$))+L[0]+4096336452&4294967295,I=x+(N<<6&4294967295|N>>>26),N=$+(x^(I|~V))+L[7]+1126891415&4294967295,$=I+(N<<10&4294967295|N>>>22),N=V+(I^($|~x))+L[14]+2878612391&4294967295,V=$+(N<<15&4294967295|N>>>17),N=x+($^(V|~I))+L[5]+4237533241&4294967295,x=V+(N<<21&4294967295|N>>>11),N=I+(V^(x|~$))+L[12]+1700485571&4294967295,I=x+(N<<6&4294967295|N>>>26),N=$+(x^(I|~V))+L[3]+2399980690&4294967295,$=I+(N<<10&4294967295|N>>>22),N=V+(I^($|~x))+L[10]+4293915773&4294967295,V=$+(N<<15&4294967295|N>>>17),N=x+($^(V|~I))+L[1]+2240044497&4294967295,x=V+(N<<21&4294967295|N>>>11),N=I+(V^(x|~$))+L[8]+1873313359&4294967295,I=x+(N<<6&4294967295|N>>>26),N=$+(x^(I|~V))+L[15]+4264355552&4294967295,$=I+(N<<10&4294967295|N>>>22),N=V+(I^($|~x))+L[6]+2734768916&4294967295,V=$+(N<<15&4294967295|N>>>17),N=x+($^(V|~I))+L[13]+1309151649&4294967295,x=V+(N<<21&4294967295|N>>>11),N=I+(V^(x|~$))+L[4]+4149444226&4294967295,I=x+(N<<6&4294967295|N>>>26),N=$+(x^(I|~V))+L[11]+3174756917&4294967295,$=I+(N<<10&4294967295|N>>>22),N=V+(I^($|~x))+L[2]+718787259&4294967295,V=$+(N<<15&4294967295|N>>>17),N=x+($^(V|~I))+L[9]+3951481745&4294967295,M.g[0]=M.g[0]+I&4294967295,M.g[1]=M.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+$&4294967295}r.prototype.u=function(M,I){I===void 0&&(I=M.length);for(var x=I-this.blockSize,L=this.B,V=this.h,$=0;$<I;){if(V==0)for(;$<=x;)s(this,M,$),$+=this.blockSize;if(typeof M=="string"){for(;$<I;)if(L[V++]=M.charCodeAt($++),V==this.blockSize){s(this,L),V=0;break}}else for(;$<I;)if(L[V++]=M[$++],V==this.blockSize){s(this,L),V=0;break}}this.h=V,this.o+=I},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var I=1;I<M.length-8;++I)M[I]=0;var x=8*this.o;for(I=M.length-8;I<M.length;++I)M[I]=x&255,x/=256;for(this.u(M),M=Array(16),I=x=0;4>I;++I)for(var L=0;32>L;L+=8)M[x++]=this.g[I]>>>L&255;return M};function a(M,I){var x=d;return Object.prototype.hasOwnProperty.call(x,M)?x[M]:x[M]=I(M)}function u(M,I){this.h=I;for(var x=[],L=!0,V=M.length-1;0<=V;V--){var $=M[V]|0;L&&$==I||(x[V]=$,L=!1)}this.g=x}var d={};function f(M){return-128<=M&&128>M?a(M,function(I){return new u([I|0],0>I?-1:0)}):new u([M|0],0>M?-1:0)}function p(M){if(isNaN(M)||!isFinite(M))return v;if(0>M)return k(p(-M));for(var I=[],x=1,L=0;M>=x;L++)I[L]=M/x|0,x*=4294967296;return new u(I,0)}function g(M,I){if(M.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(M.charAt(0)=="-")return k(g(M.substring(1),I));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=p(Math.pow(I,8)),L=v,V=0;V<M.length;V+=8){var $=Math.min(8,M.length-V),N=parseInt(M.substring(V,V+$),I);8>$?($=p(Math.pow(I,$)),L=L.j($).add(p(N))):(L=L.j(x),L=L.add(p(N)))}return L}var v=f(0),E=f(1),P=f(16777216);n=u.prototype,n.m=function(){if(O(this))return-k(this).m();for(var M=0,I=1,x=0;x<this.g.length;x++){var L=this.i(x);M+=(0<=L?L:4294967296+L)*I,I*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(S(this))return"0";if(O(this))return"-"+k(this).toString(M);for(var I=p(Math.pow(M,6)),x=this,L="";;){var V=F(x,I).g;x=D(x,V.j(I));var $=((0<x.g.length?x.g[0]:x.h)>>>0).toString(M);if(x=V,S(x))return $+L;for(;6>$.length;)$="0"+$;L=$+L}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function S(M){if(M.h!=0)return!1;for(var I=0;I<M.g.length;I++)if(M.g[I]!=0)return!1;return!0}function O(M){return M.h==-1}n.l=function(M){return M=D(this,M),O(M)?-1:S(M)?0:1};function k(M){for(var I=M.g.length,x=[],L=0;L<I;L++)x[L]=~M.g[L];return new u(x,~M.h).add(E)}n.abs=function(){return O(this)?k(this):this},n.add=function(M){for(var I=Math.max(this.g.length,M.g.length),x=[],L=0,V=0;V<=I;V++){var $=L+(this.i(V)&65535)+(M.i(V)&65535),N=($>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);L=N>>>16,$&=65535,N&=65535,x[V]=N<<16|$}return new u(x,x[x.length-1]&-2147483648?-1:0)};function D(M,I){return M.add(k(I))}n.j=function(M){if(S(this)||S(M))return v;if(O(this))return O(M)?k(this).j(k(M)):k(k(this).j(M));if(O(M))return k(this.j(k(M)));if(0>this.l(P)&&0>M.l(P))return p(this.m()*M.m());for(var I=this.g.length+M.g.length,x=[],L=0;L<2*I;L++)x[L]=0;for(L=0;L<this.g.length;L++)for(var V=0;V<M.g.length;V++){var $=this.i(L)>>>16,N=this.i(L)&65535,ue=M.i(V)>>>16,_e=M.i(V)&65535;x[2*L+2*V]+=N*_e,R(x,2*L+2*V),x[2*L+2*V+1]+=$*_e,R(x,2*L+2*V+1),x[2*L+2*V+1]+=N*ue,R(x,2*L+2*V+1),x[2*L+2*V+2]+=$*ue,R(x,2*L+2*V+2)}for(L=0;L<I;L++)x[L]=x[2*L+1]<<16|x[2*L];for(L=I;L<2*I;L++)x[L]=0;return new u(x,0)};function R(M,I){for(;(M[I]&65535)!=M[I];)M[I+1]+=M[I]>>>16,M[I]&=65535,I++}function A(M,I){this.g=M,this.h=I}function F(M,I){if(S(I))throw Error("division by zero");if(S(M))return new A(v,v);if(O(M))return I=F(k(M),I),new A(k(I.g),k(I.h));if(O(I))return I=F(M,k(I)),new A(k(I.g),I.h);if(30<M.g.length){if(O(M)||O(I))throw Error("slowDivide_ only works with positive integers.");for(var x=E,L=I;0>=L.l(M);)x=H(x),L=H(L);var V=X(x,1),$=X(L,1);for(L=X(L,2),x=X(x,2);!S(L);){var N=$.add(L);0>=N.l(M)&&(V=V.add(x),$=N),L=X(L,1),x=X(x,1)}return I=D(M,V.j(I)),new A(V,I)}for(V=v;0<=M.l(I);){for(x=Math.max(1,Math.floor(M.m()/I.m())),L=Math.ceil(Math.log(x)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),$=p(x),N=$.j(I);O(N)||0<N.l(M);)x-=L,$=p(x),N=$.j(I);S($)&&($=E),V=V.add($),M=D(M,N)}return new A(V,M)}n.A=function(M){return F(this,M).h},n.and=function(M){for(var I=Math.max(this.g.length,M.g.length),x=[],L=0;L<I;L++)x[L]=this.i(L)&M.i(L);return new u(x,this.h&M.h)},n.or=function(M){for(var I=Math.max(this.g.length,M.g.length),x=[],L=0;L<I;L++)x[L]=this.i(L)|M.i(L);return new u(x,this.h|M.h)},n.xor=function(M){for(var I=Math.max(this.g.length,M.g.length),x=[],L=0;L<I;L++)x[L]=this.i(L)^M.i(L);return new u(x,this.h^M.h)};function H(M){for(var I=M.g.length+1,x=[],L=0;L<I;L++)x[L]=M.i(L)<<1|M.i(L-1)>>>31;return new u(x,M.h)}function X(M,I){var x=I>>5;I%=32;for(var L=M.g.length-x,V=[],$=0;$<L;$++)V[$]=0<I?M.i($+x)>>>I|M.i($+x+1)<<32-I:M.i($+x);return new u(V,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,yT=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=g,qi=u}).apply(typeof Lv<"u"?Lv:typeof self<"u"?self:typeof window<"u"?window:{});var Oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _T,bl,vT,Gc,Fp,wT,ET,TT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,w){return c==Array.prototype||c==Object.prototype||(c[y]=w.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oc=="object"&&Oc];for(var y=0;y<c.length;++y){var w=c[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=t(this);function s(c,y){if(y)e:{var w=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var G=c[b];if(!(G in w))break e;w=w[G]}c=c[c.length-1],b=w[c],y=y(b),y!=b&&y!=null&&e(w,c,{configurable:!0,writable:!0,value:y})}}function a(c,y){c instanceof String&&(c+="");var w=0,b=!1,G={next:function(){if(!b&&w<c.length){var Y=w++;return{value:y(Y,c[Y]),done:!1}}return b=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}s("Array.prototype.values",function(c){return c||function(){return a(this,function(y,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,w){return c.call.apply(c.bind,arguments)}function v(c,y,w){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,b),c.apply(y,G)}}return function(){return c.apply(y,arguments)}}function E(c,y,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,E.apply(null,arguments)}function P(c,y){var w=Array.prototype.slice.call(arguments,1);return function(){var b=w.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function S(c,y){function w(){}w.prototype=y.prototype,c.aa=y.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(b,G,Y){for(var ae=Array(arguments.length-2),We=2;We<arguments.length;We++)ae[We-2]=arguments[We];return y.prototype[G].apply(b,ae)}}function O(c){const y=c.length;if(0<y){const w=Array(y);for(let b=0;b<y;b++)w[b]=c[b];return w}return[]}function k(c,y){for(let w=1;w<arguments.length;w++){const b=arguments[w];if(f(b)){const G=c.length||0,Y=b.length||0;c.length=G+Y;for(let ae=0;ae<Y;ae++)c[G+ae]=b[ae]}else c.push(b)}}class D{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function R(c){return/^[\s\xa0]*$/.test(c)}function A(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function F(c){return F[" "](c),c}F[" "]=function(){};var H=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function X(c,y,w){for(const b in c)y.call(w,c[b],b,c)}function M(c,y){for(const w in c)y.call(void 0,c[w],w,c)}function I(c){const y={};for(const w in c)y[w]=c[w];return y}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(c,y){let w,b;for(let G=1;G<arguments.length;G++){b=arguments[G];for(w in b)c[w]=b[w];for(let Y=0;Y<x.length;Y++)w=x[Y],Object.prototype.hasOwnProperty.call(b,w)&&(c[w]=b[w])}}function V(c){var y=1;c=c.split(":");const w=[];for(;0<y&&c.length;)w.push(c.shift()),y--;return c.length&&w.push(c.join(":")),w}function $(c){d.setTimeout(()=>{throw c},0)}function N(){var c=le;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ue{constructor(){this.h=this.g=null}add(y,w){const b=_e.get();b.set(y,w),this.h?this.h.next=b:this.g=b,this.h=b}}var _e=new D(()=>new ve,c=>c.reset());class ve{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Pe,re=!1,le=new ue,oe=()=>{const c=d.Promise.resolve(void 0);Pe=()=>{c.then(W)}};var W=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(w){$(w)}var y=_e;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}re=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};d.addEventListener("test",w,y),d.removeEventListener("test",w,y)}catch{}return c}();function Ne(c,y){if(ge.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(H){e:{try{F(y.nodeName);var G=!0;break e}catch{}G=!1}G||(y=null)}}else w=="mouseover"?y=c.fromElement:w=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ce[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ne.aa.h.call(this)}}S(Ne,ge);var ce={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function Ke(c,y,w,b,G){this.listener=c,this.proxy=null,this.src=y,this.type=w,this.capture=!!b,this.ha=G,this.key=++Oe,this.da=this.fa=!1}function It(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Nr(c){this.src=c,this.g={},this.h=0}Nr.prototype.add=function(c,y,w,b,G){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var ae=ci(c,y,b,G);return-1<ae?(y=c[ae],w||(y.fa=!1)):(y=new Ke(y,this.src,Y,!!b,G),y.fa=w,c.push(y)),y};function Qs(c,y){var w=y.type;if(w in c.g){var b=c.g[w],G=Array.prototype.indexOf.call(b,y,void 0),Y;(Y=0<=G)&&Array.prototype.splice.call(b,G,1),Y&&(It(y),c.g[w].length==0&&(delete c.g[w],c.h--))}}function ci(c,y,w,b){for(var G=0;G<c.length;++G){var Y=c[G];if(!Y.da&&Y.listener==y&&Y.capture==!!w&&Y.ha==b)return G}return-1}var is="closure_lm_"+(1e6*Math.random()|0),Ys={};function Ia(c,y,w,b,G){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)Ia(c,y[Y],w,b,G);return null}return w=xa(w),c&&c[we]?c.K(y,w,p(b)?!!b.capture:!1,G):Ca(c,y,w,!1,b,G)}function Ca(c,y,w,b,G,Y){if(!y)throw Error("Invalid event type");var ae=p(G)?!!G.capture:!!G,We=Js(c);if(We||(c[is]=We=new Nr(c)),w=We.add(y,w,b,ae,Y),w.proxy)return w;if(b=du(),w.proxy=b,b.src=c,b.listener=w,c.addEventListener)ke||(G=ae),G===void 0&&(G=!1),c.addEventListener(y.toString(),b,G);else if(c.attachEvent)c.attachEvent(Lr(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return w}function du(){function c(w){return y.call(c.src,c.listener,w)}const y=Pa;return c}function Xs(c,y,w,b,G){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Xs(c,y[Y],w,b,G);else b=p(b)?!!b.capture:!!b,w=xa(w),c&&c[we]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],w=ci(Y,w,b,G),-1<w&&(It(Y[w]),Array.prototype.splice.call(Y,w,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=Js(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ci(y,w,b,G)),(w=-1<c?y[c]:null)&&Or(w))}function Or(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[we])Qs(y.i,c);else{var w=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(w,b,c.capture):y.detachEvent?y.detachEvent(Lr(w),b):y.addListener&&y.removeListener&&y.removeListener(b),(w=Js(y))?(Qs(w,c),w.h==0&&(w.src=null,y[is]=null)):It(c)}}}function Lr(c){return c in Ys?Ys[c]:Ys[c]="on"+c}function Pa(c,y){if(c.da)c=!0;else{y=new Ne(y,this);var w=c.listener,b=c.ha||c.src;c.fa&&Or(c),c=w.call(b,y)}return c}function Js(c){return c=c[is],c instanceof Nr?c:null}var Zs="__closure_events_fn_"+(1e9*Math.random()>>>0);function xa(c){return typeof c=="function"?c:(c[Zs]||(c[Zs]=function(y){return c.handleEvent(y)}),c[Zs])}function gt(){J.call(this),this.i=new Nr(this),this.M=this,this.F=null}S(gt,J),gt.prototype[we]=!0,gt.prototype.removeEventListener=function(c,y,w,b){Xs(this,c,y,w,b)};function yt(c,y){var w,b=c.F;if(b)for(w=[];b;b=b.F)w.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new ge(y,c);else if(y instanceof ge)y.target=y.target||c;else{var G=y;y=new ge(b,c),L(y,G)}if(G=!0,w)for(var Y=w.length-1;0<=Y;Y--){var ae=y.g=w[Y];G=Dr(ae,b,!0,y)&&G}if(ae=y.g=c,G=Dr(ae,b,!0,y)&&G,G=Dr(ae,b,!1,y)&&G,w)for(Y=0;Y<w.length;Y++)ae=y.g=w[Y],G=Dr(ae,b,!1,y)&&G}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var w=c.g[y],b=0;b<w.length;b++)It(w[b]);delete c.g[y],c.h--}}this.F=null},gt.prototype.K=function(c,y,w,b){return this.i.add(String(c),y,!1,w,b)},gt.prototype.L=function(c,y,w,b){return this.i.add(String(c),y,!0,w,b)};function Dr(c,y,w,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var G=!0,Y=0;Y<y.length;++Y){var ae=y[Y];if(ae&&!ae.da&&ae.capture==w){var We=ae.listener,_t=ae.ha||ae.src;ae.fa&&Qs(c.i,ae),G=We.call(_t,b)!==!1&&G}}return G&&!b.defaultPrevented}function Ra(c,y,w){if(typeof c=="function")w&&(c=E(c,w));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function di(c){c.g=Ra(()=>{c.g=null,c.i&&(c.i=!1,di(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ss extends J{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:di(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function os(c){J.call(this),this.h=c,this.g={}}S(os,J);var Aa=[];function ba(c){X(c.g,function(y,w){this.g.hasOwnProperty(w)&&Or(y)},c),c.g={}}os.prototype.N=function(){os.aa.N.call(this),ba(this)},os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ka=d.JSON.stringify,Na=d.JSON.parse,Oa=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function as(){}as.prototype.h=null;function eo(c){return c.h||(c.h=c.i())}function to(){}var In={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cr(){ge.call(this,"d")}S(cr,ge);function no(){ge.call(this,"c")}S(no,ge);var dr={},La=null;function ls(){return La=La||new gt}dr.La="serverreachability";function Da(c){ge.call(this,dr.La,c)}S(Da,ge);function Mr(c){const y=ls();yt(y,new Da(y))}dr.STAT_EVENT="statevent";function Ma(c,y){ge.call(this,dr.STAT_EVENT,c),this.stat=y}S(Ma,ge);function ct(c){const y=ls();yt(y,new Ma(y,c))}dr.Ma="timingevent";function ro(c,y){ge.call(this,dr.Ma,c),this.size=y}S(ro,ge);function Fn(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function us(){this.g=!0}us.prototype.xa=function(){this.g=!1};function cs(c,y,w,b,G,Y){c.info(function(){if(c.g)if(Y)for(var ae="",We=Y.split("&"),_t=0;_t<We.length;_t++){var Fe=We[_t].split("=");if(1<Fe.length){var Ct=Fe[0];Fe=Fe[1];var ht=Ct.split("_");ae=2<=ht.length&&ht[1]=="type"?ae+(Ct+"="+Fe+"&"):ae+(Ct+"=redacted&")}}else ae=null;else ae=Y;return"XMLHTTP REQ ("+b+") [attempt "+G+"]: "+y+`
`+w+`
`+ae})}function io(c,y,w,b,G,Y,ae){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+G+"]: "+y+`
`+w+`
`+Y+" "+ae})}function $n(c,y,w,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+of(c,w)+(b?" "+b:"")})}function Va(c,y){c.info(function(){return"TIMEOUT: "+y})}us.prototype.info=function(){};function of(c,y){if(!c.g)return y;if(!y)return null;try{var w=JSON.parse(y);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var b=w[c];if(!(2>b.length)){var G=b[1];if(Array.isArray(G)&&!(1>G.length)){var Y=G[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ae=1;ae<G.length;ae++)G[ae]=""}}}}return ka(w)}catch{return y}}var so={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zn;function ds(){}S(ds,as),ds.prototype.g=function(){return new XMLHttpRequest},ds.prototype.i=function(){return{}},zn=new ds;function Un(c,y,w,b){this.j=c,this.i=y,this.l=w,this.R=b||1,this.U=new os(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new hu}function hu(){this.i=null,this.g="",this.h=!1}var ja={},oo={};function ao(c,y,w){c.L=1,c.v=gi(hn(y)),c.m=w,c.P=!0,Fa(c,null)}function Fa(c,y){c.F=Date.now(),Qe(c),c.A=hn(c.v);var w=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),_i(w.i,"t",b),c.C=0,w=c.j.J,c.h=new hu,c.g=ku(c.j,w?y:null,!c.m),0<c.O&&(c.M=new ss(E(c.Y,c,c.g),c.O)),y=c.U,w=c.g,b=c.ca;var G="readystatechange";Array.isArray(G)||(G&&(Aa[0]=G.toString()),G=Aa);for(var Y=0;Y<G.length;Y++){var ae=Ia(w,G[Y],b||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Mr(),cs(c.i,c.u,c.A,c.l,c.R,c.m)}Un.prototype.ca=function(c){c=c.target;const y=this.M;y&&tn(c)==3?y.j():this.Y(c)},Un.prototype.Y=function(c){try{if(c==this.g)e:{const ht=tn(this.g);var y=this.g.Ba();const xn=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||Wa(this.g)))){this.J||ht!=4||y==7||(y==8||0>=xn?Mr(3):Mr(2)),fs(this);var w=this.g.Z();this.X=w;t:if(pu(this)){var b=Wa(this.g);c="";var G=b.length,Y=tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cn(this),fi(this);var ae="";break t}this.h.i=new d.TextDecoder}for(y=0;y<G;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(Y&&y==G-1)});b.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=w==200,io(this.i,this.u,this.A,this.l,this.R,ht,w),this.o){if(this.T&&!this.K){t:{if(this.g){var We,_t=this.g;if((We=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(We)){var Fe=We;break t}}Fe=null}if(w=Fe)$n(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$a(this,w);else{this.o=!1,this.s=3,ct(12),Cn(this),fi(this);break e}}if(this.P){w=!0;let mn;for(;!this.J&&this.C<ae.length;)if(mn=af(this,ae),mn==oo){ht==4&&(this.s=4,ct(14),w=!1),$n(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==ja){this.s=4,ct(15),$n(this.i,this.l,ae,"[Invalid Chunk]"),w=!1;break}else $n(this.i,this.l,mn,null),$a(this,mn);if(pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||ae.length!=0||this.h.h||(this.s=1,ct(16),w=!1),this.o=this.o&&w,!w)$n(this.i,this.l,ae,"[Invalid Chunked Response]"),Cn(this),fi(this);else if(0<ae.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),qa(Ct),Ct.M=!0,ct(11))}}else $n(this.i,this.l,ae,null),$a(this,ae);ht==4&&Cn(this),this.o&&!this.J&&(ht==4?vo(this.j,this):(this.o=!1,Qe(this)))}else po(this.g),w==400&&0<ae.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),Cn(this),fi(this)}}}catch{}finally{}};function pu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function af(c,y){var w=c.C,b=y.indexOf(`
`,w);return b==-1?oo:(w=Number(y.substring(w,b)),isNaN(w)?ja:(b+=1,b+w>y.length?oo:(y=y.slice(b,b+w),c.C=b+w,y)))}Un.prototype.cancel=function(){this.J=!0,Cn(this)};function Qe(c){c.S=Date.now()+c.I,mu(c,c.I)}function mu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Fn(E(c.ba,c),y)}function fs(c){c.B&&(d.clearTimeout(c.B),c.B=null)}Un.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Va(this.i,this.A),this.L!=2&&(Mr(),ct(17)),Cn(this),this.s=2,fi(this)):mu(this,this.S-c)};function fi(c){c.j.G==0||c.J||vo(c.j,c)}function Cn(c){fs(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ba(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function $a(c,y){try{var w=c.j;if(w.G!=0&&(w.g==c||Qt(w.h,c))){if(!c.K&&Qt(w.h,c)&&w.G==3){try{var b=w.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var G=b;if(G[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)_o(w),qn(w);else break e;yo(w),ct(18)}}else w.za=G[1],0<w.za-w.T&&37500>G[2]&&w.F&&w.v==0&&!w.C&&(w.C=Fn(E(w.Za,w),6e3));if(1>=yu(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else zr(w,11)}else if((c.K||w.g==c)&&_o(w),!R(y))for(G=w.Da.g.parse(y),y=0;y<G.length;y++){let Fe=G[y];if(w.T=Fe[0],Fe=Fe[1],w.G==2)if(Fe[0]=="c"){w.K=Fe[1],w.ia=Fe[2];const Ct=Fe[3];Ct!=null&&(w.la=Ct,w.j.info("VER="+w.la));const ht=Fe[4];ht!=null&&(w.Aa=ht,w.j.info("SVER="+w.Aa));const xn=Fe[5];xn!=null&&typeof xn=="number"&&0<xn&&(b=1.5*xn,w.L=b,w.j.info("backChannelRequestTimeoutMs_="+b)),b=w;const mn=c.g;if(mn){const vs=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vs){var Y=b.h;Y.g||vs.indexOf("spdy")==-1&&vs.indexOf("quic")==-1&&vs.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(za(Y,Y.h),Y.h=null))}if(b.D){const Eo=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Eo&&(b.ya=Eo,qe(b.I,b.D,Eo))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),b=w;var ae=c;if(b.qa=bu(b,b.J?b.ia:null,b.W),ae.K){_u(b.h,ae);var We=ae,_t=b.L;_t&&(We.I=_t),We.B&&(fs(We),Qe(We)),b.g=ae}else _s(b);0<w.i.length&&mr(w)}else Fe[0]!="stop"&&Fe[0]!="close"||zr(w,7);else w.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?zr(w,7):Nt(w):Fe[0]!="noop"&&w.l&&w.l.ta(Fe),w.v=0)}}Mr(4)}catch{}}var gu=class{constructor(c,y){this.g=c,this.map=y}};function hs(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function yu(c){return c.h?1:c.g?c.g.size:0}function Qt(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function za(c,y){c.g?c.g.add(y):c.h=y}function _u(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}hs.prototype.cancel=function(){if(this.i=vu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function vu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const w of c.g.values())y=y.concat(w.D);return y}return O(c.i)}function lo(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var y=[],w=c.length,b=0;b<w;b++)y.push(c[b]);return y}y=[],w=0;for(b in c)y[w++]=c[b];return y}function uo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var y=[];c=c.length;for(var w=0;w<c;w++)y.push(w);return y}y=[],w=0;for(const b in c)y[w++]=b;return y}}}function hi(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var w=uo(c),b=lo(c),G=b.length,Y=0;Y<G;Y++)y.call(void 0,b[Y],w&&w[Y],c)}var ps=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lf(c,y){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var b=c[w].indexOf("="),G=null;if(0<=b){var Y=c[w].substring(0,b);G=c[w].substring(b+1)}else Y=c[w];y(Y,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Vr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Vr){this.h=c.h,ms(this,c.j),this.o=c.o,this.g=c.g,pi(this,c.s),this.l=c.l;var y=c.i,w=new fr;w.i=y.i,y.g&&(w.g=new Map(y.g),w.h=y.h),mi(this,w),this.m=c.m}else c&&(y=String(c).match(ps))?(this.h=!1,ms(this,y[1]||"",!0),this.o=Ve(y[2]||""),this.g=Ve(y[3]||"",!0),pi(this,y[4]),this.l=Ve(y[5]||"",!0),mi(this,y[6]||"",!0),this.m=Ve(y[7]||"")):(this.h=!1,this.i=new fr(null,this.h))}Vr.prototype.toString=function(){var c=[],y=this.j;y&&c.push(yi(y,co,!0),":");var w=this.g;return(w||y=="file")&&(c.push("//"),(y=this.o)&&c.push(yi(y,co,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(yi(w,w.charAt(0)=="/"?Tu:Eu,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",yi(w,Ua)),c.join("")};function hn(c){return new Vr(c)}function ms(c,y,w){c.j=w?Ve(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function pi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function mi(c,y,w){y instanceof fr?(c.i=y,hr(c.i,c.h)):(w||(y=yi(y,Su)),c.i=new fr(y,c.h))}function qe(c,y,w){c.i.set(y,w)}function gi(c){return qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ve(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function yi(c,y,w){return typeof c=="string"?(c=encodeURI(c).replace(y,wu),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function wu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var co=/[#\/\?@]/g,Eu=/[#\?:]/g,Tu=/[#\?]/g,Su=/[#\?@]/g,Ua=/#/g;function fr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function kt(c){c.g||(c.g=new Map,c.h=0,c.i&&lf(c.i,function(y,w){c.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}n=fr.prototype,n.add=function(c,y){kt(this),this.i=null,c=Pn(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(y),this.h+=1,this};function Bn(c,y){kt(c),y=Pn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Hn(c,y){return kt(c),y=Pn(c,y),c.g.has(y)}n.forEach=function(c,y){kt(this),this.g.forEach(function(w,b){w.forEach(function(G){c.call(y,G,b,this)},this)},this)},n.na=function(){kt(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),w=[];for(let b=0;b<y.length;b++){const G=c[b];for(let Y=0;Y<G.length;Y++)w.push(y[b])}return w},n.V=function(c){kt(this);let y=[];if(typeof c=="string")Hn(this,c)&&(y=y.concat(this.g.get(Pn(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)y=y.concat(c[w])}return y},n.set=function(c,y){return kt(this),this.i=null,c=Pn(this,c),Hn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function _i(c,y,w){Bn(c,y),0<w.length&&(c.i=null,c.g.set(Pn(c,y),O(w)),c.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var w=0;w<y.length;w++){var b=y[w];const Y=encodeURIComponent(String(b)),ae=this.V(b);for(b=0;b<ae.length;b++){var G=Y;ae[b]!==""&&(G+="="+encodeURIComponent(String(ae[b]))),c.push(G)}}return this.i=c.join("&")};function Pn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function hr(c,y){y&&!c.j&&(kt(c),c.i=null,c.g.forEach(function(w,b){var G=b.toLowerCase();b!=G&&(Bn(this,b),_i(this,G,w))},c)),c.j=y}function uf(c,y){const w=new us;if(d.Image){const b=new Image;b.onload=P(en,w,"TestLoadImage: loaded",!0,y,b),b.onerror=P(en,w,"TestLoadImage: error",!1,y,b),b.onabort=P(en,w,"TestLoadImage: abort",!1,y,b),b.ontimeout=P(en,w,"TestLoadImage: timeout",!1,y,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function Iu(c,y){const w=new us,b=new AbortController,G=setTimeout(()=>{b.abort(),en(w,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(Y=>{clearTimeout(G),Y.ok?en(w,"TestPingServer: ok",!0,y):en(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(G),en(w,"TestPingServer: error",!1,y)})}function en(c,y,w,b,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),b(w)}catch{}}function cf(){this.g=new Oa}function Cu(c,y,w){const b=w||"";try{hi(c,function(G,Y){let ae=G;p(G)&&(ae=ka(G)),y.push(b+Y+"="+encodeURIComponent(ae))})}catch(G){throw y.push(b+"type="+encodeURIComponent("_badmap")),G}}function jr(c){this.l=c.Ub||null,this.j=c.eb||!1}S(jr,as),jr.prototype.g=function(){return new gs(this.l,this.j)},jr.prototype.i=function(c){return function(){return c}}({});function gs(c,y){gt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(gs,gt),n=gs.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Gn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Wn(this):Gn(this),this.readyState==3&&Pu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Wn(this))},n.Qa=function(c){this.g&&(this.response=c,Wn(this))},n.ga=function(){this.g&&Wn(this)};function Wn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Gn(c)}n.setRequestHeader=function(c,y){this.u.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=y.next();return c.join(`\r
`)};function Gn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(gs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Fr(c){let y="";return X(c,function(w,b){y+=b,y+=":",y+=w,y+=`\r
`}),y}function vi(c,y,w){e:{for(b in w){var b=!1;break e}b=!0}b||(w=Fr(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):qe(c,y,w))}function Ze(c){gt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Ze,gt);var df=/^https?$/i,Ba=["POST","PUT"];n=Ze.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,y,w,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zn.g(),this.v=this.o?eo(this.o):eo(zn),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){ys(this,Y);return}if(c=w||"",w=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var G in b)w.set(G,b[G]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Y of b.keys())w.set(Y,b.get(Y));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(w.keys()).find(Y=>Y.toLowerCase()=="content-type"),G=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ba,y,void 0))||b||G||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ae]of w)this.g.setRequestHeader(Y,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ho(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){ys(this,Y)}};function ys(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,fo(c),pn(c)}function fo(c){c.A||(c.A=!0,yt(c,"complete"),yt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,yt(this,"complete"),yt(this,"abort"),pn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pn(this,!0)),Ze.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ha(this):this.bb())},n.bb=function(){Ha(this)};function Ha(c){if(c.h&&typeof u<"u"&&(!c.v[1]||tn(c)!=4||c.Z()!=2)){if(c.u&&tn(c)==4)Ra(c.Ea,0,c);else if(yt(c,"readystatechange"),tn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var b;if(b=ae===0){var G=String(c.D).match(ps)[1]||null;!G&&d.self&&d.self.location&&(G=d.self.location.protocol.slice(0,-1)),b=!df.test(G?G.toLowerCase():"")}w=b}if(w)yt(c,"complete"),yt(c,"success");else{c.m=6;try{var Y=2<tn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",fo(c)}}finally{pn(c)}}}}function pn(c,y){if(c.g){ho(c);const w=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||yt(c,"ready");try{w.onreadystatechange=b}catch{}}}function ho(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function tn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<tn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Na(y)}};function Wa(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function po(c){const y={};c=(c.g&&2<=tn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(R(c[b]))continue;var w=V(c[b]);const G=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const Y=y[G]||[];y[G]=Y,Y.push(w)}M(y,function(b){return b.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pr(c,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||y}function Ga(c){this.Aa=0,this.i=[],this.j=new us,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pr("baseRetryDelayMs",5e3,c),this.cb=pr("retryDelaySeedMs",1e4,c),this.Wa=pr("forwardChannelMaxRetries",2,c),this.wa=pr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new hs(c&&c.concurrentRequestLimit),this.Da=new cf,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ga.prototype,n.la=8,n.G=1,n.connect=function(c,y,w,b){ct(0),this.W=c,this.H=y||{},w&&b!==void 0&&(this.H.OSID=w,this.H.OAID=b),this.F=this.X,this.I=bu(this,null,this.W),mr(this)};function Nt(c){if(mo(c),c.G==3){var y=c.U++,w=hn(c.I);if(qe(w,"SID",c.K),qe(w,"RID",y),qe(w,"TYPE","terminate"),$r(c,w),y=new Un(c,c.j,y),y.L=2,y.v=gi(hn(w)),w=!1,d.navigator&&d.navigator.sendBeacon)try{w=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!w&&d.Image&&(new Image().src=y.v,w=!0),w||(y.g=ku(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Qe(y)}Au(c)}function qn(c){c.g&&(qa(c),c.g.cancel(),c.g=null)}function mo(c){qn(c),c.u&&(d.clearTimeout(c.u),c.u=null),_o(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function mr(c){if(!fn(c.h)&&!c.s){c.s=!0;var y=c.Ga;Pe||oe(),re||(Pe(),re=!0),le.add(y,c),c.B=0}}function ff(c,y){return yu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Fn(E(c.Ga,c,y),Ru(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const G=new Un(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=I(Y),L(Y,this.S)):Y=this.S),this.m!==null||this.O||(G.H=Y,Y=null),this.P)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var b=this.i[w];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=wi(this,G,y),w=hn(this.I),qe(w,"RID",c),qe(w,"CVER",22),this.D&&qe(w,"X-HTTP-Session-Id",this.D),$r(this,w),Y&&(this.O?y="headers="+encodeURIComponent(String(Fr(Y)))+"&"+y:this.m&&vi(w,this.m,Y)),za(this.h,G),this.Ua&&qe(w,"TYPE","init"),this.P?(qe(w,"$req",y),qe(w,"SID","null"),G.T=!0,ao(G,w,null)):ao(G,w,y),this.G=2}}else this.G==3&&(c?go(this,c):this.i.length==0||fn(this.h)||go(this))};function go(c,y){var w;y?w=y.l:w=c.U++;const b=hn(c.I);qe(b,"SID",c.K),qe(b,"RID",w),qe(b,"AID",c.T),$r(c,b),c.m&&c.o&&vi(b,c.m,c.o),w=new Un(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),y&&(c.i=y.D.concat(c.i)),y=wi(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),za(c.h,w),ao(w,b,y)}function $r(c,y){c.H&&X(c.H,function(w,b){qe(y,b,w)}),c.l&&hi({},function(w,b){qe(y,b,w)})}function wi(c,y,w){w=Math.min(c.i.length,w);var b=c.l?E(c.l.Na,c.l,c):null;e:{var G=c.i;let Y=-1;for(;;){const ae=["count="+w];Y==-1?0<w?(Y=G[0].g,ae.push("ofs="+Y)):Y=0:ae.push("ofs="+Y);let We=!0;for(let _t=0;_t<w;_t++){let Fe=G[_t].g;const Ct=G[_t].map;if(Fe-=Y,0>Fe)Y=Math.max(0,G[_t].g-100),We=!1;else try{Cu(Ct,ae,"req"+Fe+"_")}catch{b&&b(Ct)}}if(We){b=ae.join("&");break e}}}return c=c.i.splice(0,w),y.D=c,b}function _s(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;Pe||oe(),re||(Pe(),re=!0),le.add(y,c),c.v=0}}function yo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Fn(E(c.Fa,c),Ru(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Fn(E(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),qn(this),xu(this))};function qa(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function xu(c){c.g=new Un(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=hn(c.qa);qe(y,"RID","rpc"),qe(y,"SID",c.K),qe(y,"AID",c.T),qe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&qe(y,"TO",c.ja),qe(y,"TYPE","xmlhttp"),$r(c,y),c.m&&c.o&&vi(y,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=gi(hn(y)),w.m=null,w.P=!0,Fa(w,c)}n.Za=function(){this.C!=null&&(this.C=null,qn(this),yo(this),ct(19))};function _o(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function vo(c,y){var w=null;if(c.g==y){_o(c),qa(c),c.g=null;var b=2}else if(Qt(c.h,y))w=y.D,_u(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){w=y.m?y.m.length:0,y=Date.now()-y.F;var G=c.B;b=ls(),yt(b,new ro(b,w)),mr(c)}else _s(c);else if(G=y.s,G==3||G==0&&0<y.X||!(b==1&&ff(c,y)||b==2&&yo(c)))switch(w&&0<w.length&&(y=c.h,y.i=y.i.concat(w)),G){case 1:zr(c,5);break;case 4:zr(c,10);break;case 3:zr(c,6);break;default:zr(c,2)}}}function Ru(c,y){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*y}function zr(c,y){if(c.j.info("Error code "+y),y==2){var w=E(c.fb,c),b=c.Xa;const G=!b;b=new Vr(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ms(b,"https"),gi(b),G?uf(b.toString(),w):Iu(b.toString(),w)}else ct(2);c.G=0,c.l&&c.l.sa(y),Au(c),mo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function Au(c){if(c.G=0,c.ka=[],c.l){const y=vu(c.h);(y.length!=0||c.i.length!=0)&&(k(c.ka,y),k(c.ka,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.ra()}}function bu(c,y,w){var b=w instanceof Vr?hn(w):new Vr(w);if(b.g!="")y&&(b.g=y+"."+b.g),pi(b,b.s);else{var G=d.location;b=G.protocol,y=y?y+"."+G.hostname:G.hostname,G=+G.port;var Y=new Vr(null);b&&ms(Y,b),y&&(Y.g=y),G&&pi(Y,G),w&&(Y.l=w),b=Y}return w=c.D,y=c.ya,w&&y&&qe(b,w,y),qe(b,"VER",c.la),$r(c,b),b}function ku(c,y,w){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ze(new jr({eb:w})):new Ze(c.pa),y.Ha(c.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ka(){}n=Ka.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function wo(){}wo.prototype.g=function(c,y){return new Yt(c,y)};function Yt(c,y){gt.call(this),this.g=new Ga(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!R(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!R(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new gr(this)}S(Yt,gt),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){Nt(this.g)},Yt.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=ka(c),c=w);y.i.push(new gu(y.Ya++,c)),y.G==3&&mr(y)},Yt.prototype.N=function(){this.g.l=null,delete this.j,Nt(this.g),delete this.g,Yt.aa.N.call(this)};function Nu(c){cr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const w in y){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}S(Nu,cr);function Ou(){no.call(this),this.status=1}S(Ou,no);function gr(c){this.g=c}S(gr,Ka),gr.prototype.ua=function(){yt(this.g,"a")},gr.prototype.ta=function(c){yt(this.g,new Nu(c))},gr.prototype.sa=function(c){yt(this.g,new Ou)},gr.prototype.ra=function(){yt(this.g,"b")},wo.prototype.createWebChannel=wo.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,TT=function(){return new wo},ET=function(){return ls()},wT=dr,Fp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},so.NO_ERROR=0,so.TIMEOUT=8,so.HTTP_ERROR=6,Gc=so,fu.COMPLETE="complete",vT=fu,to.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",gt.prototype.listen=gt.prototype.K,bl=to,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,_T=Ze}).apply(typeof Oc<"u"?Oc:typeof self<"u"?self:typeof window<"u"?window:{});const Dv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wa="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new ym("@firebase/firestore");function Uo(){return Bs.logLevel}function fe(n,...e){if(Bs.logLevel<=De.DEBUG){const t=e.map(Mm);Bs.debug(`Firestore (${wa}): ${n}`,...t)}}function oi(n,...e){if(Bs.logLevel<=De.ERROR){const t=e.map(Mm);Bs.error(`Firestore (${wa}): ${n}`,...t)}}function sa(n,...e){if(Bs.logLevel<=De.WARN){const t=e.map(Mm);Bs.warn(`Firestore (${wa}): ${n}`,...t)}}function Mm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(n="Unexpected state"){const e=`FIRESTORE (${wa}) INTERNAL ASSERTION FAILED: `+n;throw oi(e),new Error(e)}function He(n,e){n||Re()}function be(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends ui{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Gt.UNAUTHENTICATED))}shutdown(){}}class nL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class rL{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){He(this.o===void 0);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ki,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},d=f=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ki)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string"),new ST(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string"),new Gt(e)}}class iL{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class sL{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new iL(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){He(this.o===void 0);const r=a=>{a.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,fe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(He(typeof t.token=="string"),this.R=t.token,new oL(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=lL(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%e.length))}return r}}function je(n,e){return n<e?-1:n>e?1:0}function oa(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Tt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Se(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Se(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Se(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Tt(0,0))}static max(){return new Ae(new Tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Re(),r===void 0?r=e.length-t:r>e.length-t&&Re(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Tr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Tr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=Tr.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Tr.isNumericId(e),s=Tr.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Tr.extractNumericId(e).compare(Tr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qi.fromString(e.substring(4,e.length-2))}}class ut extends Tr{construct(e,t,r){return new ut(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new ut(t)}static emptyPath(){return new ut([])}}const uL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends Tr{construct(e,t,r){return new jt(e,t,r)}static isValidIdentifier(e){return uL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new jt(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new Se(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new Se(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Se(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else d==="`"?(u=!u,s++):d!=="."||u?(r+=d,s++):(a(),s++)}if(a(),u)throw new Se(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(t)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(ut.fromString(e))}static fromName(e){return new Ie(ut.fromString(e).popFirst(5))}static empty(){return new Ie(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ut.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new ut(e.slice()))}}function cL(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Ae.fromTimestamp(r===1e9?new Tt(t+1,0):new Tt(t,r));return new Xi(s,Ie.empty(),e)}function dL(n){return new Xi(n.readTime,n.key,-1)}class Xi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Xi(Ae.min(),Ie.empty(),-1)}static max(){return new Xi(Ae.max(),Ie.empty(),-1)}}function fL(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ie.comparator(n.documentKey,e.documentKey),t!==0?t:je(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ea(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==hL)throw n;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.reject(t)}static resolve(e){return new Z((t,r)=>{t(e)})}static reject(e){return new Z((t,r)=>{r(e)})}static waitFor(e){return new Z((t,r)=>{let s=0,a=0,u=!1;e.forEach(d=>{++s,d.next(()=>{++a,u&&a===s&&t()},f=>r(f))}),u=!0,a===s&&t()})}static or(e){let t=Z.resolve(!1);for(const r of e)t=t.next(s=>s?Z.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new Z((r,s)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next(g=>{u[p]=g,++d,d===a&&r(u)},g=>s(g))}})}static doWhile(e,t){return new Z((r,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):r()};a()})}}function mL(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ta(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Hd.oe=-1;function Wd(n){return n==null}function vd(n){return n===0&&1/n==-1/0}function gL(n){return typeof n=="number"&&Number.isInteger(n)&&!vd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Mv(e)),e=_L(n.get(t),e);return Mv(e)}function _L(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function Mv(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ws(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function CT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,t){this.comparator=e,this.root=t||Vt.EMPTY}insert(e,t){return new ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lc(this.root,e,this.comparator,!0)}}class Lc{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vt{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Vt.RED,this.left=s??Vt.EMPTY,this.right=a??Vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Vt(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Vt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}Vt.EMPTY=null,Vt.RED=!0,Vt.BLACK=!1;Vt.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,t,r,s,a){return this}insert(e,t,r){return new Vt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jv(this.data.getIterator())}getIteratorFrom(e){return new jv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof St)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new St(this.comparator);return t.data=e,t}}class jv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new or([])}unionWith(e){let t=new St(jt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new or(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return oa(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new PT("Invalid base64 string: "+a):a}}(e);return new Ft(t)}static fromUint8Array(e){const t=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new Ft(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const vL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(n){if(He(!!n),typeof n=="string"){let e=0;const t=vL.exec(n);if(He(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ft(n.seconds),nanos:ft(n.nanos)}}function ft(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Zi(n){return typeof n=="string"?Ft.fromBase64String(n):Ft.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Gd(n){const e=n.mapValue.fields.__previous_value__;return Vm(e)?Gd(e):e}function Wl(n){const e=Ji(n.mapValue.fields.__local_write_time__.timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e,t,r,s,a,u,d,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=p}}class Gl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Gl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function es(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Vm(n)?4:TL(n)?9007199254740991:EL(n)?10:11:Re()}function Ar(n,e){if(n===e)return!0;const t=es(n);if(t!==es(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Wl(n).isEqual(Wl(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=Ji(s.timestampValue),d=Ji(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return Zi(s.bytesValue).isEqual(Zi(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return ft(s.geoPointValue.latitude)===ft(a.geoPointValue.latitude)&&ft(s.geoPointValue.longitude)===ft(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return ft(s.integerValue)===ft(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=ft(s.doubleValue),d=ft(a.doubleValue);return u===d?vd(u)===vd(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return oa(n.arrayValue.values||[],e.arrayValue.values||[],Ar);case 10:case 11:return function(s,a){const u=s.mapValue.fields||{},d=a.mapValue.fields||{};if(Vv(u)!==Vv(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Ar(u[f],d[f])))return!1;return!0}(n,e);default:return Re()}}function ql(n,e){return(n.values||[]).find(t=>Ar(t,e))!==void 0}function aa(n,e){if(n===e)return 0;const t=es(n),r=es(e);if(t!==r)return je(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return je(n.booleanValue,e.booleanValue);case 2:return function(a,u){const d=ft(a.integerValue||a.doubleValue),f=ft(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return Fv(n.timestampValue,e.timestampValue);case 4:return Fv(Wl(n),Wl(e));case 5:return je(n.stringValue,e.stringValue);case 6:return function(a,u){const d=Zi(a),f=Zi(u);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const d=a.split("/"),f=u.split("/");for(let p=0;p<d.length&&p<f.length;p++){const g=je(d[p],f[p]);if(g!==0)return g}return je(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const d=je(ft(a.latitude),ft(u.latitude));return d!==0?d:je(ft(a.longitude),ft(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return $v(n.arrayValue,e.arrayValue);case 10:return function(a,u){var d,f,p,g;const v=a.fields||{},E=u.fields||{},P=(d=v.value)===null||d===void 0?void 0:d.arrayValue,S=(f=E.value)===null||f===void 0?void 0:f.arrayValue,O=je(((p=P==null?void 0:P.values)===null||p===void 0?void 0:p.length)||0,((g=S==null?void 0:S.values)===null||g===void 0?void 0:g.length)||0);return O!==0?O:$v(P,S)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Dc.mapValue&&u===Dc.mapValue)return 0;if(a===Dc.mapValue)return 1;if(u===Dc.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),p=u.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let v=0;v<f.length&&v<g.length;++v){const E=je(f[v],g[v]);if(E!==0)return E;const P=aa(d[f[v]],p[g[v]]);if(P!==0)return P}return je(f.length,g.length)}(n.mapValue,e.mapValue);default:throw Re()}}function Fv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return je(n,e);const t=Ji(n),r=Ji(e),s=je(t.seconds,r.seconds);return s!==0?s:je(t.nanos,r.nanos)}function $v(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=aa(t[s],r[s]);if(a)return a}return je(t.length,r.length)}function la(n){return $p(n)}function $p(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ji(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Zi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ie.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=$p(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${$p(t.fields[u])}`;return s+"}"}(n.mapValue):Re()}function qc(n){switch(es(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gd(n);return e?16+qc(e):16;case 5:return 2*n.stringValue.length;case 6:return Zi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+qc(a),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return Ws(r.fields,(a,u)=>{s+=a.length+qc(u)}),s}(n.mapValue);default:throw Re()}}function zp(n){return!!n&&"integerValue"in n}function jm(n){return!!n&&"arrayValue"in n}function zv(n){return!!n&&"nullValue"in n}function Uv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Kc(n){return!!n&&"mapValue"in n}function EL(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ml(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ws(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ml(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ml(n.arrayValue.values[t]);return e}return Object.assign({},n)}function TL(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Kc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ml(t)}setAll(e){let t=jt.emptyPath(),r={},s=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=d.popLast()}u?r[d.lastSegment()]=Ml(u):s.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());Kc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ar(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Kc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Ws(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new Mn(Ml(this.value))}}function xT(n){const e=[];return Ws(n.fields,(t,r)=>{const s=new jt([t]);if(Kc(r)){const a=xT(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,t,r,s,a,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new qt(e,0,Ae.min(),Ae.min(),Ae.min(),Mn.empty(),0)}static newFoundDocument(e,t,r,s){return new qt(e,1,t,Ae.min(),r,s,0)}static newNoDocument(e,t){return new qt(e,2,t,Ae.min(),Ae.min(),Mn.empty(),0)}static newUnknownDocument(e,t){return new qt(e,3,t,Ae.min(),Ae.min(),Mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,t){this.position=e,this.inclusive=t}}function Bv(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],u=n.position[s];if(a.field.isKeyField()?r=Ie.comparator(Ie.fromName(u.referenceValue),t.key):r=aa(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Hv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ar(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,t="asc"){this.field=e,this.dir=t}}function SL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{}class Et extends RT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new CL(e,t,r):t==="array-contains"?new RL(e,r):t==="in"?new AL(e,r):t==="not-in"?new bL(e,r):t==="array-contains-any"?new kL(e,r):new Et(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new PL(e,r):new xL(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(aa(t,this.value)):t!==null&&es(this.value)===es(t)&&this.matchesComparison(aa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class br extends RT{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new br(e,t)}matches(e){return AT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function AT(n){return n.op==="and"}function bT(n){return IL(n)&&AT(n)}function IL(n){for(const e of n.filters)if(e instanceof br)return!1;return!0}function Up(n){if(n instanceof Et)return n.field.canonicalString()+n.op.toString()+la(n.value);if(bT(n))return n.filters.map(e=>Up(e)).join(",");{const e=n.filters.map(t=>Up(t)).join(",");return`${n.op}(${e})`}}function kT(n,e){return n instanceof Et?function(r,s){return s instanceof Et&&r.op===s.op&&r.field.isEqual(s.field)&&Ar(r.value,s.value)}(n,e):n instanceof br?function(r,s){return s instanceof br&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,u,d)=>a&&kT(u,s.filters[d]),!0):!1}(n,e):void Re()}function NT(n){return n instanceof Et?function(t){return`${t.field.canonicalString()} ${t.op} ${la(t.value)}`}(n):n instanceof br?function(t){return t.op.toString()+" {"+t.getFilters().map(NT).join(" ,")+"}"}(n):"Filter"}class CL extends Et{constructor(e,t,r){super(e,t,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const t=Ie.comparator(e.key,this.key);return this.matchesComparison(t)}}class PL extends Et{constructor(e,t){super(e,"in",t),this.keys=OT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class xL extends Et{constructor(e,t){super(e,"not-in",t),this.keys=OT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function OT(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ie.fromName(r.referenceValue))}class RL extends Et{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jm(t)&&ql(t.arrayValue,this.value)}}class AL extends Et{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ql(this.value.arrayValue,t)}}class bL extends Et{constructor(e,t){super(e,"not-in",t)}matches(e){if(ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!ql(this.value.arrayValue,t)}}class kL extends Et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ql(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,t=null,r=[],s=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=d,this.ue=null}}function Wv(n,e=null,t=[],r=[],s=null,a=null,u=null){return new NL(n,e,t,r,s,a,u)}function Fm(n){const e=be(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Up(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Wd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>la(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>la(r)).join(",")),e.ue=t}return e.ue}function $m(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!SL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!kT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Hv(n.startAt,e.startAt)&&Hv(n.endAt,e.endAt)}function Bp(n){return Ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,t=null,r=[],s=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function OL(n,e,t,r,s,a,u,d){return new qd(n,e,t,r,s,a,u,d)}function zm(n){return new qd(n)}function Gv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function LL(n){return n.collectionGroup!==null}function Vl(n){const e=be(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new St(jt.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Ed(a,r))}),t.has(jt.keyField().canonicalString())||e.ce.push(new Ed(jt.keyField(),r))}return e.ce}function xr(n){const e=be(n);return e.le||(e.le=DL(e,Vl(n))),e.le}function DL(n,e){if(n.limitType==="F")return Wv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Ed(s.field,a)});const t=n.endAt?new wd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new wd(n.startAt.position,n.startAt.inclusive):null;return Wv(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Hp(n,e,t){return new qd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Kd(n,e){return $m(xr(n),xr(e))&&n.limitType===e.limitType}function LT(n){return`${Fm(xr(n))}|lt:${n.limitType}`}function Bo(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>NT(s)).join(", ")}]`),Wd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>la(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>la(s)).join(",")),`Target(${r})`}(xr(n))}; limitType=${n.limitType})`}function Qd(n,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ie.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,s){for(const a of Vl(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,d,f){const p=Bv(u,d,f);return u.inclusive?p<=0:p<0}(r.startAt,Vl(r),s)||r.endAt&&!function(u,d,f){const p=Bv(u,d,f);return u.inclusive?p>=0:p>0}(r.endAt,Vl(r),s))}(n,e)}function ML(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function DT(n){return(e,t)=>{let r=!1;for(const s of Vl(n)){const a=VL(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function VL(n,e,t){const r=n.field.isKeyField()?Ie.comparator(e.key,t.key):function(a,u,d){const f=u.data.field(a),p=d.data.field(a);return f!==null&&p!==null?aa(f,p):Re()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ws(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return CT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=new ot(Ie.comparator);function ai(){return jL}const MT=new ot(Ie.comparator);function kl(...n){let e=MT;for(const t of n)e=e.insert(t.key,t);return e}function VT(n){let e=MT;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ds(){return jl()}function jT(){return jl()}function jl(){return new Gs(n=>n.toString(),(n,e)=>n.isEqual(e))}const FL=new ot(Ie.comparator),$L=new St(Ie.comparator);function Me(...n){let e=$L;for(const t of n)e=e.add(t);return e}const zL=new St(je);function UL(){return zL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vd(e)?"-0":e}}function FT(n){return{integerValue:""+n}}function BL(n,e){return gL(e)?FT(e):Um(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(){this._=void 0}}function HL(n,e,t){return n instanceof Td?function(s,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Vm(a)&&(a=Gd(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):n instanceof Kl?zT(n,e):n instanceof Ql?UT(n,e):function(s,a){const u=$T(s,a),d=qv(u)+qv(s.Pe);return zp(u)&&zp(s.Pe)?FT(d):Um(s.serializer,d)}(n,e)}function WL(n,e,t){return n instanceof Kl?zT(n,e):n instanceof Ql?UT(n,e):t}function $T(n,e){return n instanceof Sd?function(r){return zp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Td extends Yd{}class Kl extends Yd{constructor(e){super(),this.elements=e}}function zT(n,e){const t=BT(e);for(const r of n.elements)t.some(s=>Ar(s,r))||t.push(r);return{arrayValue:{values:t}}}class Ql extends Yd{constructor(e){super(),this.elements=e}}function UT(n,e){let t=BT(e);for(const r of n.elements)t=t.filter(s=>!Ar(s,r));return{arrayValue:{values:t}}}class Sd extends Yd{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function qv(n){return ft(n.integerValue||n.doubleValue)}function BT(n){return jm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function GL(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Kl&&s instanceof Kl||r instanceof Ql&&s instanceof Ql?oa(r.elements,s.elements,Ar):r instanceof Sd&&s instanceof Sd?Ar(r.Pe,s.Pe):r instanceof Td&&s instanceof Td}(n.transform,e.transform)}class qL{constructor(e,t){this.version=e,this.transformResults=t}}class ni{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Xd{}function HT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new GT(n.key,ni.none()):new ou(n.key,n.data,ni.none());{const t=n.data,r=Mn.empty();let s=new St(jt.comparator);for(let a of e.fields)if(!s.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new qs(n.key,r,new or(s.toArray()),ni.none())}}function KL(n,e,t){n instanceof ou?function(s,a,u){const d=s.value.clone(),f=Qv(s.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof qs?function(s,a,u){if(!Qc(s.precondition,a))return void a.convertToUnknownDocument(u.version);const d=Qv(s.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(WT(s)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Fl(n,e,t,r){return n instanceof ou?function(a,u,d,f){if(!Qc(a.precondition,u))return d;const p=a.value.clone(),g=Yv(a.fieldTransforms,f,u);return p.setAll(g),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof qs?function(a,u,d,f){if(!Qc(a.precondition,u))return d;const p=Yv(a.fieldTransforms,f,u),g=u.data;return g.setAll(WT(a)),g.setAll(p),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(a,u,d){return Qc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function QL(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=$T(r.transform,s||null);a!=null&&(t===null&&(t=Mn.empty()),t.set(r.field,a))}return t||null}function Kv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&oa(r,s,(a,u)=>GL(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ou extends Xd{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class qs extends Xd{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function WT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Qv(n,e,t){const r=new Map;He(n.length===t.length);for(let s=0;s<t.length;s++){const a=n[s],u=a.transform,d=e.data.field(a.field);r.set(a.field,WL(u,d,t[s]))}return r}function Yv(n,e,t){const r=new Map;for(const s of n){const a=s.transform,u=t.data.field(s.field);r.set(s.field,HL(a,u,e))}return r}class GT extends Xd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YL extends Xd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&KL(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Fl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Fl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=jT();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(s.key)?null:d;const f=HT(u,d);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Ae.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&oa(this.mutations,e.mutations,(t,r)=>Kv(t,r))&&oa(this.baseMutations,e.baseMutations,(t,r)=>Kv(t,r))}}class Bm{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){He(e.mutations.length===r.length);let s=function(){return FL}();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new Bm(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,$e;function eD(n){switch(n){default:return Re();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function qT(n){if(n===void 0)return oi("GRPC error has no .code"),ie.UNKNOWN;switch(n){case mt.OK:return ie.OK;case mt.CANCELLED:return ie.CANCELLED;case mt.UNKNOWN:return ie.UNKNOWN;case mt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case mt.INTERNAL:return ie.INTERNAL;case mt.UNAVAILABLE:return ie.UNAVAILABLE;case mt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case mt.NOT_FOUND:return ie.NOT_FOUND;case mt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case mt.ABORTED:return ie.ABORTED;case mt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case mt.DATA_LOSS:return ie.DATA_LOSS;default:return Re()}}($e=mt||(mt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=new qi([4294967295,4294967295],0);function Xv(n){const e=tD().encode(n),t=new yT;return t.update(e),new Uint8Array(t.digest())}function Jv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new qi([t,r],0),new qi([s,a],0)]}class Hm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Nl(`Invalid padding: ${t}`);if(r<0)throw new Nl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=qi.fromNumber(this.Te)}de(e,t,r){let s=e.add(t.multiply(qi.fromNumber(r)));return s.compare(nD)===1&&(s=new qi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Xv(e),[r,s]=Jv(t);for(let a=0;a<this.hashCount;a++){const u=this.de(r,s,a);if(!this.Ee(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Hm(a,s,t);return r.forEach(d=>u.insert(d)),u}insert(e){if(this.Te===0)return;const t=Xv(e),[r,s]=Jv(t);for(let a=0;a<this.hashCount;a++){const u=this.de(r,s,a);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Jd(Ae.min(),s,new ot(je),ai(),Me())}}class au{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new au(r,t,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,t,r,s){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=s}}class KT{constructor(e,t){this.targetId=e,this.me=t}}class QT{constructor(e,t,r=Ft.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class Zv{constructor(){this.fe=0,this.ge=ew(),this.pe=Ft.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Me(),t=Me(),r=Me();return this.ge.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Re()}}),new au(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=ew()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,He(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class rD{constructor(e){this.Be=e,this.Le=new Map,this.ke=ai(),this.qe=Mc(),this.Qe=Mc(),this.Ke=new ot(je)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:Re()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((r,s)=>{this.je(s)&&t(s)})}Je(e){const t=e.targetId,r=e.me.count,s=this.Ye(t);if(s){const a=s.target;if(Bp(a))if(r===0){const u=new Ie(a.path);this.We(t,u,qt.newNoDocument(u,Ae.min()))}else He(r===1);else{const u=this.Ze(t);if(u!==r){const d=this.Xe(e),f=d?this.et(d,e,u):1;if(f!==0){this.He(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,p)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let u,d;try{u=Zi(r).toUint8Array()}catch(f){if(f instanceof PT)return sa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new Hm(u,s,a)}catch(f){return sa(f instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.Te===0?null:d}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Be.getRemoteKeysForTarget(t);let s=0;return r.forEach(a=>{const u=this.Be.nt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.We(t,a,null),s++)}),s}it(e){const t=new Map;this.Le.forEach((a,u)=>{const d=this.Ye(u);if(d){if(a.current&&Bp(d.target)){const f=new Ie(d.target.path);this.st(f).has(u)||this.ot(u,f)||this.We(u,f,qt.newNoDocument(f,e))}a.be&&(t.set(u,a.ve()),a.Ce())}});let r=Me();this.Qe.forEach((a,u)=>{let d=!0;u.forEachWhile(f=>{const p=this.Ye(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(e));const s=new Jd(e,t,this.Ke,this.ke,r);return this.ke=ai(),this.qe=Mc(),this.Qe=Mc(),this.Ke=new ot(je),s}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const s=this.ze(e);this.ot(e,t)?s.Fe(t,1):s.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new Zv,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new St(je),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new St(je),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new Zv),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function Mc(){return new ot(Ie.comparator)}function ew(){return new ot(Ie.comparator)}const iD={asc:"ASCENDING",desc:"DESCENDING"},sD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oD={and:"AND",or:"OR"};class aD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Wp(n,e){return n.useProto3Json||Wd(e)?e:{value:e}}function Id(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function lD(n,e){return Id(n,e.toTimestamp())}function Rr(n){return He(!!n),Ae.fromTimestamp(function(t){const r=Ji(t);return new Tt(r.seconds,r.nanos)}(n))}function Wm(n,e){return Gp(n,e).canonicalString()}function Gp(n,e){const t=function(s){return new ut(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function XT(n){const e=ut.fromString(n);return He(nS(e)),e}function qp(n,e){return Wm(n.databaseId,e.path)}function up(n,e){const t=XT(e);if(t.get(1)!==n.databaseId.projectId)throw new Se(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Se(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ie(ZT(t))}function JT(n,e){return Wm(n.databaseId,e)}function uD(n){const e=XT(n);return e.length===4?ut.emptyPath():ZT(e)}function Kp(n){return new ut(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ZT(n){return He(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function tw(n,e,t){return{name:qp(n,e),fields:t.value.mapValue.fields}}function cD(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(He(g===void 0||typeof g=="string"),Ft.fromBase64String(g||"")):(He(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Ft.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(p){const g=p.code===void 0?ie.UNKNOWN:qT(p.code);return new Se(g,p.message||"")}(u);t=new QT(r,s,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=up(n,r.document.name),a=Rr(r.document.updateTime),u=r.document.createTime?Rr(r.document.createTime):Ae.min(),d=new Mn({mapValue:{fields:r.document.fields}}),f=qt.newFoundDocument(s,a,u,d),p=r.targetIds||[],g=r.removedTargetIds||[];t=new Yc(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=up(n,r.document),a=r.readTime?Rr(r.readTime):Ae.min(),u=qt.newNoDocument(s,a),d=r.removedTargetIds||[];t=new Yc([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=up(n,r.document),a=r.removedTargetIds||[];t=new Yc([],a,s,null)}else{if(!("filter"in e))return Re();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new ZL(s,a),d=r.targetId;t=new KT(d,u)}}return t}function dD(n,e){let t;if(e instanceof ou)t={update:tw(n,e.key,e.value)};else if(e instanceof GT)t={delete:qp(n,e.key)};else if(e instanceof qs)t={update:tw(n,e.key,e.data),updateMask:wD(e.fieldMask)};else{if(!(e instanceof YL))return Re();t={verify:qp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const d=u.transform;if(d instanceof Td)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Kl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ql)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Sd)return{fieldPath:u.field.canonicalString(),increment:d.Pe};throw Re()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:lD(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Re()}(n,e.precondition)),t}function fD(n,e){return n&&n.length>0?(He(e!==void 0),n.map(t=>function(s,a){let u=s.updateTime?Rr(s.updateTime):Rr(a);return u.isEqual(Ae.min())&&(u=Rr(a)),new qL(u,s.transformResults||[])}(t,e))):[]}function hD(n,e){return{documents:[JT(n,e.path)]}}function pD(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=JT(n,s);const a=function(p){if(p.length!==0)return tS(br.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(p){if(p.length!==0)return p.map(g=>function(E){return{field:Ho(E.field),direction:yD(E.dir)}}(g))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=Wp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ct:t,parent:s}}function mD(n){let e=uD(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){He(r===1);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=function(v){const E=eS(v);return E instanceof br&&bT(E)?E.getFilters():[E]}(t.where));let u=[];t.orderBy&&(u=function(v){return v.map(E=>function(S){return new Ed(Wo(S.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(E))}(t.orderBy));let d=null;t.limit&&(d=function(v){let E;return E=typeof v=="object"?v.value:v,Wd(E)?null:E}(t.limit));let f=null;t.startAt&&(f=function(v){const E=!!v.before,P=v.values||[];return new wd(P,E)}(t.startAt));let p=null;return t.endAt&&(p=function(v){const E=!v.before,P=v.values||[];return new wd(P,E)}(t.endAt)),OL(e,s,u,a,d,"F",f,p)}function gD(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function eS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Wo(t.unaryFilter.field);return Et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Wo(t.unaryFilter.field);return Et.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Wo(t.unaryFilter.field);return Et.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Wo(t.unaryFilter.field);return Et.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(n):n.fieldFilter!==void 0?function(t){return Et.create(Wo(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return br.create(t.compositeFilter.filters.map(r=>eS(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Re()}}(t.compositeFilter.op))}(n):Re()}function yD(n){return iD[n]}function _D(n){return sD[n]}function vD(n){return oD[n]}function Ho(n){return{fieldPath:n.canonicalString()}}function Wo(n){return jt.fromServerFormat(n.fieldPath)}function tS(n){return n instanceof Et?function(t){if(t.op==="=="){if(Uv(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NAN"}};if(zv(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Uv(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NOT_NAN"}};if(zv(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ho(t.field),op:_D(t.op),value:t.value}}}(n):n instanceof br?function(t){const r=t.getFilters().map(s=>tS(s));return r.length===1?r[0]:{compositeFilter:{op:vD(t.op),filters:r}}}(n):Re()}function wD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function nS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,t,r,s,a=Ae.min(),u=Ae.min(),d=Ft.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.ht=e}}function TD(n){const e=mD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Hp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.ln=new ID}addToCollectionParentIndex(e,t){return this.ln.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(Xi.min())}updateCollectionGroup(e,t,r){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class ID{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new St(ut.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new St(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(41943040,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new ua(0)}static Qn(){return new ua(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw([n,e],[t,r]){const s=je(n,t);return s===0?je(e,r):s}class CD{constructor(e){this.Gn=e,this.buffer=new St(rw),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();rw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class PD{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){fe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ta(t)?fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Ea(t)}await this.Yn(3e5)})}}class xD{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(Hd.oe);const r=new CD(t);return this.Zn.forEachTarget(e,s=>r.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>r.Hn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(nw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nw):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,s,a,u,d,f,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,u=Date.now(),this.nthSequenceNumber(e,s))).next(v=>(r=v,d=Date.now(),this.removeTargets(e,r,t))).next(v=>(a=v,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(p=Date.now(),Uo()<=De.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${s} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${v} documents in `+(p-f)+`ms
Total Duration: ${p-g}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:v})))}}function RD(n,e){return new xD(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.changes=new Gs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&Fl(r.mutation,s,or.empty(),Tt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Me()){const s=Ds();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let u=kl();return a.forEach((d,f)=>{u=u.insert(d,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Ds();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Me()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,r,s){let a=ai();const u=jl(),d=function(){return jl()}();return t.forEach((f,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof qs)?a=a.insert(p.key,p):g!==void 0?(u.set(p.key,g.mutation.getFieldMask()),Fl(g.mutation,p,g.mutation.getFieldMask(),Tt.now())):u.set(p.key,or.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,g)=>u.set(p,g)),t.forEach((p,g)=>{var v;return d.set(p,new bD(g,(v=u.get(p))!==null&&v!==void 0?v:null))}),d))}recalculateAndSaveOverlays(e,t){const r=jl();let s=new ot((u,d)=>u-d),a=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let g=r.get(f)||or.empty();g=d.applyToLocalView(p,g),r.set(f,g);const v=(s.get(d.batchId)||Me()).add(f);s=s.insert(d.batchId,v)})}).next(()=>{const u=[],d=s.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),p=f.key,g=f.value,v=jT();g.forEach(E=>{if(!a.has(E)){const P=HT(t.get(E),r.get(E));P!==null&&v.set(E,P),a=a.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,v))}return Z.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return Ie.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):LL(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):Z.resolve(Ds());let d=-1,f=a;return u.next(p=>Z.forEach(p,(g,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),a.get(g)?Z.resolve():this.remoteDocumentCache.getEntry(e,g).next(E=>{f=f.insert(g,E)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,Me())).next(g=>({batchId:d,changes:VT(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ie(t)).next(r=>{let s=kl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let u=kl();return this.indexManager.getCollectionParents(e,a).next(d=>Z.forEach(d,f=>{const p=function(v,E){return new qd(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(g=>{g.forEach((v,E)=>{u=u.insert(v,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s))).next(u=>{a.forEach((f,p)=>{const g=p.getKey();u.get(g)===null&&(u=u.insert(g,qt.newInvalidDocument(g)))});let d=kl();return u.forEach((f,p)=>{const g=a.get(f);g!==void 0&&Fl(g.mutation,p,or.empty(),Tt.now()),Qd(t,p)&&(d=d.insert(f,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Z.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Rr(s.createTime)}}(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(s){return{name:s.name,query:TD(s.bundledQuery),readTime:Rr(s.readTime)}}(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.overlays=new ot(Ie.comparator),this.dr=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ds();return Z.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.Tt(e,t,a)}),Z.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.dr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.dr.delete(r)),Z.resolve()}getOverlaysForCollection(e,t,r){const s=Ds(),a=t.length+1,u=new Ie(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return Z.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new ot((p,g)=>p-g);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=Ds(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const d=Ds(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,g)=>d.set(p,g)),!(d.size()>=s)););return Z.resolve(d)}Tt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.dr.get(s.largestBatchId).delete(r.key);this.dr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new JL(t,r));let a=this.dr.get(t);a===void 0&&(a=Me(),this.dr.set(t,a)),this.dr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(){this.Er=new St(bt.Ar),this.Rr=new St(bt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const r=new bt(e,t);this.Er=this.Er.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new bt(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new Ie(new ut([])),r=new bt(t,e),s=new bt(t,e+1),a=[];return this.Rr.forEachInRange([r,s],u=>{this.gr(u),a.push(u.key)}),a}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Ie(new ut([])),r=new bt(t,e),s=new bt(t,e+1);let a=Me();return this.Rr.forEachInRange([r,s],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new bt(e,0),r=this.Er.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class bt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Ie.comparator(e.key,t.key)||je(e.br,t.br)}static Vr(e,t){return je(e.br,t.br)||Ie.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new St(bt.Ar)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new XL(a,t,r,s);this.mutationQueue.push(u);for(const d of s)this.vr=this.vr.add(new bt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Z.resolve(u)}lookupMutationBatch(e,t){return Z.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Fr(r),a=s<0?0:s;return Z.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new bt(t,0),s=new bt(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([r,s],u=>{const d=this.Cr(u.br);a.push(d)}),Z.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new St(je);return t.forEach(s=>{const a=new bt(s,0),u=new bt(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,u],d=>{r=r.add(d.br)})}),Z.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;Ie.isDocumentKey(a)||(a=a.child(""));const u=new bt(new Ie(a),0);let d=new St(je);return this.vr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(d=d.add(f.br)),!0)},u),Z.resolve(this.Mr(d))}Mr(e){const t=[];return e.forEach(r=>{const s=this.Cr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){He(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return Z.forEach(t.mutations,s=>{const a=new bt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=r})}Bn(e){}containsKey(e,t){const r=new bt(t,0),s=this.vr.firstAfterOrEqual(r);return Z.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e){this.Nr=e,this.docs=function(){return new ot(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,u=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Z.resolve(r?r.document.mutableCopy():qt.newInvalidDocument(t))}getEntries(e,t){let r=ai();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():qt.newInvalidDocument(s))}),Z.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=ai();const u=t.path,d=new Ie(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||fL(dL(g),r)<=0||(s.has(g.key)||Qd(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return Z.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Re()}Br(e,t){return Z.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new VD(this)}getSize(e){return Z.resolve(this.size)}}class VD extends AD{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.hr.addEntry(e,s)):this.hr.removeEntry(r)}),Z.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.persistence=e,this.Lr=new Gs(t=>Fm(t),$m),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.kr=0,this.qr=new Gm,this.targetCount=0,this.Qr=ua.qn()}forEachTarget(e,t){return this.Lr.forEach((r,s)=>t(s)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),Z.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new ua(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.Un(t),Z.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.Lr.forEach((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.Lr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),Z.waitFor(a).next(()=>s)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const r=this.Lr.get(t)||null;return Z.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),Z.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),Z.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return Z.resolve(r)}containsKey(e,t){return Z.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Hd(0),this.Ur=!1,this.Ur=!0,this.Wr=new LD,this.referenceDelegate=e(this),this.Gr=new jD(this),this.indexManager=new SD,this.remoteDocumentCache=function(s){return new MD(s)}(r=>this.referenceDelegate.zr(r)),this.serializer=new ED(t),this.jr=new ND(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new OD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new DD(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){fe("MemoryPersistence","Starting transaction:",e);const s=new FD(this.$r.next());return this.referenceDelegate.Hr(),r(s).next(a=>this.referenceDelegate.Jr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Yr(e,t){return Z.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class FD extends pL{constructor(e){super(),this.currentSequenceNumber=e}}class qm{constructor(e){this.persistence=e,this.Zr=new Gm,this.Xr=null}static ei(e){return new qm(e)}get ti(){if(this.Xr)return this.Xr;throw Re()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),Z.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Z.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(s=>this.ti.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.ti.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ti,r=>{const s=Ie.fromPath(r);return this.ni(e,s).next(a=>{a||t.removeEntry(s,Ae.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return Z.or([()=>Z.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Cd{constructor(e,t){this.persistence=e,this.ri=new Gs(r=>yL(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=RD(this,t)}static ei(e,t){return new Cd(e,t)}Hr(){}Jr(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return Z.forEach(this.ri,(r,s)=>this.ir(e,r,s).next(a=>a?Z.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.Br(e,u=>this.ir(e,u,t).next(d=>{d||(r++,a.removeEntry(u,Ae.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Z.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=qc(e.data.value)),t}ir(e,t,r){return Z.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.ri.get(t);return Z.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=s}static zi(e,t){let r=Me(),s=Me();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Km(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return fx()?8:mL(Kt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.Xi(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.es(e,t,s,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new $D;return this.ts(e,t,u).next(d=>{if(a.result=d,this.Hi)return this.ns(e,t,u,d.size)})}).next(()=>a.result)}ns(e,t,r,s){return r.documentReadCount<this.Ji?(Uo()<=De.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Bo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Z.resolve()):(Uo()<=De.DEBUG&&fe("QueryEngine","Query:",Bo(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Yi*s?(Uo()<=De.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Bo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xr(t))):Z.resolve())}Xi(e,t){if(Gv(t))return Z.resolve(null);let r=xr(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Hp(t,null,"F"),r=xr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Me(...a);return this.Zi.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.rs(t,d);return this.ss(t,p,u,f.readTime)?this.Xi(e,Hp(t,null,"F")):this.os(e,p,t,f)}))})))}es(e,t,r,s){return Gv(t)||s.isEqual(Ae.min())?Z.resolve(null):this.Zi.getDocuments(e,r).next(a=>{const u=this.rs(t,a);return this.ss(t,u,r,s)?Z.resolve(null):(Uo()<=De.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Bo(t)),this.os(e,u,t,cL(s,-1)).next(d=>d))})}rs(e,t){let r=new St(DT(e));return t.forEach((s,a)=>{Qd(e,a)&&(r=r.add(a))}),r}ss(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ts(e,t,r){return Uo()<=De.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Bo(t)),this.Zi.getDocumentsMatchingQuery(e,t,Xi.min(),r)}os(e,t,r,s){return this.Zi.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,t,r,s){this.persistence=e,this._s=t,this.serializer=s,this.us=new ot(je),this.cs=new Gs(a=>Fm(a),$m),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kD(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function BD(n,e,t,r){return new UD(n,e,t,r)}async function iS(n,e){const t=be(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],d=[];let f=Me();for(const p of s){u.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of a){d.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next(p=>({Ts:p,removedBatchIds:u,addedBatchIds:d}))})})}function HD(n,e){const t=be(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(d,f,p,g){const v=p.batch,E=v.keys();let P=Z.resolve();return E.forEach(S=>{P=P.next(()=>g.getEntry(f,S)).next(O=>{const k=p.docVersions.get(S);He(k!==null),O.version.compareTo(k)<0&&(v.applyToRemoteDocument(O,p),O.isValidDocument()&&(O.setReadTime(p.commitVersion),g.addEntry(O)))})}),P.next(()=>d.mutationQueue.removeMutationBatch(f,v))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=Me();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(f=f.add(d.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function sS(n){const e=be(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function WD(n,e){const t=be(n),r=e.snapshotVersion;let s=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.hs.newChangeBuffer({trackRemovals:!0});s=t.us;const d=[];e.targetChanges.forEach((g,v)=>{const E=s.get(v);if(!E)return;d.push(t.Gr.removeMatchingKeys(a,g.removedDocuments,v).next(()=>t.Gr.addMatchingKeys(a,g.addedDocuments,v)));let P=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?P=P.withResumeToken(Ft.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):g.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(g.resumeToken,r)),s=s.insert(v,P),function(O,k,D){return O.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(E,P,g)&&d.push(t.Gr.updateTargetData(a,P))});let f=ai(),p=Me();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))}),d.push(GD(a,u,e.documentUpdates).next(g=>{f=g.Is,p=g.ds})),!r.isEqual(Ae.min())){const g=t.Gr.getLastRemoteSnapshotVersion(a).next(v=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,r));d.push(g)}return Z.waitFor(d).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(t.us=s,a))}function GD(n,e,t){let r=Me(),s=Me();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=ai();return t.forEach((d,f)=>{const p=a.get(d);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(d)),f.isNoDocument()&&f.version.isEqual(Ae.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):fe("LocalStore","Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",f.version)}),{Is:u,ds:s}})}function qD(n,e){const t=be(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function KD(n,e){const t=be(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Gr.getTargetData(r,e).next(a=>a?(s=a,Z.resolve(s)):t.Gr.allocateTargetId(r).next(u=>(s=new Bi(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.us.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}async function Qp(n,e,t){const r=be(n),s=r.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!Ta(u))throw u;fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.us=r.us.remove(e),r.cs.delete(s.target)}function iw(n,e,t){const r=be(n);let s=Ae.min(),a=Me();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,p,g){const v=be(f),E=v.cs.get(g);return E!==void 0?Z.resolve(v.us.get(E)):v.Gr.getTargetData(p,g)}(r,u,xr(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(u,d.targetId).next(f=>{a=f})}).next(()=>r._s.getDocumentsMatchingQuery(u,e,t?s:Ae.min(),t?a:Me())).next(d=>(QD(r,ML(e),d),{documents:d,Es:a})))}function QD(n,e,t){let r=n.ls.get(e)||Ae.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.ls.set(e,r)}class sw{constructor(){this.activeTargetIds=UL()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YD{constructor(){this._o=new sw,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new sw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vc=null;function cp(){return Vc===null?Vc=function(){return 268435456+Math.round(2147483648*Math.random())}():Vc++,"0x"+Vc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="WebChannelConnection";class eM extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${s}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Oo(t,r,s,a,u){const d=cp(),f=this.No(t,r.toUriEncodedString());fe("RestConnection",`Sending RPC '${t}' ${d}:`,f,s);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(p,a,u),this.Lo(t,f,p,s).then(g=>(fe("RestConnection",`Received RPC '${t}' ${d}: `,g),g),g=>{throw sa("RestConnection",`RPC '${t}' ${d} failed with error: `,g,"url: ",f,"request:",s),g})}ko(t,r,s,a,u,d){return this.Oo(t,r,s,a,u)}Bo(t,r,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,u)=>t[u]=a),s&&s.headers.forEach((a,u)=>t[u]=a)}No(t,r){const s=JD[t];return`${this.Fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,r,s){const a=cp();return new Promise((u,d)=>{const f=new _T;f.setWithCredentials(!0),f.listenOnce(vT.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Gc.NO_ERROR:const g=f.getResponseJson();fe(Ht,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),u(g);break;case Gc.TIMEOUT:fe(Ht,`RPC '${e}' ${a} timed out`),d(new Se(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:const v=f.getStatus();if(fe(Ht,`RPC '${e}' ${a} failed with status:`,v,"response text:",f.getResponseText()),v>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const P=E==null?void 0:E.error;if(P&&P.status&&P.message){const S=function(k){const D=k.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(D)>=0?D:ie.UNKNOWN}(P.status);d(new Se(S,P.message))}else d(new Se(ie.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Se(ie.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{fe(Ht,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(s);fe(Ht,`RPC '${e}' ${a} sending request:`,s),f.send(t,"POST",p,r,15)})}qo(e,t,r){const s=cp(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=TT(),d=ET(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Bo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=a.join("");fe(Ht,`Creating RPC '${e}' stream ${s}: ${g}`,f);const v=u.createWebChannel(g,f);let E=!1,P=!1;const S=new ZD({Eo:k=>{P?fe(Ht,`Not sending because RPC '${e}' stream ${s} is closed:`,k):(E||(fe(Ht,`Opening RPC '${e}' stream ${s} transport.`),v.open(),E=!0),fe(Ht,`RPC '${e}' stream ${s} sending:`,k),v.send(k))},Ao:()=>v.close()}),O=(k,D,R)=>{k.listen(D,A=>{try{R(A)}catch(F){setTimeout(()=>{throw F},0)}})};return O(v,bl.EventType.OPEN,()=>{P||(fe(Ht,`RPC '${e}' stream ${s} transport opened.`),S.So())}),O(v,bl.EventType.CLOSE,()=>{P||(P=!0,fe(Ht,`RPC '${e}' stream ${s} transport closed`),S.Do())}),O(v,bl.EventType.ERROR,k=>{P||(P=!0,sa(Ht,`RPC '${e}' stream ${s} transport errored:`,k),S.Do(new Se(ie.UNAVAILABLE,"The operation could not be completed")))}),O(v,bl.EventType.MESSAGE,k=>{var D;if(!P){const R=k.data[0];He(!!R);const A=R,F=(A==null?void 0:A.error)||((D=A[0])===null||D===void 0?void 0:D.error);if(F){fe(Ht,`RPC '${e}' stream ${s} received error:`,F);const H=F.status;let X=function(x){const L=mt[x];if(L!==void 0)return qT(L)}(H),M=F.message;X===void 0&&(X=ie.INTERNAL,M="Unknown error status: "+H+" with message "+F.message),P=!0,S.Do(new Se(X,M)),v.close()}else fe(Ht,`RPC '${e}' stream ${s} received:`,R),S.vo(R)}}),O(d,wT.STAT_EVENT,k=>{k.stat===Fp.PROXY?fe(Ht,`RPC '${e}' stream ${s} detected buffering proxy`):k.stat===Fp.NOPROXY&&fe(Ht,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.bo()},0),S}}function dp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(n){return new aD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,t,r=1e3,s=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=s,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),s=Math.max(0,t-r);s>0&&fe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,t,r,s,a,u,d,f){this.li=e,this.Yo=r,this.Zo=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new oS(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(oi(t.toString()),oi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Xo===t&&this.I_(r,s)},r=>{e(()=>{const s=new Se(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.d_(s)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{r(()=>this.d_(s))}),this.stream.onMessage(s=>{r(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tM extends aS{constructor(e,t,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=cD(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ae.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ae.min():u.readTime?Rr(u.readTime):Ae.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=Kp(this.serializer),t.addTarget=function(a,u){let d;const f=u.target;if(d=Bp(f)?{documents:hD(a,f)}:{query:pD(a,f).ct},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=YT(a,u.resumeToken);const p=Wp(a,u.expectedCount);p!==null&&(d.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ae.min())>0){d.readTime=Id(a,u.snapshotVersion.toTimestamp());const p=Wp(a,u.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const r=gD(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=Kp(this.serializer),t.removeTarget=e,this.c_(t)}}class nM extends aS{constructor(e,t,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return He(!!e.streamToken),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){He(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=fD(e.writeResults,e.commitTime),r=Rr(e.commitTime);return this.listener.y_(r,t)}w_(){const e={};e.database=Kp(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>dD(this.serializer,r))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new Se(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Oo(e,Gp(t,r),s,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Se(ie.UNKNOWN,a.toString())})}ko(e,t,r,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.ko(e,Gp(t,r),s,u,d,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Se(ie.UNKNOWN,u.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class iM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(oi(t),this.C_=!1):fe("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(u=>{r.enqueueAndForget(async()=>{Ks(this)&&(fe("RemoteStore","Restarting streams for network reachability change."),await async function(f){const p=be(f);p.k_.add(4),await lu(p),p.K_.set("Unknown"),p.k_.delete(4),await ef(p)}(this))})}),this.K_=new iM(r,s)}}async function ef(n){if(Ks(n))for(const e of n.q_)await e(!0)}async function lu(n){for(const e of n.q_)await e(!1)}function lS(n,e){const t=be(n);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),Jm(t)?Xm(t):Sa(t).s_()&&Ym(t,e))}function Qm(n,e){const t=be(n),r=Sa(t);t.L_.delete(e),r.s_()&&uS(t,e),t.L_.size===0&&(r.s_()?r.a_():Ks(t)&&t.K_.set("Unknown"))}function Ym(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Sa(n).V_(e)}function uS(n,e){n.U_.xe(e),Sa(n).m_(e)}function Xm(n){n.U_=new rD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.L_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Sa(n).start(),n.K_.F_()}function Jm(n){return Ks(n)&&!Sa(n).i_()&&n.L_.size>0}function Ks(n){return be(n).k_.size===0}function cS(n){n.U_=void 0}async function oM(n){n.K_.set("Online")}async function aM(n){n.L_.forEach((e,t)=>{Ym(n,e)})}async function lM(n,e){cS(n),Jm(n)?(n.K_.O_(e),Xm(n)):n.K_.set("Unknown")}async function uM(n,e,t){if(n.K_.set("Online"),e instanceof QT&&e.state===2&&e.cause)try{await async function(s,a){const u=a.cause;for(const d of a.targetIds)s.L_.has(d)&&(await s.remoteSyncer.rejectListen(d,u),s.L_.delete(d),s.U_.removeTarget(d))}(n,e)}catch(r){fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Pd(n,r)}else if(e instanceof Yc?n.U_.$e(e):e instanceof KT?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Ae.min()))try{const r=await sS(n.localStore);t.compareTo(r)>=0&&await function(a,u){const d=a.U_.it(u);return d.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.L_.get(p);g&&a.L_.set(p,g.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach((f,p)=>{const g=a.L_.get(f);if(!g)return;a.L_.set(f,g.withResumeToken(Ft.EMPTY_BYTE_STRING,g.snapshotVersion)),uS(a,f);const v=new Bi(g.target,f,p,g.sequenceNumber);Ym(a,v)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(r){fe("RemoteStore","Failed to raise snapshot:",r),await Pd(n,r)}}async function Pd(n,e,t){if(!Ta(e))throw e;n.k_.add(1),await lu(n),n.K_.set("Offline"),t||(t=()=>sS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{fe("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await ef(n)})}function dS(n,e){return e().catch(t=>Pd(n,t,e))}async function tf(n){const e=be(n),t=ts(e);let r=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;cM(e);)try{const s=await qD(e.localStore,r);if(s===null){e.B_.length===0&&t.a_();break}r=s.batchId,dM(e,s)}catch(s){await Pd(e,s)}fS(e)&&hS(e)}function cM(n){return Ks(n)&&n.B_.length<10}function dM(n,e){n.B_.push(e);const t=ts(n);t.s_()&&t.f_&&t.g_(e.mutations)}function fS(n){return Ks(n)&&!ts(n).i_()&&n.B_.length>0}function hS(n){ts(n).start()}async function fM(n){ts(n).w_()}async function hM(n){const e=ts(n);for(const t of n.B_)e.g_(t.mutations)}async function pM(n,e,t){const r=n.B_.shift(),s=Bm.from(r,e,t);await dS(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await tf(n)}async function mM(n,e){e&&ts(n).f_&&await async function(r,s){if(function(u){return eD(u)&&u!==ie.ABORTED}(s.code)){const a=r.B_.shift();ts(r).__(),await dS(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await tf(r)}}(n,e),fS(n)&&hS(n)}async function aw(n,e){const t=be(n);t.asyncQueue.verifyOperationInProgress(),fe("RemoteStore","RemoteStore received new credentials");const r=Ks(t);t.k_.add(3),await lu(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await ef(t)}async function gM(n,e){const t=be(n);e?(t.k_.delete(2),await ef(t)):e||(t.k_.add(2),await lu(t),t.K_.set("Unknown"))}function Sa(n){return n.W_||(n.W_=function(t,r,s){const a=be(t);return a.b_(),new tM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Ro:oM.bind(null,n),mo:aM.bind(null,n),po:lM.bind(null,n),R_:uM.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Jm(n)?Xm(n):n.K_.set("Unknown")):(await n.W_.stop(),cS(n))})),n.W_}function ts(n){return n.G_||(n.G_=function(t,r,s){const a=be(t);return a.b_(),new nM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:fM.bind(null,n),po:mM.bind(null,n),p_:hM.bind(null,n),y_:pM.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await tf(n)):(await n.G_.stop(),n.B_.length>0&&(fe("RemoteStore",`Stopping write stream with ${n.B_.length} pending writes`),n.B_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const u=Date.now()+r,d=new Zm(e,t,u,s,a);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eg(n,e){if(oi("AsyncQueue",`${e}: ${n}`),Ta(n))return new Se(ie.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{static emptySet(e){return new ea(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ie.comparator(t.key,r.key):(t,r)=>Ie.comparator(t.key,r.key),this.keyedMap=kl(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ea)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ea;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(){this.z_=new ot(Ie.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Re():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class ca{constructor(e,t,r,s,a,u,d,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,a){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new ca(e,t,ea.emptySet(t),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class _M{constructor(){this.queries=uw(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const s=be(t),a=s.queries;s.queries=uw(),a.forEach((u,d)=>{for(const f of d.J_)f.onError(r)})})(this,new Se(ie.ABORTED,"Firestore shutting down"))}}function uw(){return new Gs(n=>LT(n),Kd)}async function vM(n,e){const t=be(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.Y_()&&e.Z_()&&(r=2):(a=new yM,r=e.Z_()?0:1);try{switch(r){case 0:a.H_=await t.onListen(s,!0);break;case 1:a.H_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const d=eg(u,`Initialization of query '${Bo(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&tg(t)}async function wM(n,e){const t=be(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const u=a.J_.indexOf(e);u>=0&&(a.J_.splice(u,1),a.J_.length===0?s=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function EM(n,e){const t=be(n);let r=!1;for(const s of e){const a=s.query,u=t.queries.get(a);if(u){for(const d of u.J_)d.ta(s)&&(r=!0);u.H_=s}}r&&tg(t)}function TM(n,e,t){const r=be(n),s=r.queries.get(e);if(s)for(const a of s.J_)a.onError(t);r.queries.delete(e)}function tg(n){n.X_.forEach(e=>{e.next()})}var Yp,cw;(cw=Yp||(Yp={})).na="default",cw.Cache="cache";class SM{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ca(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=ca.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Yp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.key=e}}class mS{constructor(e){this.key=e}}class IM{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Me(),this.mutatedKeys=Me(),this.Va=DT(e),this.ma=new ea(this.Va)}get fa(){return this.Ea}ga(e,t){const r=t?t.pa:new lw,s=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,u=s,d=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,v)=>{const E=s.get(g),P=Qd(this.query,v)?v:null,S=!!E&&this.mutatedKeys.has(E.key),O=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let k=!1;E&&P?E.data.isEqual(P.data)?S!==O&&(r.track({type:3,doc:P}),k=!0):this.ya(E,P)||(r.track({type:2,doc:P}),k=!0,(f&&this.Va(P,f)>0||p&&this.Va(P,p)<0)&&(d=!0)):!E&&P?(r.track({type:0,doc:P}),k=!0):E&&!P&&(r.track({type:1,doc:E}),k=!0,(f||p)&&(d=!0)),k&&(P?(u=u.add(P),a=O?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{ma:u,pa:r,ss:d,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const u=e.pa.j_();u.sort((g,v)=>function(P,S){const O=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return O(P)-O(S)}(g.type,v.type)||this.Va(g.doc,v.doc)),this.wa(r),s=s!=null&&s;const d=t&&!s?this.Sa():[],f=this.Ra.size===0&&this.current&&!s?1:0,p=f!==this.Aa;return this.Aa=f,u.length!==0||p?{snapshot:new ca(this.query,e.ma,a,u,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new lw,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Me(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new mS(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new pS(r))}),t}va(e){this.Ea=e.Es,this.Ra=Me();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return ca.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class CM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class PM{constructor(e){this.key=e,this.Fa=!1}}class xM{constructor(e,t,r,s,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ma={},this.xa=new Gs(d=>LT(d),Kd),this.Oa=new Map,this.Na=new Set,this.Ba=new ot(Ie.comparator),this.La=new Map,this.ka=new Gm,this.qa={},this.Qa=new Map,this.Ka=ua.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function RM(n,e,t=!0){const r=ES(n);let s;const a=r.xa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Ca()):s=await gS(r,e,t,!0),s}async function AM(n,e){const t=ES(n);await gS(t,e,!0,!1)}async function gS(n,e,t,r){const s=await KD(n.localStore,xr(e)),a=s.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await bM(n,e,a,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&lS(n.remoteStore,s),d}async function bM(n,e,t,r,s){n.Ua=(v,E,P)=>async function(O,k,D,R){let A=k.view.ga(D);A.ss&&(A=await iw(O.localStore,k.query,!1).then(({documents:M})=>k.view.ga(M,A)));const F=R&&R.targetChanges.get(k.targetId),H=R&&R.targetMismatches.get(k.targetId)!=null,X=k.view.applyChanges(A,O.isPrimaryClient,F,H);return fw(O,k.targetId,X.ba),X.snapshot}(n,v,E,P);const a=await iw(n.localStore,e,!0),u=new IM(e,a.Es),d=u.ga(a.documents),f=au.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=u.applyChanges(d,n.isPrimaryClient,f);fw(n,t,p.ba);const g=new CM(e,t,u);return n.xa.set(e,g),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),p.snapshot}async function kM(n,e,t){const r=be(n),s=r.xa.get(e),a=r.Oa.get(s.targetId);if(a.length>1)return r.Oa.set(s.targetId,a.filter(u=>!Kd(u,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Qp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Qm(r.remoteStore,s.targetId),Xp(r,s.targetId)}).catch(Ea)):(Xp(r,s.targetId),await Qp(r.localStore,s.targetId,!0))}async function NM(n,e){const t=be(n),r=t.xa.get(e),s=t.Oa.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Qm(t.remoteStore,r.targetId))}async function OM(n,e,t){const r=$M(n);try{const s=await function(u,d){const f=be(u),p=Tt.now(),g=d.reduce((P,S)=>P.add(S.key),Me());let v,E;return f.persistence.runTransaction("Locally write mutations","readwrite",P=>{let S=ai(),O=Me();return f.hs.getEntries(P,g).next(k=>{S=k,S.forEach((D,R)=>{R.isValidDocument()||(O=O.add(D))})}).next(()=>f.localDocuments.getOverlayedDocuments(P,S)).next(k=>{v=k;const D=[];for(const R of d){const A=QL(R,v.get(R.key).overlayedDocument);A!=null&&D.push(new qs(R.key,A,xT(A.value.mapValue),ni.exists(!0)))}return f.mutationQueue.addMutationBatch(P,p,D,d)}).next(k=>{E=k;const D=k.applyToLocalDocumentSet(v,O);return f.documentOverlayCache.saveOverlays(P,k.batchId,D)})}).then(()=>({batchId:E.batchId,changes:VT(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,d,f){let p=u.qa[u.currentUser.toKey()];p||(p=new ot(je)),p=p.insert(d,f),u.qa[u.currentUser.toKey()]=p}(r,s.batchId,t),await uu(r,s.changes),await tf(r.remoteStore)}catch(s){const a=eg(s,"Failed to persist write");t.reject(a)}}async function yS(n,e){const t=be(n);try{const r=await WD(t.localStore,e);e.targetChanges.forEach((s,a)=>{const u=t.La.get(a);u&&(He(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.Fa=!0:s.modifiedDocuments.size>0?He(u.Fa):s.removedDocuments.size>0&&(He(u.Fa),u.Fa=!1))}),await uu(t,r,e)}catch(r){await Ea(r)}}function dw(n,e,t){const r=be(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.xa.forEach((a,u)=>{const d=u.view.ea(e);d.snapshot&&s.push(d.snapshot)}),function(u,d){const f=be(u);f.onlineState=d;let p=!1;f.queries.forEach((g,v)=>{for(const E of v.J_)E.ea(d)&&(p=!0)}),p&&tg(f)}(r.eventManager,e),s.length&&r.Ma.R_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function LM(n,e,t){const r=be(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.La.get(e),a=s&&s.key;if(a){let u=new ot(Ie.comparator);u=u.insert(a,qt.newNoDocument(a,Ae.min()));const d=Me().add(a),f=new Jd(Ae.min(),new Map,new ot(je),u,d);await yS(r,f),r.Ba=r.Ba.remove(a),r.La.delete(e),ng(r)}else await Qp(r.localStore,e,!1).then(()=>Xp(r,e,t)).catch(Ea)}async function DM(n,e){const t=be(n),r=e.batch.batchId;try{const s=await HD(t.localStore,e);vS(t,r,null),_S(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await uu(t,s)}catch(s){await Ea(s)}}async function MM(n,e,t){const r=be(n);try{const s=await function(u,d){const f=be(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return f.mutationQueue.lookupMutationBatch(p,d).next(v=>(He(v!==null),g=v.keys(),f.mutationQueue.removeMutationBatch(p,v))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>f.localDocuments.getDocuments(p,g))})}(r.localStore,e);vS(r,e,t),_S(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await uu(r,s)}catch(s){await Ea(s)}}function _S(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function vS(n,e,t){const r=be(n);let s=r.qa[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.qa[r.currentUser.toKey()]=s}}function Xp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||wS(n,r)})}function wS(n,e){n.Na.delete(e.path.canonicalString());const t=n.Ba.get(e);t!==null&&(Qm(n.remoteStore,t),n.Ba=n.Ba.remove(e),n.La.delete(t),ng(n))}function fw(n,e,t){for(const r of t)r instanceof pS?(n.ka.addReference(r.key,e),VM(n,r)):r instanceof mS?(fe("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||wS(n,r.key)):Re()}function VM(n,e){const t=e.key,r=t.path.canonicalString();n.Ba.get(t)||n.Na.has(r)||(fe("SyncEngine","New document in limbo: "+t),n.Na.add(r),ng(n))}function ng(n){for(;n.Na.size>0&&n.Ba.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Ie(ut.fromString(e)),r=n.Ka.next();n.La.set(r,new PM(t)),n.Ba=n.Ba.insert(t,r),lS(n.remoteStore,new Bi(xr(zm(t.path)),r,"TargetPurposeLimboResolution",Hd.oe))}}async function uu(n,e,t){const r=be(n),s=[],a=[],u=[];r.xa.isEmpty()||(r.xa.forEach((d,f)=>{u.push(r.Ua(f,e,t).then(p=>{var g;if((p||t)&&r.isPrimaryClient){const v=p?!p.fromCache:(g=t==null?void 0:t.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(p){s.push(p);const v=Km.zi(f.targetId,p);a.push(v)}}))}),await Promise.all(u),r.Ma.R_(s),await async function(f,p){const g=be(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>Z.forEach(p,E=>Z.forEach(E.Wi,P=>g.persistence.referenceDelegate.addReference(v,E.targetId,P)).next(()=>Z.forEach(E.Gi,P=>g.persistence.referenceDelegate.removeReference(v,E.targetId,P)))))}catch(v){if(!Ta(v))throw v;fe("LocalStore","Failed to update sequence numbers: "+v)}for(const v of p){const E=v.targetId;if(!v.fromCache){const P=g.us.get(E),S=P.snapshotVersion,O=P.withLastLimboFreeSnapshotVersion(S);g.us=g.us.insert(E,O)}}}(r.localStore,a))}async function jM(n,e){const t=be(n);if(!t.currentUser.isEqual(e)){fe("SyncEngine","User change. New user:",e.toKey());const r=await iS(t.localStore,e);t.currentUser=e,function(a,u){a.Qa.forEach(d=>{d.forEach(f=>{f.reject(new Se(ie.CANCELLED,u))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await uu(t,r.Ts)}}function FM(n,e){const t=be(n),r=t.La.get(e);if(r&&r.Fa)return Me().add(r.key);{let s=Me();const a=t.Oa.get(e);if(!a)return s;for(const u of a){const d=t.xa.get(u);s=s.unionWith(d.view.fa)}return s}}function ES(n){const e=be(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=yS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LM.bind(null,e),e.Ma.R_=EM.bind(null,e.eventManager),e.Ma.Wa=TM.bind(null,e.eventManager),e}function $M(n){const e=be(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MM.bind(null,e),e}class xd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zd(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return BD(this.persistence,new zD,e.initialUser,this.serializer)}ja(e){return new rS(qm.ei,this.serializer)}za(e){return new YD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xd.provider={build:()=>new xd};class zM extends xd{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){He(this.persistence.referenceDelegate instanceof Cd);const r=this.persistence.referenceDelegate.garbageCollector;return new PD(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new rS(r=>Cd.ei(r,t),this.serializer)}}class Jp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=jM.bind(null,this.syncEngine),await gM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _M}()}createDatastore(e){const t=Zd(e.databaseInfo.databaseId),r=function(a){return new eM(a)}(e.databaseInfo);return function(a,u,d,f){return new rM(a,u,d,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,a,u,d){return new sM(r,s,a,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>dw(this.syncEngine,t,0),function(){return ow.p()?new ow:new XD}())}createSyncEngine(e,t){return function(s,a,u,d,f,p,g){const v=new xM(s,a,u,d,f,p);return g&&(v.$a=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=be(s);fe("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await lu(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Jp.provider={build:()=>new Jp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):oi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Gt.UNAUTHENTICATED,this.clientId=IT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{fe("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(fe("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=eg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function fp(n,e){n.asyncQueue.verifyOperationInProgress(),fe("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await iS(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function hw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await HM(n);fe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>aw(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>aw(e.remoteStore,s)),n._onlineComponents=e}async function HM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await fp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===ie.FAILED_PRECONDITION||s.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;sa("Error using user provided cache. Falling back to memory cache: "+t),await fp(n,new xd)}}else fe("FirestoreClient","Using default OfflineComponentProvider"),await fp(n,new zM(void 0));return n._offlineComponents}async function TS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(fe("FirestoreClient","Using user provided OnlineComponentProvider"),await hw(n,n._uninitializedComponentsProvider._online)):(fe("FirestoreClient","Using default OnlineComponentProvider"),await hw(n,new Jp))),n._onlineComponents}function WM(n){return TS(n).then(e=>e.syncEngine)}async function GM(n){const e=await TS(n),t=e.eventManager;return t.onListen=RM.bind(null,e.syncEngine),t.onUnlisten=kM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=AM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=NM.bind(null,e.syncEngine),t}function qM(n,e,t={}){const r=new Ki;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,d,f,p){const g=new UM({next:E=>{g.eu(),u.enqueueAndForget(()=>wM(a,v));const P=E.docs.has(d);!P&&E.fromCache?p.reject(new Se(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&E.fromCache&&f&&f.source==="server"?p.reject(new Se(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new SM(zm(d.path),g,{includeMetadataChanges:!0,ua:!0});return vM(a,v)}(await GM(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(n,e,t){if(!t)throw new Se(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function QM(n,e,t,r){if(e===!0&&r===!0)throw new Se(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function mw(n){if(!Ie.isDocumentKey(n))throw new Se(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function rg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Re()}function Yl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Se(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=rg(n);throw new Se(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Se(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Se(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Se(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Se(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ig{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tL;switch(r.type){case"firstParty":return new sL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=pw.get(t);r&&(fe("ComponentProvider","Removing Datastore"),pw.delete(t),r.terminate())}(this),Promise.resolve()}}function YM(n,e,t,r={}){var s;const a=(n=Yl(n,ig))._getSettings(),u=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&sa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),r.mockUserToken){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Gt.MOCK_USER;else{d=sx(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Se(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Gt(p)}n._authCredentials=new nL(new ST(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new sg(this.firestore,e,this._query)}}class Vn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vn(this.firestore,e,this._key)}}class Xl extends sg{constructor(e,t,r){super(e,t,zm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new Ie(e))}withConverter(e){return new Xl(this.firestore,e,this._path)}}function Zp(n,e,...t){if(n=Tn(n),arguments.length===1&&(e=IT.newId()),KM("doc","path",e),n instanceof ig){const r=ut.fromString(e,...t);return mw(r),new Vn(n,null,new Ie(r))}{if(!(n instanceof Vn||n instanceof Xl))throw new Se(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ut.fromString(e,...t));return mw(r),new Vn(n.firestore,n instanceof Xl?n.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new oS(this,"async_queue_retry"),this.fu=()=>{const r=dp();r&&fe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=dp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=dp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new Ki;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Ta(e))throw e;fe("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const s=function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),d}(r);throw oi("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const s=Zm.createAndSchedule(this,e,t,r,a=>this.Su(a));return this.Eu.push(s),s}pu(){this.Au&&Re()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}class og extends ig{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new yw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yw(e),this._firestoreClient=void 0,await e}}}function IS(n,e){const t=cE(),r="(default)",s=vm(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=rx("firestore");a&&YM(s,...a)}return s}function CS(n){if(n._terminated)throw new Se(ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||XM(n),n._firestoreClient}function XM(n){var e,t,r;const s=n._freezeSettings(),a=function(d,f,p,g){return new wL(d,f,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,SS(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new BM(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this._byteString=e}static fromBase64String(e){try{return new da(Ft.fromBase64String(e))}catch(t){throw new Se(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new da(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Se(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Se(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Se(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=/^__.*__$/;class ZM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new qs(e,this.data,this.fieldMask,t,this.fieldTransforms):new ou(e,this.data,t,this.fieldTransforms)}}function xS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class cg{constructor(e,t,r,s,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new cg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:r,Nu:!1});return s.Bu(e),s}Lu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:r,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Rd(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(xS(this.Mu)&&JM.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class e4{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Zd(e)}$u(e,t,r,s=!1){return new cg({Mu:e,methodName:t,Ku:r,path:jt.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function t4(n){const e=n._freezeSettings(),t=Zd(n._databaseId);return new e4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function n4(n,e,t,r,s,a={}){const u=n.$u(a.merge||a.mergeFields?2:0,e,t,s);kS("Data must be an object, but it was:",u,r);const d=AS(r,u);let f,p;if(a.merge)f=new or(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const g=[];for(const v of a.mergeFields){const E=r4(e,v,t);if(!u.contains(E))throw new Se(ie.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);s4(g,E)||g.push(E)}f=new or(g),p=u.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,p=u.fieldTransforms;return new ZM(new Mn(d),f,p)}function RS(n,e){if(bS(n=Tn(n)))return kS("Unsupported field value:",e,n),AS(n,e);if(n instanceof PS)return function(r,s){if(!xS(s.Mu))throw s.qu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,s){const a=[];let u=0;for(const d of r){let f=RS(d,s.ku(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,s){if((r=Tn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return BL(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Tt.fromDate(r);return{timestampValue:Id(s.serializer,a)}}if(r instanceof Tt){const a=new Tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Id(s.serializer,a)}}if(r instanceof lg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof da)return{bytesValue:YT(s.serializer,r._byteString)};if(r instanceof Vn){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.qu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Wm(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ug)return function(u,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(f=>{if(typeof f!="number")throw d.qu("VectorValues must only contain numeric values.");return Um(d.serializer,f)})}}}}}}(r,s);throw s.qu(`Unsupported field value: ${rg(r)}`)}(n,e)}function AS(n,e){const t={};return CT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ws(n,(r,s)=>{const a=RS(s,e.Ou(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function bS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Tt||n instanceof lg||n instanceof da||n instanceof Vn||n instanceof PS||n instanceof ug)}function kS(n,e,t){if(!bS(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=rg(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function r4(n,e,t){if((e=Tn(e))instanceof ag)return e._internalPath;if(typeof e=="string")return NS(n,e);throw Rd("Field path arguments must be of type string or ",n,!1,void 0,t)}const i4=new RegExp("[~\\*/\\[\\]]");function NS(n,e,t){if(e.search(i4)>=0)throw Rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ag(...e.split("."))._internalPath}catch{throw Rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Rd(n,e,t,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new Se(ie.INVALID_ARGUMENT,d+n+f)}function s4(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new o4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(LS("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class o4 extends OS{data(){return super.data()}}function LS(n,e){return typeof e=="string"?NS(n,e):e instanceof ag?e._internalPath:e._delegate._internalPath}class a4{convertValue(e,t="none"){switch(es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ws(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,s;const a=(s=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>ft(u.doubleValue));return new ug(a)}convertGeoPoint(e){return new lg(ft(e.latitude),ft(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Gd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Wl(e));default:return null}}convertTimestamp(e){const t=Ji(e);return new Tt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ut.fromString(e);He(nS(r));const s=new Gl(r.get(1),r.get(3)),a=new Ie(r.popFirst(5));return s.isEqual(t)||oi(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(n,e,t){let r;return r=n?t.merge||t.mergeFields?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class DS extends OS{constructor(e,t,r,s,a,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new c4(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(LS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class c4 extends DS{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(n){n=Yl(n,Vn);const e=Yl(n.firestore,og);return qM(CS(e),n._key).then(t=>p4(e,n,t))}class d4 extends a4{constructor(e){super(),this.firestore=e}convertBytes(e){return new da(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,t)}}function f4(n,e,t){n=Yl(n,Vn);const r=Yl(n.firestore,og),s=l4(n.converter,e,t);return h4(r,[n4(t4(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,ni.none())])}function h4(n,e){return function(r,s){const a=new Ki;return r.asyncQueue.enqueueAndForget(async()=>OM(await WM(r),s,a)),a.promise}(CS(n),e)}function p4(n,e,t){const r=t.docs.get(e._key),s=new d4(n);return new DS(n,s,e._key,r,new u4(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){wa=s})(ya),na(new js("firestore",(r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new og(new rL(r.getProvider("auth-internal")),new aL(r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Se(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gl(p.options.projectId,g)}(u,s),u);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),Gi(Dv,"4.7.6",e),Gi(Dv,"4.7.6","esm2017")})();const m4=async n=>{const e=IS(),t=Zp(e,"users",n);try{const r=await MS(t);return r.exists()?r.data():(console.error("Документ пользователя не найден!"),null)}catch(r){return console.error("Ошибка при извлечении данных:",r),null}};var hp={exports:{}},pp,_w;function g4(){if(_w)return pp;_w=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return pp=n,pp}var mp,vw;function y4(){if(vw)return mp;vw=1;var n=g4();function e(){}function t(){}return t.resetWarningCache=e,mp=function(){function r(u,d,f,p,g,v){if(v!==n){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},mp}var ww;function _4(){return ww||(ww=1,hp.exports=y4()()),hp.exports}var VS=_4();function dg(n){return e=>!!e.type&&e.type.tabsRole===n}const cu=dg("Tab"),nf=dg("TabList"),rf=dg("TabPanel");function v4(n){return cu(n)||nf(n)||rf(n)}function em(n,e){return U.Children.map(n,t=>t===null?null:v4(t)?e(t):t.props&&t.props.children&&typeof t.props.children=="object"?U.cloneElement(t,Object.assign({},t.props,{children:em(t.props.children,e)})):t)}function Ad(n,e){return U.Children.forEach(n,t=>{t!==null&&(cu(t)||rf(t)?e(t):t.props&&t.props.children&&typeof t.props.children=="object"&&(nf(t)&&e(t),Ad(t.props.children,e)))})}function jS(n,e,t){let r,s=0,a=0,u=!1;const d=[],f=n[e];return Ad(f,p=>{nf(p)&&(p.props&&p.props.children&&typeof p.props.children=="object"&&Ad(p.props.children,g=>d.push(g)),u&&(r=new Error("Found multiple 'TabList' components inside 'Tabs'. Only one is allowed.")),u=!0),cu(p)?((!u||d.indexOf(p)===-1)&&(r=new Error("Found a 'Tab' component outside of the 'TabList' component. 'Tab' components have to be inside the 'TabList' component.")),s++):rf(p)&&a++}),!r&&s!==a&&(r=new Error(`There should be an equal number of 'Tab' and 'TabPanel' in \`${t}\`. Received ${s} 'Tab' and ${a} 'TabPanel'.`)),r}function w4(n,e,t,r,s){const a=n[e],u=s||e;let d=null;return a&&typeof a!="function"?d=new Error(`Invalid ${r} \`${u}\` of type \`${typeof a}\` supplied to \`${t}\`, expected \`function\`.`):n.selectedIndex!=null&&a==null&&(d=new Error(`The ${r} \`${u}\` is marked as required in \`${t}\`, but its value is \`undefined\` or \`null\`.
\`onSelect\` is required when \`selectedIndex\` is also set. Not doing so will make the tabs not do anything, as \`selectedIndex\` indicates that you want to handle the selected tab yourself.
If you only want to set the inital tab replace \`selectedIndex\` with \`defaultIndex\`.`)),d}function E4(n,e,t,r,s){const a=n[e],u=s||e;let d=null;if(a!=null&&typeof a!="number")d=new Error(`Invalid ${r} \`${u}\` of type \`${typeof a}\` supplied to \`${t}\`, expected \`number\`.`);else if(n.defaultIndex!=null&&a!=null)return new Error(`The ${r} \`${u}\` cannot be used together with \`defaultIndex\` in \`${t}\`.
Either remove \`${u}\` to let \`${t}\` handle the selected tab internally or remove \`defaultIndex\` to handle it yourself.`);return d}function FS(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=FS(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function sf(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=FS(n))&&(r&&(r+=" "),r+=e);return r}function $S(n){let e=0;return Ad(n,t=>{cu(t)&&e++}),e}const T4=["children","className","disabledTabClassName","domRef","focus","forceRenderTabPanel","onSelect","selectedIndex","selectedTabClassName","selectedTabPanelClassName","environment","disableUpDownKeys","disableLeftRightKeys"];function S4(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}function zS(n){return n&&"getAttribute"in n}function Ew(n){return zS(n)&&n.getAttribute("data-rttab")}function Ns(n){return zS(n)&&n.getAttribute("aria-disabled")==="true"}let bd;function I4(n){const e=n||(typeof window<"u"?window:void 0);try{bd=!!(typeof e<"u"&&e.document&&e.document.activeElement)}catch{bd=!1}}const C4={className:"react-tabs",focus:!1},P4={children:jS},x4=n=>{VS.checkPropTypes(P4,n,"prop","UncontrolledTabs");let e=U.useRef([]),t=U.useRef([]);const r=U.useRef();function s(A,F){if(A<0||A>=p())return;const{onSelect:H,selectedIndex:X}=n;H(A,X,F)}function a(A){const F=p();for(let H=A+1;H<F;H++)if(!Ns(g(H)))return H;for(let H=0;H<A;H++)if(!Ns(g(H)))return H;return A}function u(A){let F=A;for(;F--;)if(!Ns(g(F)))return F;for(F=p();F-- >A;)if(!Ns(g(F)))return F;return A}function d(){const A=p();for(let F=0;F<A;F++)if(!Ns(g(F)))return F;return null}function f(){let A=p();for(;A--;)if(!Ns(g(A)))return A;return null}function p(){const{children:A}=n;return $S(A)}function g(A){return e.current[`tabs-${A}`]}function v(){let A=0;const{children:F,disabledTabClassName:H,focus:X,forceRenderTabPanel:M,selectedIndex:I,selectedTabClassName:x,selectedTabPanelClassName:L,environment:V}=n;t.current=t.current||[];let $=t.current.length-p();const N=U.useId();for(;$++<0;)t.current.push(`${N}${t.current.length}`);return em(F,ue=>{let _e=ue;if(nf(ue)){let ve=0,Pe=!1;bd==null&&I4(V);const re=V||(typeof window<"u"?window:void 0);bd&&re&&(Pe=Be.Children.toArray(ue.props.children).filter(cu).some((le,oe)=>re.document.activeElement===g(oe))),_e=U.cloneElement(ue,{children:em(ue.props.children,le=>{const oe=`tabs-${ve}`,W=I===ve,J={tabRef:ge=>{e.current[oe]=ge},id:t.current[ve],selected:W,focus:W&&(X||Pe)};return x&&(J.selectedClassName=x),H&&(J.disabledClassName=H),ve++,U.cloneElement(le,J)})})}else if(rf(ue)){const ve={id:t.current[A],selected:I===A};M&&(ve.forceRender=M),L&&(ve.selectedClassName=L),A++,_e=U.cloneElement(ue,ve)}return _e})}function E(A){const{direction:F,disableUpDownKeys:H,disableLeftRightKeys:X}=n;if(S(A.target)){let{selectedIndex:M}=n,I=!1,x=!1;(A.code==="Space"||A.keyCode===32||A.code==="Enter"||A.keyCode===13)&&(I=!0,x=!1,P(A)),!X&&(A.keyCode===37||A.code==="ArrowLeft")||!H&&(A.keyCode===38||A.code==="ArrowUp")?(F==="rtl"?M=a(M):M=u(M),I=!0,x=!0):!X&&(A.keyCode===39||A.code==="ArrowRight")||!H&&(A.keyCode===40||A.code==="ArrowDown")?(F==="rtl"?M=u(M):M=a(M),I=!0,x=!0):A.keyCode===35||A.code==="End"?(M=f(),I=!0,x=!0):(A.keyCode===36||A.code==="Home")&&(M=d(),I=!0,x=!0),I&&A.preventDefault(),x&&s(M,A)}}function P(A){let F=A.target;do if(S(F)){if(Ns(F))return;const H=[].slice.call(F.parentNode.children).filter(Ew).indexOf(F);s(H,A);return}while((F=F.parentNode)!=null)}function S(A){if(!Ew(A))return!1;let F=A.parentElement;do{if(F===r.current)return!0;if(F.getAttribute("data-rttabs"))break;F=F.parentElement}while(F);return!1}const O=Object.assign({},C4,n),{className:k,domRef:D}=O,R=S4(O,T4);return Be.createElement("div",Object.assign({},R,{className:sf(k),onClick:P,onKeyDown:E,ref:A=>{r.current=A,D&&D(A)},"data-rttabs":!0}),v())},R4=["children","defaultFocus","defaultIndex","focusTabOnClick","onSelect"];function A4(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}const b4=0,Xc=1,k4={children:jS,onSelect:w4,selectedIndex:E4},N4={defaultFocus:!1,focusTabOnClick:!0,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null,environment:null,disableUpDownKeys:!1,disableLeftRightKeys:!1},O4=n=>n.selectedIndex===null?Xc:b4,US=n=>{VS.checkPropTypes(k4,n,"prop","Tabs");const e=Object.assign({},N4,n),{children:t,defaultFocus:r,defaultIndex:s,focusTabOnClick:a,onSelect:u}=e,d=A4(e,R4),[f,p]=U.useState(r),[g]=U.useState(O4(d)),[v,E]=U.useState(g===Xc?s||0:null);if(U.useEffect(()=>{p(!1)},[]),g===Xc){const O=$S(t);U.useEffect(()=>{if(v!=null){const k=Math.max(0,O-1);E(Math.min(v,k))}},[O])}const P=(O,k,D)=>{typeof u=="function"&&u(O,k,D)===!1||(a&&p(!0),g===Xc&&E(O))};let S=Object.assign({},n,d);return S.focus=f,S.onSelect=P,v!=null&&(S.selectedIndex=v),delete S.defaultFocus,delete S.defaultIndex,delete S.focusTabOnClick,Be.createElement(x4,S,t)};US.tabsRole="Tabs";const L4=["children","className"];function D4(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}const M4={className:"react-tabs__tab-list"},BS=n=>{const e=Object.assign({},M4,n),{children:t,className:r}=e,s=D4(e,L4);return Be.createElement("ul",Object.assign({},s,{className:sf(r),role:"tablist"}),t)};BS.tabsRole="TabList";const V4=["children","className","disabled","disabledClassName","focus","id","selected","selectedClassName","tabIndex","tabRef"];function j4(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}const gp="react-tabs__tab",F4={className:gp,disabledClassName:`${gp}--disabled`,focus:!1,id:null,selected:!1,selectedClassName:`${gp}--selected`},tm=n=>{let e=U.useRef();const t=Object.assign({},F4,n),{children:r,className:s,disabled:a,disabledClassName:u,focus:d,id:f,selected:p,selectedClassName:g,tabIndex:v,tabRef:E}=t,P=j4(t,V4);return U.useEffect(()=>{p&&d&&e.current.focus()},[p,d]),Be.createElement("li",Object.assign({},P,{className:sf(s,{[g]:p,[u]:a}),ref:S=>{e.current=S,E&&E(S)},role:"tab",id:`tab${f}`,"aria-selected":p?"true":"false","aria-disabled":a?"true":"false","aria-controls":`panel${f}`,tabIndex:v||(p?"0":null),"data-rttab":!0}),r)};tm.tabsRole="Tab";const $4=["children","className","forceRender","id","selected","selectedClassName"];function z4(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}const Tw="react-tabs__tab-panel",U4={className:Tw,forceRender:!1,selectedClassName:`${Tw}--selected`},nm=n=>{const e=Object.assign({},U4,n),{children:t,className:r,forceRender:s,id:a,selected:u,selectedClassName:d}=e,f=z4(e,$4);return Be.createElement("div",Object.assign({},f,{className:sf(r,{[d]:u}),role:"tabpanel",id:`panel${a}`,"aria-labelledby":`tab${a}`}),s||u?t:null)};nm.tabsRole="TabPanel";const B4="_h1_1db1y_11",H4="_h2_1db1y_33",W4="_h3_1db1y_44",G4="_h4_1db1y_66",q4="_h5_1db1y_88",K4="_name_1db1y_88",Q4="_h6_1db1y_100",Y4="_total_1db1y_100",X4="_subtitle_1db1y_106",J4="_p_1db1y_111",Z4="_card_1db1y_121",eV="_image_1db1y_129",tV="_content_1db1y_140",Il={h1:B4,h2:H4,h3:W4,h4:G4,h5:q4,name:K4,h6:Q4,total:Y4,subtitle:X4,p:J4,card:Z4,image:eV,content:tV},nV=({author:n})=>{const e=Sn(),t=rt(r=>Bd(r,n.id));return C.jsxs("div",{className:Il.card,children:[C.jsx(Ge,{to:`/author-page/${n.id}`,className:Il.image,children:C.jsx("img",{src:n==null?void 0:n.user.profile_image.large,alt:""})}),C.jsxs("div",{className:Il.content,children:[C.jsx(Ge,{to:`/author-page/${n.id}`,className:Il.name,children:n.user.username}),C.jsxs("div",{className:Il.total,children:[n.user.total_photos," photos"]}),C.jsx("button",{onClick:()=>e(Dm(n)),type:"button",className:lt.follow,children:t?"unsubscribe":"subscribe"})]})]})},rV=()=>{const[n,e]=U.useState(null);U.useEffect(()=>{const v=ra().currentUser;if(v){const E=v.uid;m4(E).then(P=>{e(P)})}},[]);const{email:t}=rt(g=>g.user),{isAuth:r}=fm(),{images:s}=rt(g=>g.images),{authors:a}=rt(g=>g.authors),d=ra().currentUser,f=ma();if(!r)return f("/"),null;const p=[{name:"Home",link:"/"},{name:d&&d.displayName||t}];return C.jsxs(US,{children:[C.jsx(va,{items:p}),C.jsxs("div",{className:Dt.top,children:[C.jsx("div",{className:Dt.banner,children:C.jsx("img",{src:(n==null?void 0:n.customProperty)??"",alt:""})}),C.jsxs("div",{className:Dt.row,children:[d&&C.jsxs("div",{className:Dt.line,children:[C.jsxs("div",{className:Dt.avatar,children:[C.jsx("div",{className:Dt.image,children:C.jsx("img",{src:d.photoURL??"",alt:"User Profile"})}),C.jsxs("div",{className:Dt.block,children:[C.jsx("div",{className:Dt.name,children:d.displayName}),C.jsx("div",{className:Dt.email,children:t})]})]}),C.jsx(Ge,{className:Dt.editMob,to:"/profile-edit",children:C.jsx(vp,{size:16})})]}),C.jsxs(BS,{className:Dt.menu,children:[C.jsx(tm,{className:Dt.link,children:"Most liked posts"}),C.jsx(tm,{className:Dt.link,children:"Subscriptions"})]}),C.jsxs(Ge,{className:Dt.edit,to:"/profile-edit",children:[C.jsx(vp,{size:16}),"Edit Profile"]})]})]}),C.jsxs("div",{className:Dt.content,children:[C.jsx(nm,{className:Dt.list,children:s.filter(g=>g.likes>=50).map((g,v)=>C.jsx(Ud,{card:g},v))}),C.jsx(nm,{children:a.length>0?C.jsx("div",{className:Dt.list,children:a.map((g,v)=>C.jsx(nV,{author:g},v))}):C.jsx("div",{children:"nothing in subscriptions!"})})]})]})},iV="_body_cfd13_11",sV="_list_cfd13_16",oV="_item_cfd13_37",aV="_input_cfd13_43",lV="_error_cfd13_89",uV="_button_cfd13_106",nr={body:iV,list:sV,item:oV,input:aV,error:lV,button:uV};function cV(n){return dn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.5 1.5A1.5 1.5 0 0 1 10 0h4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h6c-.314.418-.5.937-.5 1.5v7.793L4.854 6.646a.5.5 0 1 0-.708.708l3.5 3.5a.5.5 0 0 0 .708 0l3.5-3.5a.5.5 0 0 0-.708-.708L8.5 9.293z"},child:[]}]})(n)}const dV=()=>{const e=ra().currentUser,t=IS(),r=Sn(),[s,a]=U.useState(e&&e.displayName?e.displayName:""),[u,d]=U.useState(e&&e.photoURL?e.photoURL:""),[f,p]=U.useState(e&&e.email?e.email:""),[g,v]=U.useState(""),{isAuth:E}=fm(),P=ma();if(U.useEffect(()=>{if(e&&e.uid){const k=Zp(t,"users",e.uid);MS(k).then(D=>{if(D.exists()){const R=D.data();v(R.customProperty||"")}else console.log("Документа для пользователя нет")}).catch(D=>console.error("Ошибка получения данных пользователя из Firestore:",D))}},[e]),U.useEffect(()=>{E||P("/")},[E,P]),!E)return null;const S=()=>{e&&AA(e,{displayName:s,photoURL:u}).then(()=>(console.log("Профиль успешно обновлен"),bA(e,f))).then(()=>{console.log("Успешно обновлен email"),r(Sr.modalOpen("Successfully added!"));const k=e.uid;f4(Zp(t,"users",k),{customProperty:`${g}`},{merge:!0}).then(()=>{console.log("Дополнительное свойство успешно обновлено в Firestore")}).catch(D=>{console.error("Ошибка при обновлении дополнительного свойства!",D)})}).catch(k=>{console.error("Ошибка при обновлении!",k)})},O=[{name:"Home",link:"/"},{name:"Profile edit"}];return C.jsxs("div",{children:[C.jsx(va,{items:O}),C.jsxs("div",{className:nr.body,children:[C.jsxs("div",{className:nr.list,children:[C.jsxs("div",{className:nr.item,children:[C.jsx("span",{className:tt.h5,children:"User name"}),C.jsx("div",{className:nr.input,children:C.jsx("input",{type:"text",value:s,onChange:k=>a(k.target.value),placeholder:"User name"})})]}),C.jsxs("div",{className:nr.item,children:[C.jsx("span",{className:tt.h5,children:"Add image"}),C.jsx("div",{className:nr.input,children:C.jsx("input",{type:"text",value:u,onChange:k=>d(k.target.value),placeholder:"photoURL"})})]}),C.jsxs("div",{className:nr.item,children:[C.jsx("span",{className:tt.h5,children:"Email"}),C.jsx("div",{className:nr.input,children:C.jsx("input",{type:"text",value:f,onChange:k=>p(k.target.value),placeholder:"email"})})]}),C.jsxs("div",{className:nr.item,children:[C.jsx("span",{className:tt.h5,children:"Image for banner"}),C.jsx("div",{className:nr.input,children:C.jsx("input",{type:"text",value:g,onChange:k=>v(k.target.value),placeholder:"image banner"})})]})]}),C.jsxs("button",{className:nr.button,onClick:S,children:[C.jsx(cV,{}),"save"]})]})]})},Jc=eE("albums/fetchAlbums",async(n,{rejectWithValue:e})=>{try{return{data:await(await fetch(`https://jsonplaceholder.typicode.com/albums?_limit=15&_page=${n}`)).json(),error:null}}catch(t){return t instanceof Error?e(t.message):e("Неизвестная ошибка")}}),fV="_h1_1n9oy_11",hV="_h2_1n9oy_33",pV="_h3_1n9oy_44",mV="_card_1n9oy_44",gV="_h4_1n9oy_66",yV="_loading_1n9oy_66",_V="_h5_1n9oy_88",vV="_h6_1n9oy_100",wV="_subtitle_1n9oy_106",EV="_p_1n9oy_111",TV="_list_1n9oy_121",jc={h1:fV,h2:hV,h3:pV,card:mV,h4:gV,loading:yV,h5:_V,h6:vV,subtitle:wV,p:EV,list:TV},SV=()=>{const{albums:n,loading:e}=rt(p=>p.albums),[t,r]=U.useState(1),[s,a]=U.useState(!1),u=Sn(),d=[{name:"Home",link:"/"},{name:"albums"}],f=()=>{document.documentElement&&document.documentElement.scrollHeight-(document.documentElement.scrollTop+window.innerHeight)<10&&!s&&a(!0)};return U.useEffect(()=>{s||a(!0)},[]),U.useEffect(()=>{s&&setTimeout(()=>{u(Jc(t)).then(()=>{r(p=>p+1)}).finally(()=>{a(!1)})},1e3)},[s]),U.useEffect(()=>(window.addEventListener("scroll",f),()=>window.removeEventListener("scroll",f)),[]),C.jsxs("div",{className:jc.body,children:[C.jsx(va,{items:d}),C.jsx("div",{className:jc.list,children:n.map((p,g)=>C.jsxs("div",{className:jc.card,children:[C.jsxs("div",{children:["id: ",p.id]}),p.title]},g))}),(s||e)&&C.jsx("div",{className:jc.loading,children:"loading..."})]})},IV="_h1_1dpm0_11",CV="_h2_1dpm0_33",PV="_name_1dpm0_33",xV="_h3_1dpm0_44",RV="_item_1dpm0_44",AV="_h4_1dpm0_66",bV="_h5_1dpm0_88",kV="_location_1dpm0_88",NV="_h6_1dpm0_100",OV="_subtitle_1dpm0_106",LV="_p_1dpm0_111",DV="_bio_1dpm0_111",MV="_main_1dpm0_121",VV="_top_1dpm0_134",jV="_image_1dpm0_144",FV="_content_1dpm0_165",$V="_statistic_1dpm0_183",zV="_link_1dpm0_217",UV="_follow_1dpm0_236",Wt={h1:IV,h2:CV,name:PV,h3:xV,item:RV,h4:AV,h5:bV,location:kV,h6:NV,subtitle:OV,p:LV,bio:DV,main:MV,top:VV,image:jV,content:FV,statistic:$V,link:zV,follow:UV};function BV(n){return dn({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M515.664-.368C305.76-.368 128 178.4 128 390.176c0 221.76 206.032 448.544 344.624 607.936.528.64 22.929 25.52 50.528 25.52h2.449c27.6 0 49.84-24.88 50.399-25.52 130.064-149.52 320-396.048 320-607.936C896 178.4 757.344-.368 515.664-.368zm12.832 955.552c-1.12 1.12-2.753 2.369-4.193 3.409-1.472-1.008-3.072-2.288-4.255-3.408l-16.737-19.248C371.92 785.2 192 578.785 192 390.176c0-177.008 148.224-326.56 323.664-326.56 218.528 0 316.336 164 316.336 326.56 0 143.184-102.128 333.296-303.504 565.008zm-15.377-761.776c-106.032 0-192 85.968-192 192s85.968 192 192 192 192-85.968 192-192-85.968-192-192-192zm0 320c-70.576 0-129.473-58.816-129.473-129.408 0-70.576 57.424-128 128-128 70.624 0 128 57.424 128 128 .032 70.592-55.903 129.408-126.527 129.408z"},child:[]}]})(n)}const HV=()=>{const{images:n}=rt(u=>u.images),{id:e}=bw(),t=n.find(u=>u.id===e),r=[{name:"Home",link:"/"},{name:t?`${t.user.first_name}`:""}],s=Sn(),a=rt(u=>Bd(u,t.id));return C.jsxs("div",{children:[C.jsx(va,{items:r}),C.jsxs("div",{className:Wt.main,children:[C.jsxs("div",{className:Wt.top,children:[C.jsx("div",{className:Wt.image,children:C.jsx("img",{src:t==null?void 0:t.user.profile_image.large,alt:""})}),C.jsxs("div",{className:Wt.content,children:[C.jsx("div",{className:Wt.name,children:t==null?void 0:t.user.name}),C.jsxs("div",{className:Wt.location,children:[C.jsx(BV,{size:"20px"}),t==null?void 0:t.user.location]}),C.jsx("div",{className:Wt.bio,children:t==null?void 0:t.user.bio}),C.jsx("button",{onClick:()=>s(Dm(t)),type:"button",className:Wt.follow,children:a?"unsubscribe":"subscribe"})]})]}),C.jsxs("ul",{className:Wt.statistic,children:[C.jsxs("div",{className:Wt.item,children:[C.jsx("span",{children:"collections"}),t==null?void 0:t.user.total_collections]}),C.jsxs("div",{className:Wt.item,children:[C.jsx("span",{children:"illustrations"}),t==null?void 0:t.user.total_illustrations]}),C.jsxs("div",{className:Wt.item,children:[C.jsx("span",{children:"likes"}),t==null?void 0:t.user.total_likes]}),C.jsxs("div",{className:Wt.item,children:[C.jsx("span",{children:"photos"}),t==null?void 0:t.user.total_photos]}),C.jsxs("div",{className:Wt.item,children:[C.jsx("span",{children:"promoted illustrations"}),t==null?void 0:t.user.total_promoted_illustrations]}),C.jsxs("div",{className:Wt.item,children:[C.jsx("span",{children:"promoted photos"}),t==null?void 0:t.user.total_promoted_photos]})]}),C.jsx("a",{href:t==null?void 0:t.user.links.html,className:Wt.link,children:"account"})]})]})};function WV(){const n=Sn(),e=rt(t=>t.modal.isOpen);return U.useEffect(()=>{if(e){const t=setTimeout(()=>{n(Sr.modalClosed())},2e3);return()=>clearTimeout(t)}},[e,n]),C.jsx(wI,{basename:"/gallery-website",children:C.jsxs(Y1,{children:[C.jsxs(un,{element:C.jsx(Yb,{}),children:[C.jsx(un,{path:"/",element:C.jsx(K1,{to:"/main"})}),C.jsx(un,{path:"/main",element:C.jsx(SN,{})})]}),C.jsxs(un,{element:C.jsx(qN,{}),children:[C.jsx(un,{path:"/favorites",element:C.jsx(GN,{})}),C.jsx(un,{path:"card/:id",element:C.jsx(xO,{})}),C.jsx(un,{path:"user-page/:id",element:C.jsx(rV,{})}),C.jsx(un,{path:"/profile-edit",element:C.jsx(dV,{})}),C.jsx(un,{path:"/albums",element:C.jsx(SV,{})}),C.jsx(un,{path:"author-page/:id",element:C.jsx(HV,{})})]}),C.jsxs(un,{element:C.jsx(FO,{}),children:[C.jsx(un,{path:"/login",element:C.jsx(MO,{})}),C.jsx(un,{path:"/register",element:C.jsx(jO,{})})]})]})})}const GV={images:[],loading:!1,error:null},qV=ga({name:"images",initialState:GV,reducers:{},extraReducers:n=>{n.addCase(Jo.pending,e=>{e.loading=!0}).addCase(Jo.fulfilled,(e,t)=>{e.images=t.payload,e.loading=!1}).addCase(Jo.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),KV={albums:[],loading:!1,error:null},QV=ga({name:"albums",initialState:KV,reducers:{},extraReducers:n=>{n.addCase(Jc.pending,e=>{e.loading=!0}).addCase(Jc.fulfilled,(e,t)=>{t.payload.data&&(e.albums=[...e.albums,...t.payload.data]),e.loading=!1}).addCase(Jc.rejected,(e,t)=>{const r=t.payload;e.loading=!1,e.error=r})}}),YV=Bw({images:qV.reducer,albums:QV.reducer,favorites:G2,user:FP,modal:Q2,authors:PO}),XV=yP({reducer:YV});var JV="firebase",ZV="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gi(JV,ZV,"app");const e3={apiKey:"AIzaSyA67CbgNjAM15Ff56vlUNVompRxbuOd4RM",authDomain:"gallery-website-ffdba.firebaseapp.com",projectId:"gallery-website-ffdba",storageBucket:"gallery-website-ffdba.firebasestorage.app",messagingSenderId:"1041668468411",appId:"1:1041668468411:web:2290e417a1715bd29c039e"};uE(e3);r1.createRoot(document.getElementById("root")).render(C.jsx(U.StrictMode,{children:C.jsx(zC,{store:XV,children:C.jsx(WV,{})})}));
